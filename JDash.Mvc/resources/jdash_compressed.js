//>>built
(function(d,l){var k,m,h=function(){},c=function(a){for(var b in a)return 0;return 1},e={}.toString,g=function(a){return"[object Function]"==e.call(a)},b=function(a){return"[object String]"==e.call(a)},a=function(a){return"[object Array]"==e.call(a)},n=function(a,b){if(a)for(var f=0;f<a.length;)b(a[f++])},f=function(a,b){for(var f in b)a[f]=b[f];return a},p=function(a,b){return f(Error(a),{src:"dojoLoader",info:b})},s=1,r=function(){return"_"+s++},q=function(a,b,f){return Ca(a,b,f,0,q)},w=this,u=
w.document,y=u&&u.createElement("DiV"),v=q.has=function(a){return g(t[a])?t[a]=t[a](w,u,y):t[a]},t=v.cache=l.hasCache;v.add=function(a,b,f,c){(void 0===t[a]||c)&&(t[a]=b);return f&&v(a)};for(var x in d.has)v.add(x,d.has[x],0,1);q.async=1;var A=new Function("return eval(arguments[0]);");q.eval=function(a,b){return A(a+"\r\n////@ sourceURL\x3d"+b)};var E={},F=q.signal=function(b,f){var c=E[b];n(c&&c.slice(0),function(b){b.apply(null,a(f)?f:[f])})},R=q.on=function(a,b){var f=E[a]||(E[a]=[]);f.push(b);
return{remove:function(){for(var a=0;a<f.length;a++)if(f[a]===b){f.splice(a,1);break}}}},L=[],M={},T=[],S={},C=q.map={},H=[],I={},z="",B={},D={},U={},P=0,G=function(a){var b,f,c,e;for(b in D)f=D[b],(c=b.match(/^url\:(.+)/))?B["url:"+Da(c[1],a)]=f:"*now"==b?e=f:"*noref"!=b&&(c=ea(b,a,!0),B[c.mid]=B["url:"+c.url]=f);e&&e(pa(a));D={}},J=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},N=function(a,b){b.splice(0,b.length);for(var f in a)b.push([f,a[f],RegExp("^"+
J(f)+"(/|$)"),f.length]);b.sort(function(a,b){return b[3]-a[3]});return b},O=function(a,f){n(a,function(a){f.push([b(a[0])?RegExp("^"+J(a[0])+"$"):a[0],a[1]])})},K=function(a){var b=a.name;b||(b=a,a={name:b});a=f({main:"main"},a);a.location=a.location?a.location:b;a.packageMap&&(C[b]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));S[b]=a},Q=[],W=function(a,c,e){for(var g in a){"waitSeconds"==g&&(q.waitms=1E3*(a[g]||0));"cacheBust"==g&&(z=a[g]?b(a[g])?a[g]:(new Date).getTime()+"":
"");if("baseUrl"==g||"combo"==g)q[g]=a[g];a[g]!==t&&(q.rawConfig[g]=a[g],"has"!=g&&v.add("config-"+g,a[g],0,c))}q.baseUrl||(q.baseUrl="./");/\/$/.test(q.baseUrl)||(q.baseUrl+="/");for(g in a.has)v.add(g,a.has[g],0,c);n(a.packages,K);for(m in a.packagePaths)n(a.packagePaths[m],function(a){var f=m+"/"+a;b(a)&&(a={name:a});a.location=f;K(a)});N(f(C,a.map),H);n(H,function(a){a[1]=N(a[1],[]);"*"==a[0]&&(H.star=a)});N(f(M,a.paths),T);O(a.aliases,L);if(c)Q.push({config:a.config});else for(g in a.config)c=
Z(g,e),c.config=f(c.config||{},a.config[g]);a.cache&&(G(),D=a.cache,a.cache["*noref"]&&G());F("config",[a,q.rawConfig])};v("dojo-cdn");var fa=u.getElementsByTagName("script");k=0;for(var X,aa,ga,ca;k<fa.length;){X=fa[k++];if((ga=X.getAttribute("src"))&&(ca=ga.match(/(((.*)\/)|^)dojo\.js(\W|$)/i)))aa=ca[3]||"",l.baseUrl=l.baseUrl||aa,P=X;if(ga=X.getAttribute("data-dojo-config")||X.getAttribute("djConfig"))U=q.eval("({ "+ga+" })","data-dojo-config"),P=X}q.rawConfig={};W(l,1);v("dojo-cdn")&&((S.dojo.location=
aa)&&(aa+="/"),S.dijit.location=aa+"../dijit/",S.dojox.location=aa+"../dojox/");W(d,1);W(U,1);var ha=function(a){qa(function(){n(a.deps,Ea)})},Ca=function(c,e,g,n,d){var k;if(b(c)){if((k=Z(c,n,!0))&&k.executed)return k.result;throw p("undefinedModule",c);}a(c)||(W(c,0,n),c=e,e=g);if(a(c))if(c.length){g="require*"+r();for(var s,w=[],y=0;y<c.length;)s=c[y++],w.push(Z(s,n));k=f(ia("",g,0,""),{injected:2,deps:w,def:e||h,require:n?n.require:q,gc:1});I[k.mid]=k;ha(k);var m=da&&0!="sync";qa(function(){ra(k,
m)});k.executed||Y.push(k);ja()}else e&&e();return d},pa=function(a){if(!a)return q;var b=a.require;b||(b=function(f,c,e){return Ca(f,c,e,a,b)},a.require=f(b,q),b.module=a,b.toUrl=function(b){return Da(b,a)},b.toAbsMid=function(b){return sa(b,a)});return b},Y=[],ka=[],V={},Qa=function(a){a.injected=1;V[a.mid]=1;a.url&&(V[a.url]=a.pack||1);Fa()},ma=function(a){a.injected=2;delete V[a.mid];a.url&&delete V[a.url];c(V)&&la()},Ra=q.idle=function(){return!ka.length&&c(V)&&!Y.length&&!da},ta=function(a,
b){if(b)for(var f=0;f<b.length;f++)if(b[f][2].test(a))return b[f];return 0},Ga=function(a){var b=[],f,c;for(a=a.replace(/\\/g,"/").split("/");a.length;)f=a.shift(),".."==f&&b.length&&".."!=c?(b.pop(),c=b[b.length-1]):"."!=f&&b.push(c=f);return b.join("/")},ia=function(a,b,f,c){return{pid:a,mid:b,pack:f,url:c,executed:0,def:0}},Ha=function(a,b,f,c,e,d,h,k,s){var w,y,m,A;A=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||A&&!b)return ia(0,a,0,a);a=Ga(A?b.mid+"/../"+a:a);if(/^\./.test(a))throw p("irrationalPath",
a);b&&(m=ta(b.mid,d));(m=(m=m||d.star)&&ta(a,m[1]))&&(a=m[1]+a.substring(m[3]));b=(ca=a.match(/^([^\/]+)(\/(.+))?$/))?ca[1]:"";(w=f[b])?a=b+"/"+(y=ca[3]||w.main):b="";var r=0;n(k,function(b){var f=a.match(b[0]);f&&0<f.length&&(r=g(b[1])?a.replace(b[0],b[1]):b[1])});if(r)return Ha(r,0,f,c,e,d,h,k,s);if(f=c[a])return s?ia(f.pid,f.mid,f.pack,f.url):c[a];c=(m=ta(a,h))?m[1]+a.substring(m[3]):b?w.location+"/"+y:v("config-tlmSiblingOfDojo")?"../"+a:a;/(^\/)|(\:)/.test(c)||(c=e+c);return ia(b,a,w,Ga(c+".js"))},
ea=function(a,b,f){return Ha(a,b,S,I,q.baseUrl,f?[]:H,f?[]:T,f?[]:L)},Ia=function(a,b,f){return a.normalize?a.normalize(b,function(a){return sa(a,f)}):sa(b,f)},Ja=0,Z=function(a,b,f){var c,e;(c=a.match(/^(.+?)\!(.*)$/))?(e=Z(c[1],b,f),5===e.executed&&!e.load&&ua(e),e.load?(c=Ia(e,c[2],b),a=e.mid+"!"+(e.dynamic?++Ja+"!":"")+c):(c=c[2],a=e.mid+"!"+ ++Ja+"!waitingForPlugin"),a={plugin:e,mid:a,req:pa(b),prid:c}):a=ea(a,b);return I[a.mid]||!f&&(I[a.mid]=a)},sa=q.toAbsMid=function(a,b){return ea(a,b).mid},
Da=q.toUrl=function(a,b){var f=ea(a+"/x",b),c=f.url;return Ka(0===f.pid?a:c.substring(0,c.length-5))},La={injected:2,executed:5,def:3,result:3},va=function(a){return I[a]=f({mid:a},La)},Sa=va("require"),Ta=va("exports"),Ua=va("module"),na={},wa=0,ua=function(a){var b=a.result;a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},Va=function(a){var b={};n(a.loadQ,function(c){var e=Ia(a,c.prid,c.req.module),g=a.dynamic?c.mid.replace(/waitingForPlugin$/,e):a.mid+"!"+e,e=f(f({},c),{mid:g,
prid:e,injected:0});I[g]||Ma(I[g]=e);b[c.mid]=I[g];ma(c);delete I[c.mid]});a.loadQ=0;var c=function(a){for(var f=a.deps||[],c=0;c<f.length;c++)(a=b[f[c].mid])&&(f[c]=a)},e;for(e in I)c(I[e]);n(Y,c)},xa=function(a){q.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=wa++;a.loadQ&&(ua(a),Va(a));for(k=0;k<Y.length;)Y[k]===a?Y.splice(k,1):k++;/^require\*/.test(a.mid)&&delete I[a.mid]},Wa=[],ra=function(a,b){if(4===a.executed)return q.trace("loader-circular-dependency",[Wa.concat(a.mid).join("-\x3e")]),
!a.def||b?na:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return na;var f=a.mid,c=a.deps||[],e,n=[],d=0;for(a.executed=4;e=c[d++];){e=e===Sa?pa(a):e===Ta?a.cjs.exports:e===Ua?a.cjs:ra(e,b);if(e===na)return a.executed=0,q.trace("loader-exec-module",["abort",f]),na;n.push(e)}q.trace("loader-run-factory",[a.mid]);var f=a.def,h;if(v("config-dojo-loader-catches"))try{h=g(f)?f.apply(null,n):f}catch(k){F("error",a.result=p("factoryThrew",[a,k]))}else h=g(f)?f.apply(null,n):f;a.result=void 0===h&&a.cjs?
a.cjs.exports:h;xa(a)}return a.result},da=0,qa=function(a){try{da++,a()}finally{da--}Ra()&&F("idle",[])},ja=function(){da||qa(function(){for(var a,b,f=0;f<Y.length;)a=wa,b=Y[f],ra(b),a!=wa?f=0:f++})};void 0===v("dojo-loader-eval-hint-url")&&v.add("dojo-loader-eval-hint-url",1);var Ka=function(a){a+="";return a+(z?(/\?/.test(a)?"\x26":"?")+z:"")},Ma=function(a){var b=a.plugin;5===b.executed&&!b.load&&ua(b);var f=function(b){a.result=b;ma(a);xa(a);ja()};b.load?b.load(a.prid,a.req,f):b.loadQ?b.loadQ.push(a):
(b.loadQ=[a],Y.unshift(b),Ea(b))},ba=0,ya=0,za=0,Xa=function(a,b){v("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));za=1;if(v("config-dojo-loader-catches"))try{a===ba?ba.call(null):q.eval(a,v("dojo-loader-eval-hint-url")?b.url:b.mid)}catch(f){F("error",p("evalModuleThrew",b))}else a===ba?ba.call(null):q.eval(a,v("dojo-loader-eval-hint-url")?b.url:b.mid);za=0},Ea=function(a){var b=a.mid,c=a.url;if(!a.executed&&!a.injected&&!(V[b]||a.url&&(a.pack&&V[a.url]===a.pack||1==V[a.url])))if(Qa(a),
a.plugin)Ma(a);else{var e=function(){Ya(a);if(2!==a.injected){if(v("dojo-enforceDefine")){F("error",p("noDefine",a));return}ma(a);f(a,La);q.trace("loader-define-nonmodule",[a.url])}ja()};(ba=B[b]||B["url:"+a.url])?(q.trace("loader-inject",["cache",a.mid,c]),Xa(ba,a),e()):(q.trace("loader-inject",["script",a.mid,c]),ya=a,q.injectUrl(Ka(c),e,a),ya=0)}},Aa=function(a,b,c){q.trace("loader-define-module",[a.mid,b]);if(2===a.injected)return F("error",p("multipleDefine",a)),a;f(a,{deps:b,def:c,cjs:{id:a.mid,
uri:a.url,exports:a.result={},setExports:function(b){a.cjs.exports=b},config:function(){return a.config}}});for(var e=0;b[e];e++)b[e]=Z(b[e],a);ma(a);!g(c)&&!b.length&&(a.result=c,xa(a));return a},Ya=function(a,b){for(var f=[],c,e;ka.length;)e=ka.shift(),b&&(e[0]=b.shift()),c=e[0]&&Z(e[0])||a,f.push([c,e[1],e[2]]);G(a);n(f,function(a){ha(Aa.apply(null,a))})},oa=0,la=h,Fa=h,la=function(){oa&&clearTimeout(oa);oa=0},Fa=function(){la();q.waitms&&(oa=window.setTimeout(function(){la();F("error",p("timeout",
V))},q.waitms))};v.add("ie-event-behavior",u.attachEvent&&"undefined"===typeof Windows&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var Ba=function(a,b,f,c){if(v("ie-event-behavior"))return a.attachEvent(f,c),function(){a.detachEvent(f,c)};a.addEventListener(b,c,!1);return function(){a.removeEventListener(b,c,!1)}},Za=Ba(window,"load","onload",function(){q.pageLoaded=1;"complete"!=u.readyState&&(u.readyState="complete");Za()}),fa=u.getElementsByTagName("script");for(k=0;!P;)if(!/^dojo/.test((X=
fa[k++])&&X.type))P=X;q.injectUrl=function(a,b,f){f=f.node=u.createElement("script");var c=Ba(f,"load","onreadystatechange",function(a){a=a||window.event;var f=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(f.readyState))c(),e(),b&&b()}),e=Ba(f,"error","onerror",function(b){c();e();F("error",p("scriptError",[a,b]))});f.type="text/javascript";f.charset="utf-8";f.src=a;P.parentNode.insertBefore(f,P);return f};q.log=h;q.trace=h;var Na=function(a,f,c){var e=arguments.length,n=["require",
"exports","module"],h=[0,a,f];1==e?h=[0,g(a)?n:[],a]:2==e&&b(a)?h=[a,g(f)?n:[],f]:3==e&&(h=[a,f,c]);q.trace("loader-define",h.slice(0,2));if((e=h[0]&&Z(h[0]))&&!V[e.mid])ha(Aa(e,h[1],h[2]));else if(!v("ie-event-behavior")||za)ka.push(h);else{e=e||ya;if(!e)for(a in V)if((n=I[a])&&n.node&&"interactive"===n.node.readyState){e=n;break}e?(G(e),ha(Aa(e,h[1],h[2]))):F("error",p("ieDefineFailed",h[0]));ja()}};Na.amd={vendor:"dojotoolkit.org"};f(f(q,l.loaderPatch),d.loaderPatch);R("error",function(a){try{if(console.error(a),
a instanceof Error)for(var b in a);}catch(f){}});f(q,{uid:r,cache:B,packs:S});if(!w.define){w.define=Na;w.require=q;n(Q,function(a){W(a)});var Oa=U.deps||d.deps||l.deps,Pa=U.callback||d.callback||l.callback;q.boot=Oa||Pa?[Oa||[],Pa]:0}})(this.dojoConfig||this.djConfig||this.require||{},{async:1,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:"../klt",name:"klt"},{location:"../jdash",name:"jdash"},{location:".",
name:"dojo"}]});
require({cache:{"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(d,l,k,m,h,c,e,g,b){var a=k.mixin,n={},f=n._Line=function(a,b){this.start=a;this.end=b};f.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var p=n.Animation=function(b){a(this,b);k.isArray(this.curve)&&(this.curve=new f(this.curve[0],this.curve[1]))};p.prototype=new m;k.extend(p,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,
_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var f=b||[];if(this[a])if(l.debugAtAllCosts)this[a].apply(this,f);else try{this[a].apply(this,f)}catch(c){console.error("exception in animation handler for:",a),console.error(c)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var f=a||
this.delay,c=k.hitch(this,"_play",b);if(0<f)return this._delayTimer=setTimeout(c,f),this;c();return this},_play:function(a){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&
this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){return this._active?
this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=
0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var s=0,r=null,q={run:function(){}};k.extend(p,{_startTimer:function(){this._timer||(this._timer=c.after(q,"run",k.hitch(this,"_cycle"),!0),s++);r||(r=setInterval(k.hitch(q,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,s--);0>=s&&(clearInterval(r),r=null,s=0)}});var w=e("ie")?function(a){var f=
a.style;!f.width.length&&"auto"==b.get(a,"width")&&(f.width="auto")}:function(){};n._fade=function(f){f.node=g.byId(f.node);var e=a({properties:{}},f);f=e.properties.opacity={};f.start=!("start"in e)?function(){return+b.get(e.node,"opacity")||0}:e.start;f.end=e.end;f=n.animateProperty(e);c.after(f,"beforeBegin",k.partial(w,e.node),!0);return f};n.fadeIn=function(b){return n._fade(a({end:1},b))};n.fadeOut=function(b){return n._fade(a({end:0},b))};n._defaultEasing=function(a){return 0.5+Math.sin((a+
1.5)*Math.PI)/2};var u=function(a){this._properties=a;for(var b in a){var f=a[b];f.start instanceof h&&(f.tempColor=new h)}};u.prototype.getValue=function(a){var b={},f;for(f in this._properties){var c=this._properties[f],e=c.start;e instanceof h?b[f]=h.blendColors(e,c.end,a,c.tempColor).toCss():k.isArray(e)||(b[f]=(c.end-e)*a+e+("opacity"!=f?c.units||"px":0))}return b};n.animateProperty=function(f){var e=f.node=g.byId(f.node);f.easing||(f.easing=d._defaultEasing);f=new p(f);c.after(f,"beforeBegin",
k.hitch(f,function(){var f={},c;for(c in this.properties){if("width"==c||"height"==c)this.node.display="block";var g=this.properties[c];k.isFunction(g)&&(g=g(e));g=f[c]=a({},k.isObject(g)?g:{end:g});k.isFunction(g.start)&&(g.start=g.start(e));k.isFunction(g.end)&&(g.end=g.end(e));var n=0<=c.toLowerCase().indexOf("color"),p=function(a,f){var c={height:a.offsetHeight,width:a.offsetWidth}[f];if(void 0!==c)return c;c=b.get(a,f);return"opacity"==f?+c:n?c:parseFloat(c)};"end"in g?"start"in g||(g.start=
p(e,c)):g.end=p(e,c);n?(g.start=new h(g.start),g.end=new h(g.end)):g.start="opacity"==c?+g.start:parseFloat(g.start)}this.curve=new u(f)}),!0);c.after(f,"onAnimate",k.hitch(b,"set",f.node),!0);return f};n.anim=function(a,b,f,c,e,g){return n.animateProperty({node:a,duration:f||p.prototype.duration,properties:b,easing:c,onEnd:e}).play(g||0)};a(d,n);d._Animation=p;return n})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(d,l,k,m){var h={fieldToObject:function(c){var e=
null;if(c=l.byId(c)){var g=c.name,b=(c.type||"").toLowerCase();if(g&&b&&!c.disabled)if("radio"==b||"checkbox"==b)c.checked&&(e=c.value);else if(c.multiple){e=[];for(c=[c.firstChild];c.length;)for(g=c.pop();g;g=g.nextSibling)if(1==g.nodeType&&"option"==g.tagName.toLowerCase())g.selected&&e.push(g.value);else{g.nextSibling&&c.push(g.nextSibling);g.firstChild&&c.push(g.firstChild);break}}else e=c.value}return e},toObject:function(c){var e={};c=l.byId(c).elements;for(var g=0,b=c.length;g<b;++g){var a=
c[g],n=a.name,f=(a.type||"").toLowerCase();if(n&&f&&0>"file|submit|image|reset|button".indexOf(f)&&!a.disabled){var p=e,k=n,a=h.fieldToObject(a);if(null!==a){var m=p[k];"string"==typeof m?p[k]=[m,a]:d.isArray(m)?m.push(a):p[k]=a}"image"==f&&(e[n+".x"]=e[n+".y"]=e[n].x=e[n].y=0)}}return e},toQuery:function(c){return k.objectToQuery(h.toObject(c))},toJson:function(c,e){return m.stringify(h.toObject(c),null,e?4:0)}};return h})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],
function(d,l,k){function m(e){setTimeout(function(){c.apply(h,e)},0)}var h=new k,c=h.emit;h.emit=null;l.prototype.trace=function(){var c=d._toArray(arguments);this.then(function(g){m(["resolved",g].concat(c))},function(g){m(["rejected",g].concat(c))},function(g){m(["progress",g].concat(c))});return this};l.prototype.traceRejected=function(){var c=d._toArray(arguments);this.otherwise(function(g){m(["rejected",g].concat(c))});return this};return h})},"dojo/errors/RequestError":function(){define(["./create"],
function(d){return d("RequestError",function(d,k){this.response=k})})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(d,l,k,m,h,c,e,g){d.byId=l.byId;d.isDescendant=l.isDescendant;d.setSelectable=l.setSelectable;d.getAttr=m.get;d.setAttr=m.set;d.hasAttr=m.has;d.removeAttr=m.remove;d.getNodeProp=m.getNodeProp;d.attr=function(b,a,c){return 2==arguments.length?m["string"==typeof a?"get":"set"](b,
a):m.set(b,a,c)};d.hasClass=c.contains;d.addClass=c.add;d.removeClass=c.remove;d.toggleClass=c.toggle;d.replaceClass=c.replace;d._toDom=d.toDom=e.toDom;d.place=e.place;d.create=e.create;d.empty=function(b){e.empty(b)};d._destroyElement=d.destroy=function(b){e.destroy(b)};d._getPadExtents=d.getPadExtents=g.getPadExtents;d._getBorderExtents=d.getBorderExtents=g.getBorderExtents;d._getPadBorderExtents=d.getPadBorderExtents=g.getPadBorderExtents;d._getMarginExtents=d.getMarginExtents=g.getMarginExtents;
d._getMarginSize=d.getMarginSize=g.getMarginSize;d._getMarginBox=d.getMarginBox=g.getMarginBox;d.setMarginBox=g.setMarginBox;d._getContentBox=d.getContentBox=g.getContentBox;d.setContentSize=g.setContentSize;d._isBodyLtr=d.isBodyLtr=g.isBodyLtr;d._docScroll=d.docScroll=g.docScroll;d._getIeDocumentElementOffset=d.getIeDocumentElementOffset=g.getIeDocumentElementOffset;d._fixIeBiDiScrollLeft=d.fixIeBiDiScrollLeft=g.fixIeBiDiScrollLeft;d.position=g.position;d.marginBox=function(b,a){return a?g.setMarginBox(b,
a):g.getMarginBox(b)};d.contentBox=function(b,a){return a?g.setContentSize(b,a):g.getContentBox(b)};d.coords=function(b,a){d.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");b=l.byId(b);var c=k.getComputedStyle(b),c=g.getMarginBox(b,c),f=g.position(b,a);c.x=f.x;c.y=f.y;return c};d.getProp=h.get;d.setProp=h.set;d.prop=function(b,a,c){return 2==arguments.length?h["string"==typeof a?"get":"set"](b,a):h.set(b,a,c)};d.getStyle=k.get;d.setStyle=k.set;d.getComputedStyle=k.getComputedStyle;
d.__toPixelValue=d.toPixelValue=k.toPixelValue;d.style=function(b,a,c){switch(arguments.length){case 1:return k.get(b);case 2:return k["string"==typeof a?"get":"set"](b,a)}return k.set(b,a,c)};return d})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(d,l,k,m){var h,c={},e={},g={config:l,global:this,dijit:c,dojox:e},c={dojo:["dojo",g],dijit:["dijit",c],dojox:["dojox",e]};m=k.map&&k.map[m.id.match(/[^\/]+/)[0]];for(h in m)c[h]?c[h][0]=m[h]:c[h]=[m[h],{}];for(h in c)m=
c[h],m[1]._scopeName=m[0],l.noGlobals||(this[m[0]]=m[1]);g.scopeMap=c;g.baseUrl=g.config.baseUrl=k.baseUrl;g.isAsync=k.async;g.locale=l.locale;m="$Rev: f774568 $".match(/[0-9a-f]{7,}/);g.version={major:1,minor:9,patch:2,flag:"",revision:m?m[0]:NaN,toString:function(){var a=g.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(g);g.exit=function(){};"undefined"!=
typeof console||(console={});var c="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" "),b;for(m=0;b=c[m++];)console[b]||function(){var a=b+"";console[a]="log"in console?function(){var b=Array.apply({},arguments);b.unshift(a+":");console.log(b.join(" "))}:function(){};console[a]._fake=!0}();d.add("dojo-debug-messages",!!l.isDebug);g.deprecated=g.experimental=function(){};d("dojo-debug-messages")&&(g.deprecated=function(a,b,f){},g.experimental=
function(a,b){});if(l.modulePaths){g.deprecated("dojo.modulePaths","use paths configuration");d={};for(h in l.modulePaths)d[h.replace(/\./g,"/")]=l.modulePaths[h];k({paths:d})}g.moduleUrl=function(a,b){g.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var f=null;a&&(f=k.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")+"/*.*").replace(/\/\*\.\*/,"")+(b?"":"/"));return f};g._hasResource={};return g})},"dojo/io-query":function(){define(["./_base/lang"],function(d){var l={};return{objectToQuery:function(k){var m=
encodeURIComponent,h=[],c;for(c in k){var e=k[c];if(e!=l[c]){var g=m(c)+"\x3d";if(d.isArray(e))for(var b=0,a=e.length;b<a;++b)h.push(g+m(e[b]));else h.push(g+m(e))}}return h.join("\x26")},queryToObject:function(k){var m=decodeURIComponent;k=k.split("\x26");for(var h={},c,e,g=0,b=k.length;g<b;++g)if(e=k[g],e.length){var a=e.indexOf("\x3d");0>a?(c=m(e),e=""):(c=m(e.slice(0,a)),e=m(e.slice(a+1)));"string"==typeof h[c]&&(h[c]=[h[c]]);d.isArray(h[c])?h[c].push(e):h[c]=e}return h}}})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),
function(d,l,k,m,h,c,e){var g=function(){},b=Object.freeze||function(){},a=d.Deferred=function(e){function f(a){if(r)throw Error("This deferred has already been resolved");d=a;r=!0;p()}function p(){for(var a;!a&&v;){var b=v;v=v.next;if(a=b.progress==g)r=!1;var f=u?b.error:b.resolved;h("config-useDeferredInstrumentation")&&u&&l.instrumentRejected&&l.instrumentRejected(d,!!f);if(f)try{var e=f(d);e&&"function"===typeof e.then?e.then(c.hitch(b.deferred,"resolve"),c.hitch(b.deferred,"reject"),c.hitch(b.deferred,
"progress")):(f=a&&void 0===e,a&&!f&&(u=e instanceof Error),b.deferred[f&&u?"reject":"resolve"](f?d:e))}catch(n){b.deferred.reject(n)}else u?b.deferred.reject(d):b.deferred.resolve(d)}}var d,r,q,w,u,y,v,t=this.promise=new k;this.isResolved=t.isResolved=function(){return 0==w};this.isRejected=t.isRejected=function(){return 1==w};this.isFulfilled=t.isFulfilled=function(){return 0<=w};this.isCanceled=t.isCanceled=function(){return q};this.resolve=this.callback=function(a){this.fired=w=0;this.results=
[a,null];f(a)};this.reject=this.errback=function(a){u=!0;this.fired=w=1;h("config-useDeferredInstrumentation")&&l.instrumentRejected&&l.instrumentRejected(a,!!v);f(a);this.results=[null,a]};this.progress=function(a){for(var b=v;b;){var f=b.progress;f&&f(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,g);return this};t.then=this.then=function(b,f,c){var e=c==g?this:new a(t.cancel);b={resolved:b,error:f,progress:c,deferred:e};v?y=y.next=b:v=y=b;r&&p();return e.promise};var x=this;t.cancel=
this.cancel=function(){if(!r){var a=e&&e(x);r||(a instanceof Error||(a=new m(a)),a.log=!1,x.reject(a))}q=!0};b(t)};c.extend(a,{addCallback:function(a){return this.addCallbacks(c.hitch.apply(d,arguments))},addErrback:function(a){return this.addCallbacks(null,c.hitch.apply(d,arguments))},addBoth:function(a){var b=c.hitch.apply(d,arguments);return this.addCallbacks(b,b)},fired:-1});a.when=d.when=e;return a})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),
function(d,l,k,m,h,c,e,g,b){function a(a){return function(b,f,c){return 2==arguments.length?a["string"==typeof f?"get":"set"](b,f):a.set(b,f,c)}}var n=function(a){return 1==a.length&&"string"==typeof a[0]},f=function(a){var b=a.parentNode;b&&b.removeChild(a)},p=l.NodeList,s=p._adaptWithCondition,r=p._adaptAsForEach,q=p._adaptAsMap;m.extend(p,{_normalize:function(a,b){var f=!0===a.parse;if("string"==typeof a.template){var e=a.templateFunc||d.string&&d.string.substitute;a=e?e(a.template,a):a}e=typeof a;
"string"==e||"number"==e?(a=c.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?m._toArray(a.childNodes):[a]):m.isArrayLike(a)?m.isArray(a)||(a=m._toArray(a)):a=[a];f&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,b,f,e){if(!(1!=b.nodeType&&"only"==f))for(var g,n=a.length,p=n-1;0<=p;p--){var h=e?this._cloneNode(a[p]):a[p];if(a._runParse&&d.parser&&d.parser.parse){g||(g=b.ownerDocument.createElement("div"));g.appendChild(h);d.parser.parse(g);for(h=g.firstChild;g.firstChild;)g.removeChild(g.firstChild)}p==
n-1?c.place(h,b,f):b.parentNode.insertBefore(h,b);b=h}},position:q(e.position),attr:s(a(g),n),style:s(a(b),n),addClass:r(h.add),removeClass:r(h.remove),toggleClass:r(h.toggle),replaceClass:r(h.replace),empty:r(c.empty),removeAttr:r(g.remove),marginBox:q(e.getMarginBox),place:function(a,b){var f=l(a)[0];return this.forEach(function(a){c.place(a,f,b)})},orphan:function(a){return(a?l._filterResult(this,a):this).forEach(f)},adopt:function(a,b){return l(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;
var b=new p;this.map(function(f){l(a,f).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,f=this,c=0;if("string"==typeof a){f=l._filterResult(this,b[0]);if(1==b.length)return f._stash(this);c=1}return this._wrap(k.filter(f,b[c],b[c+1]),this)},addContent:function(a,b){a=this._normalize(a,this[0]);for(var f=0,e;e=this[f];f++)a.length?this._place(a,e,b,0<f):c.empty(e);return this}});return p})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),
function(d,l,k,m,h,c,e,g){function b(a,b){var f=function(f,c){if("string"==typeof c&&(c=k.byId(c),!c))return new b([]);var e="string"==typeof f?a(f,c):f?f.end&&f.on?f:[f]:[];return e.end&&e.on?e:new b(e)};f.matches=a.match||function(a,b,c){return 0<f.filter([a],b,c).length};f.filter=a.filter||function(a,b,c){return f(b,c).filter(function(b){return-1<h.indexOf(a,b)})};if("function"!=typeof a){var c=a.search;a=function(a,b){return c(b||document,a)}}return f}l.add("array-extensible",function(){return 1==
c.delegate([],{length:1}).length&&!l("bug-for-in-skips-shadowed")});var a=Array.prototype,n=a.slice,f=a.concat,p=h.forEach,s=function(a,b,f){b=[0].concat(n.call(b,0));f=f||d.global;return function(c){b[0]=c;return a.apply(f,b)}},r=function(a){var b=this instanceof q&&l("array-extensible");"number"==typeof a&&(a=Array(a));var f=a&&"length"in a?a:arguments;if(b||!f.sort){for(var e=b?this:[],g=e.length=f.length,n=0;n<g;n++)e[n]=f[n];if(b)return e;f=e}c._mixin(f,w);f._NodeListCtor=function(a){return q(a)};
return f},q=r,w=q.prototype=l("array-extensible")?[]:{};q._wrap=w._wrap=function(a,b,f){a=new (f||this._NodeListCtor||q)(a);return b?a._stash(b):a};q._adaptAsMap=function(a,b){return function(){return this.map(s(a,arguments,b))}};q._adaptAsForEach=function(a,b){return function(){this.forEach(s(a,arguments,b));return this}};q._adaptAsFilter=function(a,b){return function(){return this.filter(s(a,arguments,b))}};q._adaptWithCondition=function(a,b,f){return function(){var c=arguments,e=s(a,c,f);if(b.call(f||
d.global,c))return this.map(e);this.forEach(e);return this}};p(["slice","splice"],function(b){var f=a[b];w[b]=function(){return this._wrap(f.apply(this,arguments),"slice"==b?this:null)}});p(["indexOf","lastIndexOf","every","some"],function(a){var b=h[a];w[a]=function(){return b.apply(d,[this].concat(n.call(arguments,0)))}});c.extend(r,{constructor:q,_NodeListCtor:q,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var f=this.map(function(f){return m(f,
a,b)});f.remove=function(){for(var a=0;a<f.length;a++)f[a].remove()};return f},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=n.call(this,0),c=h.map(arguments,function(a){return n.call(a,0)});return this._wrap(f.apply(b,c),this)},map:function(a,b){return this._wrap(h.map(this,a,b),this)},forEach:function(a,b){p(this,a,b);return this},filter:function(a){var b=arguments,f=this,c=0;if("string"==typeof a){f=u._filterResult(this,b[0]);if(1==b.length)return f._stash(this);
c=1}return this._wrap(h.filter(f,b[c],b[c+1]),this)},instantiate:function(a,b){var f=c.isFunction(a)?a:c.getObject(a);b=b||{};return this.forEach(function(a){new f(b,a)})},at:function(){var a=new this._NodeListCtor(0);p(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var u=b(g,r);d.query=b(g,function(a){return r(a)});u.load=function(a,f,c){e.load(a,f,function(a){c(b(a,r))})};d._filterQueryResult=u._filterResult=function(a,b,f){return new r(u.filter(a,
b,f))};d.NodeList=u.NodeList=r;return u})},"dojo/has":function(){define(["require","module"],function(d,l){var k=d.has||function(){};k.add("dom-addeventlistener",!!document.addEventListener);k.add("touch","ontouchstart"in document||0<window.navigator.msMaxTouchPoints);k.add("device-width",screen.availWidth||innerWidth);var m=document.createElement("form");k.add("dom-attributes-explicit",0==m.attributes.length);k.add("dom-attributes-specified-flag",0<m.attributes.length&&40>m.attributes.length);k.clearElement=
function(h){h.innerHTML="";return h};k.normalize=function(h,c){var e=h.match(/[\?:]|[^:\?]*/g),g=0,b=function(a){var c=e[g++];if(":"==c)return 0;if("?"==e[g++]){if(!a&&k(c))return b();b(!0);return b(a)}return c||0};return(h=b())&&c(h)};k.load=function(h,c,e){h?c([h],e):e()};return k})},"dojo/json":function(){define(["./has"],function(d){var l="undefined"!=typeof JSON;d.add("json-parse",l);d.add("json-stringify",l&&'{"a":1}'==JSON.stringify({a:0},function(d,h){return h||1}));if(d("json-stringify"))return JSON;
var k=function(d){return('"'+d.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:d("json-parse")?JSON.parse:function(d,h){if(h&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(d))throw new SyntaxError("Invalid characters in JSON");return eval("("+d+")")},stringify:function(d,h,c){function e(b,a,n){h&&(b=h(n,b));var f;f=typeof b;if("number"==
f)return isFinite(b)?b+"":"null";if("boolean"==f)return b+"";if(null===b)return"null";if("string"==typeof b)return k(b);if("function"==f||"undefined"==f)return g;if("function"==typeof b.toJSON)return e(b.toJSON(n),a,n);if(b instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,f,c){a=b["getUTC"+f]()+(c?1:0);return 10>a?"0"+a:a});if(b.valueOf()!==b)return e(b.valueOf(),a,n);var p=c?a+c:"",d=c?" ":"",m=c?"\n":"";if(b instanceof Array){var d=
b.length,l=[];for(n=0;n<d;n++)f=e(b[n],p,n),"string"!=typeof f&&(f="null"),l.push(m+p+f);return"["+l.join(",")+m+a+"]"}l=[];for(n in b){var w;if(b.hasOwnProperty(n)){if("number"==typeof n)w='"'+n+'"';else if("string"==typeof n)w=k(n);else continue;f=e(b[n],p,n);"string"==typeof f&&l.push(m+p+w+":"+d+f)}}return"{"+l.join(",")+m+a+"}"}var g;"string"==typeof h&&(c=h,h=null);return e(d,"","")}}})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(d,l,k){function m(a,b){throw Error("declare"+
(b?" "+b:"")+": "+a);}function h(a,b,f){var c,e,g,n,p,h,d,k=this._inherited=this._inherited||{};"string"==typeof a&&(c=a,a=b,b=f);f=0;n=a.callee;(c=c||n.nom)||m("can't deduce a name to call inherited()",this.declaredClass);p=this.constructor._meta;g=p.bases;d=k.p;if(c!=E){if(k.c!==n&&(d=0,h=g[0],p=h._meta,p.hidden[c]!==n)){(e=p.chains)&&"string"==typeof e[c]&&m("calling chained method with inherited: "+c,this.declaredClass);do if(p=h._meta,e=h.prototype,p&&(e[c]===n&&e.hasOwnProperty(c)||p.hidden[c]===
n))break;while(h=g[++d]);d=h?d:-1}if(h=g[++d])if(e=h.prototype,h._meta&&e.hasOwnProperty(c))f=e[c];else{n=v[c];do if(e=h.prototype,(f=e[c])&&(h._meta?e.hasOwnProperty(c):f!==n))break;while(h=g[++d])}f=h&&f||v[c]}else{if(k.c!==n&&(d=0,(p=g[0]._meta)&&p.ctor!==n)){e=p.chains;for((!e||"manual"!==e.constructor)&&m("calling chained constructor with inherited",this.declaredClass);(h=g[++d])&&!((p=h._meta)&&p.ctor===n););d=h?d:-1}for(;(h=g[++d])&&!(f=(p=h._meta)?p.ctor:h););f=h&&f}k.c=f;k.p=d;if(f)return!0===
b?f:f.apply(this,b||a)}function c(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function e(a,b,f){var c=this.getInherited(a,b);if(c)return c.apply(this,f||b||a)}function g(a){for(var b=this.constructor._meta.bases,f=0,c=b.length;f<c;++f)if(b[f]===a)return!0;return this instanceof a}function b(a,b){for(var f in b)f!=E&&b.hasOwnProperty(f)&&(a[f]=b[f]);if(l("bug-for-in-skips-shadowed"))for(var c=k._extraNames,e=c.length;e;)f=c[--e],f!=E&&b.hasOwnProperty(f)&&(a[f]=b[f])}
function a(a){u.safeMixin(this.prototype,a);return this}function n(a,b){return u([this].concat(a),b||{})}function f(a,b){return function(){var f=arguments,c=f,e=f[0],g,n;n=a.length;var p;if(!(this instanceof f.callee))return w(f);if(b&&(e&&e.preamble||this.preamble)){p=Array(a.length);p[0]=f;for(g=0;;){if(e=f[0])(e=e.preamble)&&(f=e.apply(this,f)||f);e=a[g].prototype;(e=e.hasOwnProperty("preamble")&&e.preamble)&&(f=e.apply(this,f)||f);if(++g==n)break;p[g]=f}}for(g=n-1;0<=g;--g)e=a[g],(e=(n=e._meta)?
n.ctor:e)&&e.apply(this,p?p[g]:f);(e=this.postscript)&&e.apply(this,c)}}function p(a,b){return function(){var f=arguments,c=f,e=f[0];if(!(this instanceof f.callee))return w(f);b&&(e&&(e=e.preamble)&&(c=e.apply(this,c)||c),(e=this.preamble)&&e.apply(this,c));a&&a.apply(this,f);(e=this.postscript)&&e.apply(this,f)}}function s(a){return function(){var b=arguments,f=0,c,e;if(!(this instanceof b.callee))return w(b);for(;c=a[f];++f)if(c=(e=c._meta)?e.ctor:c){c.apply(this,b);break}(c=this.postscript)&&c.apply(this,
b)}}function r(a,b,f){return function(){var c,e,g=0,n=1;f&&(g=b.length-1,n=-1);for(;c=b[g];g+=n)e=c._meta,(c=(e?e.hidden:c.prototype)[a])&&c.apply(this,arguments)}}function q(a){x.prototype=a.prototype;a=new x;x.prototype=null;return a}function w(a){var b=a.callee,f=q(b);b.apply(f,a);return f}function u(e,d,w){"string"!=typeof e&&(w=d,d=e,e="");w=w||{};var l,x,C,H,I,z,B,D=1,U=d;if("[object Array]"==t.call(d)){D=e;C=[];H=[{cls:0,refs:[]}];z={};for(var P=1,G=d.length,J=0,N,O,K,Q;J<G;++J){(N=d[J])?"[object Function]"!=
t.call(N)&&m("mixin #"+J+" is not a callable constructor.",D):m("mixin #"+J+" is unknown. Did you use dojo.require to pull it in?",D);O=N._meta?N._meta.bases:[N];K=0;for(N=O.length-1;0<=N;--N)Q=O[N].prototype,Q.hasOwnProperty("declaredClass")||(Q.declaredClass="uniqName_"+A++),Q=Q.declaredClass,z.hasOwnProperty(Q)||(z[Q]={count:0,refs:[],cls:O[N]},++P),Q=z[Q],K&&K!==Q&&(Q.refs.push(K),++K.count),K=Q;++K.count;H[0].refs.push(K)}for(;H.length;){K=H.pop();C.push(K.cls);for(--P;x=K.refs,1==x.length;){K=
x[0];if(!K||--K.count){K=0;break}C.push(K.cls);--P}if(K){J=0;for(G=x.length;J<G;++J)K=x[J],--K.count||H.push(K)}}P&&m("can't build consistent linearization",D);N=d[0];C[0]=N?N._meta&&N===C[C.length-N._meta.bases.length]?N._meta.bases.length:1:0;z=C;C=z[0];D=z.length-C;d=z[D]}else z=[0],d?"[object Function]"==t.call(d)?(C=d._meta,z=z.concat(C?C.bases:d)):m("base class is not a callable constructor.",e):null!==d&&m("unknown base class. Did you use dojo.require to pull it in?",e);if(d)for(x=D-1;;--x){l=
q(d);if(!x)break;C=z[x];(C._meta?b:y)(l,C.prototype);H=new Function;H.superclass=d;H.prototype=l;d=l.constructor=H}else l={};u.safeMixin(l,w);C=w.constructor;C!==v.constructor&&(C.nom=E,l.constructor=C);for(x=D-1;x;--x)(C=z[x]._meta)&&C.chains&&(B=y(B||{},C.chains));l["-chains-"]&&(B=y(B||{},l["-chains-"]));C=!B||!B.hasOwnProperty(E);z[0]=H=B&&"manual"===B.constructor?s(z):1==z.length?p(w.constructor,C):f(z,C);H._meta={bases:z,hidden:w,chains:B,parents:U,ctor:w.constructor};H.superclass=d&&d.prototype;
H.extend=a;H.createSubclass=n;H.prototype=l;l.constructor=H;l.getInherited=c;l.isInstanceOf=g;l.inherited=F;l.__inherited=h;e&&(l.declaredClass=e,k.setObject(e,H));if(B)for(I in B)l[I]&&("string"==typeof B[I]&&I!=E)&&(C=l[I]=r(I,z,"after"===B[I]),C.nom=I);return H}var y=k.mixin,v=Object.prototype,t=v.toString,x=new Function,A=0,E="constructor",F=d.config.isDebug?e:h;d.safeMixin=u.safeMixin=function(a,b){var f,c;for(f in b)if(c=b[f],(c!==v[f]||!(f in v))&&f!=E)"[object Function]"==t.call(c)&&(c.nom=
f),a[f]=c;if(l("bug-for-in-skips-shadowed"))for(var e=k._extraNames,g=e.length;g;)if(f=e[--g],c=b[f],(c!==v[f]||!(f in v))&&f!=E)"[object Function]"==t.call(c)&&(c.nom=f),a[f]=c;return a};return d.declare=u})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(d,l){if(7>=d("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(k){}var m={};d("ie")?m.byId=function(c,e){if("string"!=typeof c)return c;var g=e||l.doc,b=c&&g.getElementById(c);if(b&&(b.attributes.id.value==c||
b.id==c))return b;g=g.all[c];if(!g||g.nodeName)g=[g];for(var a=0;b=g[a++];)if(b.attributes&&b.attributes.id&&b.attributes.id.value==c||b.id==c)return b}:m.byId=function(c,e){return("string"==typeof c?(e||l.doc).getElementById(c):c)||null};m.isDescendant=function(c,e){try{c=m.byId(c);for(e=m.byId(e);c;){if(c==e)return!0;c=c.parentNode}}catch(g){}return!1};d.add("css-user-select",function(c,e,g){if(!g)return!1;c=g.style;e=["Khtml","O","ms","Moz","Webkit"];g=e.length;var b="userSelect";do if("undefined"!==
typeof c[b])return b;while(g--&&(b=e[g]+"UserSelect"));return!1});var h=d("css-user-select");m.setSelectable=h?function(c,e){m.byId(c).style[h]=e?"":"none"}:function(c,e){c=m.byId(c);var g=c.getElementsByTagName("*"),b=g.length;if(e)for(c.removeAttribute("unselectable");b--;)g[b].removeAttribute("unselectable");else for(c.setAttribute("unselectable","on");b--;)g[b].setAttribute("unselectable","on")};return m})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");
define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(d){return d})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(d,l){return d("RequestTimeoutError",null,l,{dojoType:"timeout"})})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(d,l){function k(b,f,e){f=f.toLowerCase();if(d("ie")){if("auto"==e){if("height"==f)return b.offsetHeight;if("width"==f)return b.offsetWidth}if("fontweight"==
f)switch(e){case 700:return"bold";default:return"normal"}}f in a||(a[f]=n.test(f));return a[f]?c(b,e):e}var m,h={};m=d("webkit")?function(a){var b;if(1==a.nodeType){var f=a.ownerDocument.defaultView;b=f.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=f.getComputedStyle(a,null))}return b||{}}:d("ie")&&(9>d("ie")||d("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};h.getComputedStyle=
m;var c;c=d("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var f=a.style,c=a.runtimeStyle,e=f.left,g=c.left;c.left=a.currentStyle.left;try{f.left=b,b=f.pixelLeft}catch(n){b=0}f.left=e;c.left=g;return b}:function(a,b){return parseFloat(b)||0};h.toPixelValue=c;var e=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(f){return b?{}:null}},g=9>d("ie")||10>d("ie")&&d("quirks")?function(a){try{return e(a).Opacity/
100}catch(b){return 1}}:function(a){return m(a).opacity},b=9>d("ie")||10>d("ie")&&d("quirks")?function(a,f){""===f&&(f=1);var c=100*f;1===f?(a.style.zoom="",e(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,e(a)?e(a,1).Opacity=c:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+c+")",e(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(c=a.firstChild;c;c=c.nextSibling)"td"==c.tagName.toLowerCase()&&b(c,
f);return f}:function(a,b){return a.style.opacity=b},a={left:!0,top:!0},n=/margin|padding|width|height|max|min|offset/,f={cssFloat:1,styleFloat:1,"float":1};h.get=function(a,b){var c=l.byId(a),e=arguments.length;if(2==e&&"opacity"==b)return g(c);b=f[b]?"cssFloat"in c.style?"cssFloat":"styleFloat":b;var n=h.getComputedStyle(c);return 1==e?n:k(c,b,n[b]||c.style[b])};h.set=function(a,c,e){var g=l.byId(a),n=arguments.length,d="opacity"==c;c=f[c]?"cssFloat"in g.style?"cssFloat":"styleFloat":c;if(3==n)return d?
b(g,e):g.style[c]=e;for(var k in c)h.set(a,k,c[k]);return h.getComputedStyle(g)};return h})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(d,l,k,m){function h(a,b,f,c,e,g){g=g||"px";a=a.style;isNaN(b)||(a.left=b+g);isNaN(f)||(a.top=f+g);0<=c&&(a.width=c+g);0<=e&&(a.height=e+g)}function c(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function e(a){return"border-box"==
g.boxModel||"table"==a.tagName.toLowerCase()||c(a)}var g={boxModel:"content-box"};d("ie")&&(g.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");g.getPadExtents=function(a,b){a=k.byId(a);var f=b||m.getComputedStyle(a),c=m.toPixelValue,e=c(a,f.paddingLeft),g=c(a,f.paddingTop),d=c(a,f.paddingRight),f=c(a,f.paddingBottom);return{l:e,t:g,r:d,b:f,w:e+d,h:g+f}};g.getBorderExtents=function(a,b){a=k.byId(a);var f=m.toPixelValue,c=b||m.getComputedStyle(a),e="none"!=c.borderLeftStyle?f(a,
c.borderLeftWidth):0,g="none"!=c.borderTopStyle?f(a,c.borderTopWidth):0,d="none"!=c.borderRightStyle?f(a,c.borderRightWidth):0,f="none"!=c.borderBottomStyle?f(a,c.borderBottomWidth):0;return{l:e,t:g,r:d,b:f,w:e+d,h:g+f}};g.getPadBorderExtents=function(a,b){a=k.byId(a);var f=b||m.getComputedStyle(a),c=g.getPadExtents(a,f),f=g.getBorderExtents(a,f);return{l:c.l+f.l,t:c.t+f.t,r:c.r+f.r,b:c.b+f.b,w:c.w+f.w,h:c.h+f.h}};g.getMarginExtents=function(a,b){a=k.byId(a);var f=b||m.getComputedStyle(a),c=m.toPixelValue,
e=c(a,f.marginLeft),g=c(a,f.marginTop),d=c(a,f.marginRight),f=c(a,f.marginBottom);return{l:e,t:g,r:d,b:f,w:e+d,h:g+f}};g.getMarginBox=function(a,b){a=k.byId(a);var f=b||m.getComputedStyle(a),c=g.getMarginExtents(a,f),e=a.offsetLeft-c.l,h=a.offsetTop-c.t,l=a.parentNode,w=m.toPixelValue;if(d("mozilla")){var u=parseFloat(f.left),f=parseFloat(f.top);!isNaN(u)&&!isNaN(f)?(e=u,h=f):l&&l.style&&(l=m.getComputedStyle(l),"visible"!=l.overflow&&(e+="none"!=l.borderLeftStyle?w(a,l.borderLeftWidth):0,h+="none"!=
l.borderTopStyle?w(a,l.borderTopWidth):0))}else if((d("opera")||8==d("ie")&&!d("quirks"))&&l)l=m.getComputedStyle(l),e-="none"!=l.borderLeftStyle?w(a,l.borderLeftWidth):0,h-="none"!=l.borderTopStyle?w(a,l.borderTopWidth):0;return{l:e,t:h,w:a.offsetWidth+c.w,h:a.offsetHeight+c.h}};g.getContentBox=function(a,b){a=k.byId(a);var f=b||m.getComputedStyle(a),c=a.clientWidth,e=g.getPadExtents(a,f),h=g.getBorderExtents(a,f);c?(f=a.clientHeight,h.w=h.h=0):(c=a.offsetWidth,f=a.offsetHeight);d("opera")&&(e.l+=
h.l,e.t+=h.t);return{l:e.l,t:e.t,w:c-e.w-h.w,h:f-e.h-h.h}};g.setContentSize=function(a,b,f){a=k.byId(a);var c=b.w;b=b.h;e(a)&&(f=g.getPadBorderExtents(a,f),0<=c&&(c+=f.w),0<=b&&(b+=f.h));h(a,NaN,NaN,c,b)};var b={l:0,t:0,w:0,h:0};g.setMarginBox=function(a,n,f){a=k.byId(a);var p=f||m.getComputedStyle(a);f=n.w;var l=n.h,r=e(a)?b:g.getPadBorderExtents(a,p),p=g.getMarginExtents(a,p);if(d("webkit")&&c(a)){var q=a.style;0<=f&&!q.width&&(q.width="4px");0<=l&&!q.height&&(q.height="4px")}0<=f&&(f=Math.max(f-
r.w-p.w,0));0<=l&&(l=Math.max(l-r.h-p.h,0));h(a,n.l,n.t,f,l)};g.isBodyLtr=function(a){a=a||l.doc;return"ltr"==(l.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};g.docScroll=function(a){a=a||l.doc;var b=l.doc.parentWindow||l.doc.defaultView;return"pageXOffset"in b?{x:b.pageXOffset,y:b.pageYOffset}:(b=d("quirks")?l.body(a):a.documentElement)&&{x:g.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};d("ie")&&(g.getIeDocumentElementOffset=function(a){a=a||l.doc;a=a.documentElement;if(8>
d("ie")){var b=a.getBoundingClientRect(),f=b.left,b=b.top;7>d("ie")&&(f+=a.clientLeft,b+=a.clientTop);return{x:0>f?0:f,y:0>b?0:b}}return{x:0,y:0}});g.fixIeBiDiScrollLeft=function(a,b){b=b||l.doc;var f=d("ie");if(f&&!g.isBodyLtr(b)){var c=d("quirks"),e=c?l.body(b):b.documentElement,h=l.global;6==f&&(!c&&h.frameElement&&e.scrollHeight>e.clientHeight)&&(a+=e.clientLeft);return 8>f||c?a+e.clientWidth-e.scrollWidth:-a}return a};g.position=function(a,b){a=k.byId(a);var f=l.body(a.ownerDocument),c=a.getBoundingClientRect(),
c={x:c.left,y:c.top,w:c.right-c.left,h:c.bottom-c.top};if(9>d("ie")){var e=g.getIeDocumentElementOffset(a.ownerDocument);c.x-=e.x+(d("quirks")?f.clientLeft+f.offsetLeft:0);c.y-=e.y+(d("quirks")?f.clientTop+f.offsetTop:0)}b&&(f=g.docScroll(a.ownerDocument),c.x+=f.x,c.y+=f.y);return c};g.getMarginSize=function(a,b){a=k.byId(a);var f=g.getMarginExtents(a,b||m.getComputedStyle(a)),c=a.getBoundingClientRect();return{w:c.right-c.left+f.w,h:c.bottom-c.top+f.h}};g.normalizeEvent=function(a){"layerX"in a||
(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!d("dom-addeventlistener")){var b=a.target,b=b&&b.ownerDocument||document,f=d("quirks")?b.body:b.documentElement,c=g.getIeDocumentElementOffset(b);a.pageX=a.clientX+g.fixIeBiDiScrollLeft(f.scrollLeft||0,b)-c.x;a.pageY=a.clientY+(f.scrollTop||0)-c.y}};return g})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(d,l,k,m,h,c,e,g){var b={},a=0,n=l._scopeName+
"attrid";d.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};d.get=function(a,b){a=h.byId(a);var c=b.toLowerCase();return a[d.names[c]||b]};d.set=function(f,p,l){f=h.byId(f);if(2==arguments.length&&"string"!=typeof p){for(var r in p)d.set(f,r,p[r]);return f}r=p.toLowerCase();r=d.names[r]||p;if("style"==r&&"string"!=typeof l)return c.set(f,l),f;if("innerHTML"==r)return k("ie")&&f.tagName.toLowerCase()in
{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(e.empty(f),f.appendChild(e.toDom(l,f.ownerDocument))):f[r]=l,f;if(m.isFunction(l)){var q=f[n];q||(q=a++,f[n]=q);b[q]||(b[q]={});var w=b[q][r];if(w)g.disconnect(w);else try{delete f[r]}catch(u){}l?b[q][r]=g.connect(f,r,l):f[r]=null;return f}f[r]=l;return f}})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(d,l){return function(k,m,h,c){var e=k&&"function"===typeof k.then,g=e&&k instanceof l;if(e)g||(e=new d(k.cancel),
k.then(e.resolve,e.reject,e.progress),k=e.promise);else return 1<arguments.length?m?m(k):k:(new d).resolve(k);return m||h||c?k.then(m,h,c):k}})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(d,l,k,m,h,c){function e(a,b){var f=a.getAttributeNode&&a.getAttributeNode(b);return f&&f.specified}var g={innerHTML:1,className:1,htmlFor:l("ie"),value:1},b={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};d.has=function(a,
d){var f=d.toLowerCase();return g[c.names[f]||d]||e(m.byId(a),b[f]||d)};d.get=function(a,d){a=m.byId(a);var f=d.toLowerCase(),h=c.names[f]||d,l=a[h];if(g[h]&&"undefined"!=typeof l||"href"!=h&&("boolean"==typeof l||k.isFunction(l)))return l;f=b[f]||d;return e(a,f)?a.getAttribute(f):null};d.set=function(a,e,f){a=m.byId(a);if(2==arguments.length){for(var p in e)d.set(a,p,e[p]);return a}p=e.toLowerCase();var l=c.names[p]||e,r=g[l];if("style"==l&&"string"!=typeof f)return h.set(a,f),a;if(r||"boolean"==
typeof f||k.isFunction(f))return c.set(a,e,f);a.setAttribute(b[p]||e,f);return a};d.remove=function(a,c){m.byId(a).removeAttribute(b[c.toLowerCase()]||c)};d.getNodeProp=function(a,g){a=m.byId(a);var f=g.toLowerCase(),d=c.names[f]||g;if(d in a&&"href"!=d)return a[d];f=b[f]||g;return e(a,f)?a.getAttribute(f):null}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(d,l,k,m,h,c){function e(a,b){var f=b.parentNode;f&&f.insertBefore(a,
b)}function g(a){if(a.canHaveChildren)try{a.innerHTML="";return}catch(f){}for(var c;c=a.lastChild;)b(c,a)}function b(a,b){a.firstChild&&g(a);b&&(k("ie")&&b.canHaveChildren&&"removeNode"in a?a.removeNode(!1):b.removeChild(a))}var a={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},n=/<\s*([\w\:]+)/,f={},p=0,s="__"+l._scopeName+
"ToDomId",r;for(r in a)a.hasOwnProperty(r)&&(l=a[r],l.pre="option"==r?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+l.join("\x3e\x3c")+"\x3e",l.post="\x3c/"+l.reverse().join("\x3e\x3c/")+"\x3e");var q;8>=k("ie")&&(q=function(a){a.__dojo_html5_tested="yes";var b=w("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,
function(b){a.createElement(b)});u(b)});d.toDom=function(b,c){c=c||m.doc;var e=c[s];e||(c[s]=e=++p+"",f[e]=c.createElement("div"));8>=k("ie")&&!c.__dojo_html5_tested&&c.body&&q(c);b+="";var g=b.match(n),d=g?g[1].toLowerCase():"",e=f[e];if(g&&a[d]){g=a[d];e.innerHTML=g.pre+b+g.post;for(g=g.length;g;--g)e=e.firstChild}else e.innerHTML=b;if(1==e.childNodes.length)return e.removeChild(e.firstChild);for(d=c.createDocumentFragment();g=e.firstChild;)d.appendChild(g);return d};d.place=function(a,b,f){b=h.byId(b);
"string"==typeof a&&(a=/^\s*</.test(a)?d.toDom(a,b.ownerDocument):h.byId(a));if("number"==typeof f){var c=b.childNodes;!c.length||c.length<=f?b.appendChild(a):e(a,c[0>f?0:f])}else switch(f){case "before":e(a,b);break;case "after":f=a;(c=b.parentNode)&&(c.lastChild==b?c.appendChild(f):c.insertBefore(f,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":d.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){e(a,b.firstChild);break}default:b.appendChild(a)}return a};
var w=d.create=function(a,b,f,e){var g=m.doc;f&&(f=h.byId(f),g=f.ownerDocument);"string"==typeof a&&(a=g.createElement(a));b&&c.set(a,b);f&&d.place(a,f,e);return a};d.empty=function(a){g(h.byId(a))};var u=d.destroy=function(a){(a=h.byId(a))&&b(a,a.parentNode)}})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(d,l,k,m,h){function c(a,b){var f=a.xhr;a.status=a.xhr.status;a.text=f.responseText;"xml"===a.options.handleAs&&(a.data=f.responseXML);
if(!b)try{k(a)}catch(c){b=c}b?this.reject(b):m.checkStatus(f.status)?this.resolve(a):(b=new d("Unable to load "+a.url+" status: "+f.status,a),this.reject(b))}function e(a){return this.xhr.getResponseHeader(a)}function g(k,r,q){var v=m.parseArgs(k,m.deepCreate(s,r),h("native-formdata")&&r&&r.data&&r.data instanceof FormData);k=v.url;r=v.options;var t,x=m.deferred(v,f,b,a,c,function(){t&&t()}),A=v.xhr=g._create();if(!A)return x.cancel(new d("XHR was not created")),q?x:x.promise;v.getHeader=e;n&&(t=
n(A,x,v));var E=r.data,F=!r.sync,R=r.method;try{A.open(R,k,F,r.user||p,r.password||p);r.withCredentials&&(A.withCredentials=r.withCredentials);var L=r.headers;k="application/x-www-form-urlencoded";if(L)for(var M in L)"content-type"===M.toLowerCase()?k=L[M]:L[M]&&A.setRequestHeader(M,L[M]);k&&!1!==k&&A.setRequestHeader("Content-Type",k);(!L||!("X-Requested-With"in L))&&A.setRequestHeader("X-Requested-With","XMLHttpRequest");m.notify&&m.notify.emit("send",v,x.promise.cancel);A.send(E)}catch(T){x.reject(T)}l(x);
A=null;return q?x:x.promise}h.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});h.add("dojo-force-activex-xhr",function(){return h("activex")&&!document.addEventListener&&"file:"===window.location.protocol});h.add("native-xhr2",function(){if(h("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});h.add("native-formdata",function(){return"function"===typeof FormData});var b,a,n,f;h("native-xhr2")?
(b=function(a){return!this.isFulfilled()},f=function(a,b){b.xhr.abort()},n=function(a,b,f){function c(a){b.handleResponse(f)}function e(a){a=new d("Unable to load "+f.url+" status: "+a.target.status,f);b.handleResponse(f,a)}function g(a){a.lengthComputable&&(f.loaded=a.loaded,f.total=a.total,b.progress(f))}a.addEventListener("load",c,!1);a.addEventListener("error",e,!1);a.addEventListener("progress",g,!1);return function(){a.removeEventListener("load",c,!1);a.removeEventListener("error",e,!1);a.removeEventListener("progress",
g,!1);a=null}}):(b=function(a){return a.xhr.readyState},a=function(a){return 4===a.xhr.readyState},f=function(a,b){var f=b.xhr,c=typeof f.abort;("function"===c||"object"===c||"unknown"===c)&&f.abort()});var p,s={data:null,query:null,sync:!1,method:"GET"};g._create=function(){throw Error("XMLHTTP not available");};if(h("native-xhr")&&!h("dojo-force-activex-xhr"))g._create=function(){return new XMLHttpRequest};else if(h("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),g._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(r){try{new ActiveXObject("Microsoft.XMLHTTP"),
g._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(q){}}m.addCommonMethods(g);return g})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(d,l){return d.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:l("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,
NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:l("mac")&&!l("air")?l("safari")?91:224:17}})},"dojo/domReady":function(){define(["./has"],
function(d){function l(a){b.push(a);g&&k()}function k(){if(!a){for(a=!0;b.length;)try{b.shift()(h)}catch(f){}a=!1;l._onQEmpty()}}var m=this,h=document,c={loaded:1,complete:1},e="string"!=typeof h.readyState,g=!!c[h.readyState],b=[],a;l.load=function(a,b,f){l(f)};l._Q=b;l._onQEmpty=function(){};e&&(h.readyState="loading");if(!g){var n=[],f=function(a){a=a||m.event;g||"readystatechange"==a.type&&!c[h.readyState]||(e&&(h.readyState="complete"),g=1,k())},p=function(a,c){a.addEventListener(c,f,!1);b.push(function(){a.removeEventListener(c,
f,!1)})};if(!d("dom-addeventlistener")){var p=function(a,c){c="on"+c;a.attachEvent(c,f);b.push(function(){a.detachEvent(c,f)})},s=h.createElement("div");try{s.doScroll&&null===m.frameElement&&n.push(function(){try{return s.doScroll("left"),1}catch(a){}})}catch(r){}}p(h,"DOMContentLoaded");p(m,"load");"onreadystatechange"in h?p(h,"readystatechange"):e||n.push(function(){return c[h.readyState]});if(n.length){var q=function(){if(!g){for(var a=n.length;a--;)if(n[a]()){f("poller");return}setTimeout(q,
30)}};q()}}return l})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(d,l){l.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var k=l("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],m=k.length,h=function(a,b,f){var c,e=0,g=d.global;if(!f)if(a.length){c=a[e++];try{f=d.scopeMap[c]&&d.scopeMap[c][1]}catch(h){}f=f||(c in g?g[c]:b?g[c]={}:void 0)}else return g;
for(;f&&(c=a[e++]);)f=c in f?f[c]:b?f[c]={}:void 0;return f},c=Object.prototype.toString,e=function(a,b,f){return(f||[]).concat(Array.prototype.slice.call(a,b||0))},g=/\{([^\}]+)\}/g,b={_extraNames:k,_mixin:function(a,b,f){var c,e,g,d={};for(c in b)if(e=b[c],!(c in a)||a[c]!==e&&(!(c in d)||d[c]!==e))a[c]=f?f(e):e;if(l("bug-for-in-skips-shadowed")&&b)for(g=0;g<m;++g)if(c=k[g],e=b[c],!(c in a)||a[c]!==e&&(!(c in d)||d[c]!==e))a[c]=f?f(e):e;return a},mixin:function(a,c){a||(a={});for(var f=1,e=arguments.length;f<
e;f++)b._mixin(a,arguments[f]);return a},setObject:function(a,b,c){var e=a.split(".");a=e.pop();return(c=h(e,!0,c))&&a?c[a]=b:void 0},getObject:function(a,b,c){return h(a.split("."),b,c)},exists:function(a,c){return void 0!==b.getObject(a,!1,c)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===c.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==
typeof a||b.isArray(a)||b.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!b.isString(a)&&!b.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(b.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!b.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,c){for(var f=1,e=arguments.length;f<e;f++)b._mixin(a.prototype,arguments[f]);return a},_hitchArgs:function(a,c){var f=b._toArray(arguments,2),e=b.isString(c);return function(){var g=b._toArray(arguments),
h=e?(a||d.global)[c]:c;return h&&h.apply(a||this,f.concat(g))}},hitch:function(a,c){if(2<arguments.length)return b._hitchArgs.apply(d,arguments);c||(c=a,a=null);if(b.isString(c)){a=a||d.global;if(!a[c])throw['lang.hitch: scope["',c,'"] is null (scope\x3d"',a,'")'].join("");return function(){return a[c].apply(a,arguments||[])}}return!a?c:function(){return c.apply(a,arguments||[])}},delegate:function(){function a(){}return function(c,f){a.prototype=c;var e=new a;a.prototype=null;f&&b._mixin(e,f);return e}}(),
_toArray:l("ie")?function(){function a(a,b,c){c=c||[];for(b=b||0;b<a.length;b++)c.push(a[b]);return c}return function(b){return(b.item?a:e).apply(this,arguments)}}():e,partial:function(a){return b.hitch.apply(d,[null].concat(b._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||b.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var c,f,e;if(b.isArray(a)){c=[];f=0;for(e=
a.length;f<e;++f)f in a&&c.push(b.clone(a[f]))}else c=a.constructor?new a.constructor:{};return b._mixin(c,a,b.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,c,f){return a.replace(f||g,b.isFunction(c)?c:function(a,f){return b.getObject(f,!1,c)})}};b.mixin(d,b);return b})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),
function(d,l,k,m,h,c,e,g){function b(a){return n(a)}function a(a){return a.data||a.text}d.deepCopy=function(a,b){for(var c in b){var e=a[c],g=b[c];e!==g&&(e&&"object"===typeof e&&g&&"object"===typeof g?d.deepCopy(e,g):a[c]=g)}return a};d.deepCreate=function(a,b){b=b||{};var c=e.delegate(a),g,h;for(g in a)(h=a[g])&&"object"===typeof h&&(c[g]=d.deepCreate(h,b[g]));return d.deepCopy(c,b)};var n=Object.freeze||function(a){return a};d.deferred=function(c,h,s,r,q,w){var u=new m(function(a){h&&h(u,c);return!a||
!(a instanceof l)&&!(a instanceof k)?new k("Request canceled",c):a});u.response=c;u.isValid=s;u.isReady=r;u.handleResponse=q;s=u.then(b).otherwise(function(a){a.response=c;throw a;});d.notify&&s.then(e.hitch(d.notify,"emit","load"),e.hitch(d.notify,"emit","error"));r=s.then(a);q=new g;for(var y in r)r.hasOwnProperty(y)&&(q[y]=r[y]);q.response=s;n(q);w&&u.then(function(a){w.call(u,a)},function(a){w.call(u,c,a)});u.promise=q;u.then=q.then;return u};d.addCommonMethods=function(a,b){c.forEach(b||["GET",
"POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,g){g=e.delegate(g||{});g.method=b;return a(c,g)}})};d.parseArgs=function(a,b,c){var e=b.data,g=b.query;e&&!c&&"object"===typeof e&&(b.data=h.objectToQuery(e));g?("object"===typeof g&&(g=h.objectToQuery(g)),b.preventCache&&(g+=(g?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(g="request.preventCache\x3d"+ +new Date);a&&g&&(a+=(~a.indexOf("?")?"\x26":"?")+g);return{url:a,options:b,getHeader:function(a){return null}}};
d.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/Evented":function(){define(["./aspect","./on"],function(d,l){function k(){}var m=d.after;k.prototype={on:function(d,c){return l.parse(this,d,c,function(e,g){return m(e,"on"+g,c,!0)})},emit:function(d,c){var e=[this];e.push.apply(e,arguments);return l.emit.apply(l,e)}};return k})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(d,l,k,m,h){function c(e,g){var b=function(a,
b){return l(a,e,function(c){if(g)return g(c,b);if(!m.isDescendant(c.relatedTarget,a))return b.call(this,c)})};b.bubble=function(a){return c(e,function(b,c){var e=a(b.target),g=b.relatedTarget;if(e&&e!=(g&&1==g.nodeType&&a(g)))return c.call(e,b)})};return b}k.add("dom-quirks",h.doc&&"BackCompat"==h.doc.compatMode);k.add("events-mouseenter",h.doc&&"onmouseenter"in h.doc.createElement("div"));k.add("events-mousewheel",h.doc&&"onmousewheel"in h.doc);h=k("dom-quirks")&&k("ie")||!k("dom-addeventlistener")?
{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(c,g){return c.button&g},isLeft:function(c){return c.button&1},isMiddle:function(c){return c.button&4},isRight:function(c){return c.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(c,g){return c.button==g},isLeft:function(c){return 0==c.button},isMiddle:function(c){return 1==c.button},isRight:function(c){return 2==c.button}};d.mouseButtons=h;d=k("events-mousewheel")?"mousewheel":function(c,g){return l(c,"DOMMouseScroll",function(b){b.wheelDelta=-b.detail;
g.call(this,b)})};return{_eventHandler:c,enter:c("mouseover"),leave:c("mouseout"),wheel:d,isLeft:h.isLeft,isMiddle:h.isMiddle,isRight:h.isRight}})},"dojo/topic":function(){define(["./Evented"],function(d){var l=new d;return{publish:function(d,m){return l.emit.apply(l,arguments)},subscribe:function(d,m){return l.on.apply(l,arguments)}}})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q){d._xhrObj=r._create;var w=d.config;d.objectToQuery=m.objectToQuery;d.queryToObject=m.queryToObject;d.fieldToObject=c.fieldToObject;d.formToObject=c.toObject;d.formToQuery=c.toQuery;d.formToJson=c.toJson;d._blockAsync=!1;var u=d._contentHandlers=d.contentHandlers={text:function(a){return a.responseText},json:function(a){return b.fromJson(a.responseText||null)},"json-comment-filtered":function(a){a=a.responseText;var c=a.indexOf("/*"),f=a.lastIndexOf("*/");
if(-1==c||-1==f)throw Error("JSON was not comment filtered");return b.fromJson(a.substring(c+2,f))},javascript:function(a){return d.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&(l("dom-qsa2.1")&&!b.querySelectorAll&&l("dom-parser"))&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(l("ie")&&(!b||!b.documentElement)){var c=function(a){return"MSXML"+a+".DOMDocument"},c=["Microsoft.XMLDOM",c(6),c(4),c(3),c(2)];n.some(c,function(c){try{var f=new ActiveXObject(c);
f.async=!1;f.loadXML(a.responseText);b=f}catch(e){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?u["json-comment-filtered"](a):u.json(a)}};d._ioSetArgs=function(b,f,g,n){var k={args:b,url:b.url},p=null;if(b.form){var p=h.byId(b.form),l=p.getAttributeNode("action");k.url=k.url||(l?l.value:null);p=c.toObject(p)}l=[{}];p&&l.push(p);b.content&&l.push(b.content);b.preventCache&&l.push({"dojo.preventCache":(new Date).valueOf()});
k.query=m.objectToQuery(a.mixin.apply(null,l));k.handleAs=b.handleAs||"text";var r=new e(function(a){a.canceled=!0;f&&f(a);var b=a.ioArgs.error;b||(b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b);return b});r.addCallback(g);var s=b.load;s&&a.isFunction(s)&&r.addCallback(function(a){return s.call(b,a,k)});var q=b.error;q&&a.isFunction(q)&&r.addErrback(function(a){return q.call(b,a,k)});var u=b.handle;u&&a.isFunction(u)&&r.addBoth(function(a){return u.call(b,a,k)});r.addErrback(function(a){return n(a,
r)});w.ioPublish&&(d.publish&&!1!==k.args.ioPublish)&&(r.addCallbacks(function(a){d.publish("/dojo/io/load",[r,a]);return a},function(a){d.publish("/dojo/io/error",[r,a]);return a}),r.addBoth(function(a){d.publish("/dojo/io/done",[r,a]);return a}));r.ioArgs=k;return r};var y=function(a){a=u[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},v=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},t=function(a){0>=x&&(x=0,w.ioPublish&&(d.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish))&&
d.publish("/dojo/io/stop"))},x=0;p.after(s,"_onAction",function(){x-=1});p.after(s,"_onInFlight",t);d._ioCancelAll=s.cancelAll;d._ioNotifyStart=function(a){w.ioPublish&&(d.publish&&!1!==a.ioArgs.args.ioPublish)&&(x||d.publish("/dojo/io/start"),x+=1,d.publish("/dojo/io/send",[a]))};d._ioWatch=function(b,c,f,e){b.ioArgs.options=b.ioArgs.args;a.mixin(b,{response:b.ioArgs,isValid:function(a){return c(b)},isReady:function(a){return f(b)},handleResponse:function(a){return e(b)}});s(b);t(b)};d._ioAddQueryToUrl=
function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};d.xhr=function(a,b,c){var f,e=d._ioSetArgs(b,function(a){f&&f.cancel()},y,v),g=e.ioArgs;"postData"in b?g.query=b.postData:"putData"in b?g.query=b.putData:"rawBody"in b?g.query=b.rawBody:(2<arguments.length&&!c||-1==="POST|PUT".indexOf(a.toUpperCase()))&&d._ioAddQueryToUrl(g);var h={method:a,handleAs:"text",timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:g};"undefined"!==typeof b.headers&&(h.headers=
b.headers);"undefined"!==typeof b.contentType&&(h.headers||(h.headers={}),h.headers["Content-Type"]=b.contentType);"undefined"!==typeof g.query&&(h.data=g.query);"undefined"!==typeof b.sync&&(h.sync=b.sync);d._ioNotifyStart(e);try{f=r(g.url,h,!0)}catch(k){return e.cancel(),e}e.ioArgs.xhr=f.response.xhr;f.then(function(){e.resolve(e)}).otherwise(function(a){g.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);e.reject(a)});return e};d.xhrGet=function(a){return d.xhr("GET",
a)};d.rawXhrPost=d.xhrPost=function(a){return d.xhr("POST",a,!0)};d.rawXhrPut=d.xhrPut=function(a){return d.xhr("PUT",a,!0)};d.xhrDelete=function(a){return d.xhr("DELETE",a)};d._isDocumentOk=function(a){return q.checkStatus(a.status)};d._getText=function(a){var b;d.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};a.mixin(d.xhr,{_xhrObj:d._xhrObj,fieldToObject:c.fieldToObject,formToObject:c.toObject,objectToQuery:m.objectToQuery,formToQuery:c.toQuery,formToJson:c.toJson,queryToObject:m.queryToObject,
contentHandlers:u,_ioSetArgs:d._ioSetArgs,_ioCancelAll:d._ioCancelAll,_ioNotifyStart:d._ioNotifyStart,_ioWatch:d._ioWatch,_ioAddQueryToUrl:d._ioAddQueryToUrl,_isDocumentOk:d._isDocumentOk,_getText:d._getText,get:d.xhrGet,post:d.xhrPost,put:d.xhrPut,del:d.xhrDelete});return d.xhr})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(d,l,k){var m=window,h={addOnWindowUnload:function(c,e){d.windowUnloaded||k(m,"unload",d.windowUnloaded=function(){});k(m,"unload",l.hitch(c,e))},
addOnUnload:function(c,e){k(m,"beforeunload",l.hitch(c,e))}};d.addOnWindowUnload=h.addOnWindowUnload;d.addOnUnload=h.addOnUnload;return h})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(d,l,k,m,h){var c=Object.freeze||function(){},e=function(a,b,c,e,d){2===b&&(n.instrumentRejected&&0===a.length)&&n.instrumentRejected(c,!1,e,d);for(d=0;d<a.length;d++)g(a[d],b,c,e)},g=function(c,e,g,d){var h=c[e],k=c.deferred;
if(h)try{var m=h(g);if(0===e)"undefined"!==typeof m&&a(k,e,m);else{if(m&&"function"===typeof m.then){c.cancel=m.cancel;m.then(b(k,1),b(k,2),b(k,0));return}a(k,1,m)}}catch(l){a(k,2,l)}else a(k,e,g);2===e&&n.instrumentRejected&&n.instrumentRejected(g,!!h,d,k.promise)},b=function(b,c){return function(e){a(b,c,e)}},a=function(a,b,c){if(!a.isCanceled())switch(b){case 0:a.progress(c);break;case 1:a.resolve(c);break;case 2:a.reject(c)}},n=function(a){var b=this.promise=new m,d=this,h,l,w,u=!1,y=[];Error.captureStackTrace&&
(Error.captureStackTrace(d,n),Error.captureStackTrace(b,n));this.isResolved=b.isResolved=function(){return 1===h};this.isRejected=b.isRejected=function(){return 2===h};this.isFulfilled=b.isFulfilled=function(){return!!h};this.isCanceled=b.isCanceled=function(){return u};this.progress=function(a,c){if(h){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}e(y,0,a,null,d);return b};this.resolve=function(a,c){if(h){if(!0===c)throw Error("This deferred has already been fulfilled.");
return b}e(y,h=1,l=a,null,d);y=null;return b};var v=this.reject=function(a,c){if(h){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}Error.captureStackTrace&&Error.captureStackTrace(w={},v);e(y,h=2,l=a,w,d);y=null;return b};this.then=b.then=function(a,c,f){var e=[f,a,c];e.cancel=b.cancel;e.deferred=new n(function(a){return e.cancel&&e.cancel(a)});h&&!y?g(e,h,l,w):y.push(e);return e.deferred.promise};this.cancel=b.cancel=function(b,c){if(h){if(!0===c)throw Error("This deferred has already been fulfilled.");
}else{if(a){var e=a(b);b="undefined"===typeof e?b:e}u=!0;if(h){if(2===h&&l===b)return b}else return"undefined"===typeof b&&(b=new k),v(b),b}};c(b)};n.prototype.toString=function(){return"[object Deferred]"};h&&h(n);return n})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(d,l,k){l=l.NodeList;var m=l.prototype;m.connect=l._adaptAsForEach(function(){return d.connect.apply(this,arguments)});m.coords=l._adaptAsMap(d.coords);l.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");
k.forEach(l.events,function(d){var c="on"+d;m[c]=function(e,g){return this.connect(c,e,g)}});return d.NodeList=l})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(d,l,k,m){var h=d.Color=function(c){c&&this.setColor(c)};h.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,
0,255],teal:[0,128,128],aqua:[0,255,255],transparent:m.transparentColor||[0,0,0,0]};l.extend(h,{r:255,g:255,b:255,a:1,_set:function(c,e,g,b){this.r=c;this.g=e;this.b=g;this.a=b},setColor:function(c){l.isString(c)?h.fromString(c,this):l.isArray(c)?h.fromArray(c,this):(this._set(c.r,c.g,c.b,c.a),c instanceof h||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+
k.map(["r","g","b"],function(c){c=this[c].toString(16);return 2>c.length?"0"+c:c},this).join("")},toCss:function(c){var e=this.r+", "+this.g+", "+this.b;return(c?"rgba("+e+", "+this.a:"rgb("+e)+")"},toString:function(){return this.toCss(!0)}});h.blendColors=d.blendColors=function(c,e,g,b){var a=b||new h;k.forEach(["r","g","b","a"],function(b){a[b]=c[b]+(e[b]-c[b])*g;"a"!=b&&(a[b]=Math.round(a[b]))});return a.sanitize()};h.fromRgb=d.colorFromRgb=function(c,e){var g=c.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);
return g&&h.fromArray(g[1].split(/\s*,\s*/),e)};h.fromHex=d.colorFromHex=function(c,e){var g=e||new h,b=4==c.length?4:8,a=(1<<b)-1;c=Number("0x"+c.substr(1));if(isNaN(c))return null;k.forEach(["b","g","r"],function(e){var f=c&a;c>>=b;g[e]=4==b?17*f:f});g.a=1;return g};h.fromArray=d.colorFromArray=function(c,e){var g=e||new h;g._set(Number(c[0]),Number(c[1]),Number(c[2]),Number(c[3]));isNaN(g.a)&&(g.a=1);return g.sanitize()};h.fromString=d.colorFromString=function(c,e){var g=h.named[c];return g&&h.fromArray(g,
e)||h.fromRgb(c,e)||h.fromHex(c,e)};return h})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(d,l,k,m){function h(a,b,c){var e="";a&&a.stack&&(e+=a.stack);b&&b.stack&&(e+="\n    ----------------------------------------\n    rejected"+b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));c&&c.stack&&(e+="\n    ----------------------------------------\n"+c.stack);console.error(a,e)}function c(a,b,c,e){b||h(a,c,e)}function e(c,
e,d,h){e?m.some(b,function(a,e){if(a.error===c)return b.splice(e,1),!0}):m.some(b,function(a){return a.error===c})||b.push({error:c,rejection:d,deferred:h,timestamp:(new Date).getTime()});a||(a=setTimeout(g,n))}function g(){var c=(new Date).getTime(),e=c-n;b=m.filter(b,function(a){return a.timestamp<e?(h(a.error,a.rejection,a.deferred),!1):!0});a=b.length?setTimeout(g,b[0].timestamp+n-c):!1}var b=[],a=!1,n=1E3;return function(a){var b=l("config-useDeferredInstrumentation");if(b){d.on("resolved",k.hitch(console,
"log","resolved"));d.on("rejected",k.hitch(console,"log","rejected"));d.on("progress",k.hitch(console,"log","progress"));var g=[];"string"===typeof b&&(g=b.split(","),b=g.shift());if("report-rejections"===b)a.instrumentRejected=c;else if("report-unhandled-rejections"===b||!0===b||1===b)a.instrumentRejected=e,n=parseInt(g[0],10)||n;else throw Error("Unsupported instrumentation usage \x3c"+b+"\x3e");}}})},"dojo/selector/_loader":function(){define(["../has","require"],function(d,l){var k=document.createElement("div");
d.add("dom-qsa2.1",!!k.querySelectorAll);d.add("dom-qsa3",function(){try{return k.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==k.querySelectorAll(".TEST:empty").length}catch(d){}});var m;return{load:function(h,c,e,g){g=l;h="default"==h?d("config-selectorEngine")||"css3":h;h="css2"==h||"lite"==h?"./lite":"css2.1"==h?d("dom-qsa2.1")?"./lite":"./acme":"css3"==h?d("dom-qsa3")?"./lite":"./acme":"acme"==h?"./acme":(g=c)&&h;if("?"==h.charAt(h.length-1)){h=h.substring(0,h.length-1);var b=!0}if(b&&(d("dom-compliant-qsa")||
m))return e(m);g([h],function(a){"./lite"!=h&&(m=a);e(a)})}}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(d){function l(){throw new TypeError("abstract");}return d.extend(function(){},{then:function(d,m,h){l()},cancel:function(d,m){l()},isResolved:function(){l()},isRejected:function(){l()},isFulfilled:function(){l()},isCanceled:function(){l()},always:function(d){return this.then(d,d)},otherwise:function(d){return this.then(null,d)},trace:function(){return this},traceRejected:function(){return this},
toString:function(){return"[object Promise]"}})})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(d,l,k,m,h,c){function e(){for(var c=+new Date,e=0,d;e<a.length&&(d=a[e]);e++){var h=d.response,k=h.options;if(d.isCanceled&&d.isCanceled()||d.isValid&&!d.isValid(h))a.splice(e--,1),g._onAction&&g._onAction();else if(d.isReady&&d.isReady(h))a.splice(e--,
1),d.handleResponse(h),g._onAction&&g._onAction();else if(d.startTime&&d.startTime+(k.timeout||0)<c)a.splice(e--,1),d.cancel(new l("Timeout exceeded",h)),g._onAction&&g._onAction()}g._onInFlight&&g._onInFlight(d);a.length||(clearInterval(b),b=null)}function g(c){c.response.options.timeout&&(c.startTime=+new Date);c.isFulfilled()||(a.push(c),b||(b=setInterval(e,50)),c.response.options.sync&&e())}var b=null,a=[];g.cancelAll=function(){try{m.forEach(a,function(a){try{a.cancel(new k("All requests canceled."))}catch(b){}})}catch(b){}};
h&&(c&&h.doc.attachEvent)&&c(h.global,"unload",function(){g.cancelAll()});return g})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(d,l){var k=document.createElement("div"),m=k.matchesSelector||k.webkitMatchesSelector||k.mozMatchesSelector||k.msMatchesSelector||k.oMatchesSelector,h=k.querySelectorAll,c=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;d.add("dom-matches-selector",!!m);d.add("dom-qsa",!!h);var e=function(c,f){if(a&&-1<c.indexOf(","))return a(c,f);
var d=f?f.ownerDocument||f:l.doc||document,k=(h?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(c);f=f||d;if(k){if(k[2]){var m=l.byId?l.byId(k[2],d):d.getElementById(k[2]);if(!m||k[1]&&k[1]!=m.tagName.toLowerCase())return[];if(f!=d)for(d=m;d!=f;)if(d=d.parentNode,!d)return[];return k[3]?e(k[3],m):[m]}if(k[3]&&f.getElementsByClassName)return f.getElementsByClassName(k[4]);if(k[5])if(m=f.getElementsByTagName(k[5]),k[4]||k[6])c=
(k[4]||"")+k[6];else return m}if(h)return 1===f.nodeType&&"object"!==f.nodeName.toLowerCase()?g(f,c,f.querySelectorAll):f.querySelectorAll(c);m||(m=f.getElementsByTagName("*"));for(var k=[],d=0,q=m.length;d<q;d++){var w=m[d];1==w.nodeType&&b(w,c,f)&&k.push(w)}return k},g=function(a,b,e){var g=a,d=a.getAttribute("id"),h=d||"__dojo__",k=a.parentNode,m=/^\s*[+~]/.test(b);if(m&&!k)return[];d?h=h.replace(/'/g,"\\$\x26"):a.setAttribute("id",h);m&&k&&(a=a.parentNode);b=b.match(c);for(k=0;k<b.length;k++)b[k]=
"[id\x3d'"+h+"'] "+b[k];b=b.join(",");try{return e.call(a,b)}finally{d||g.removeAttribute("id")}};if(!d("dom-matches-selector"))var b=function(){function a(b,c,e){var f=c.charAt(0);if('"'==f||"'"==f)c=c.slice(1,-1);c=c.replace(/\\/g,"");var g=h[e||""];return function(a){return(a=a.getAttribute(b))&&g(a,c)}}function b(a){return function(b,c){for(;(b=b.parentNode)!=c;)if(a(b,c))return!0}}function c(a){return function(b,c){b=b.parentNode;return a?b!=c&&a(b,c):b==c}}function e(a,b){return a?function(c,
e){return b(c)&&a(c,e)}:b}var g="div"==k.tagName?"toLowerCase":"toUpperCase",d={"":function(a){a=a[g]();return function(b){return b.tagName==a}},".":function(a){var b=" "+a+" ";return function(c){return-1<c.className.indexOf(a)&&-1<(" "+c.className+" ").indexOf(b)}},"#":function(a){return function(b){return b.id==a}}},h={"^\x3d":function(a,b){return 0==a.indexOf(b)},"*\x3d":function(a,b){return-1<a.indexOf(b)},"$\x3d":function(a,b){return a.substring(a.length-b.length,a.length)==b},"~\x3d":function(a,
b){return-1<(" "+a+" ").indexOf(" "+b+" ")},"|\x3d":function(a,b){return 0==(a+"-").indexOf(b+"-")},"\x3d":function(a,b){return a==b},"":function(a,b){return!0}},m={};return function(g,h,k){var l=m[h];if(!l){if(h.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,function(g,h,k,m,w,r,u){m?l=e(l,d[k||""](m.replace(/\\/g,""))):h?l=(" "==h?b:c)(l):w&&(l=e(l,a(w,u,r)));return""}))throw Error("Syntax error in query");if(!l)return!0;
m[h]=l}return l(g,k)}}();if(!d("dom-qsa"))var a=function(a,b){for(var g=a.match(c),d=[],h=0;h<g.length;h++){a=new String(g[h].replace(/\s*$/,""));a.indexOf=escape;for(var k=e(a,b),m=0,l=k.length;m<l;m++){var y=k[m];d[y.sourceIndex]=y}}g=[];for(h in d)g.push(d[h]);return g};e.match=m?function(a,b,c){return c&&9!=c.nodeType?g(c,b,function(b){return m.call(a,b)}):m.call(a,b)}:b;return e})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(d,l,k){function m(a,
c,e,d,h){if(d=c.match(/(.*):(.*)/))return c=d[2],d=d[1],g.selector(d,c).call(h,a,e);k("touch")&&(b.test(c)&&(e=A(e)),!k("event-orientationchange")&&"orientationchange"==c&&(c="resize",a=window,e=A(e)));s&&(e=s(e));if(a.addEventListener){var n=c in f,m=n?f[c]:c;a.addEventListener(m,e,n);return{remove:function(){a.removeEventListener(m,e,n)}}}if(u&&a.attachEvent)return u(a,"on"+c,e);throw Error("Target must be an event emitter");}function h(){this.cancelable=!1;this.defaultPrevented=!0}function c(){this.bubbles=
!1}var e=window.ScriptEngineMajorVersion;k.add("jscript",e&&e()+ScriptEngineMinorVersion()/10);k.add("event-orientationchange",k("touch")&&!k("android"));k.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);k.add("event-focusin",function(a,b,c){return"onfocusin"in c||c.addEventListener&&function(){function a(){c=!0}var c=!1;try{var e=b.createElement("input"),f=b.activeElement;e.style.position="fixed";e.addEventListener("focusin",
a,!1);b.body.appendChild(e);e.focus();b.body.removeChild(e);e.removeEventListener("focusin",a,!1);f.focus()}catch(g){}return c}()});var g=function(a,b,c,e){return"function"==typeof a.on&&"function"!=typeof b&&!a.nodeType?a.on(b,c):g.parse(a,b,c,m,e,this)};g.pausable=function(a,b,c,e){var f;a=g(a,b,function(){if(!f)return c.apply(this,arguments)},e);a.pause=function(){f=!0};a.resume=function(){f=!1};return a};g.once=function(a,b,c,e){var f=g(a,b,function(){f.remove();return c.apply(this,arguments)});
return f};g.parse=function(a,b,c,e,f,g){if(b.call)return b.call(g,a,c);if(-1<b.indexOf(",")){b=b.split(/\s*,\s*/);for(var d=[],h=0,k;k=b[h++];)d.push(e(a,k,c,f,g));d.remove=function(){for(var a=0;a<d.length;a++)d[a].remove()};return d}return e(a,b,c,f,g)};var b=/^touch/;g.selector=function(a,b,c){return function(e,f){function d(b){for(h=h&&h.matches?h:l.query;!h.matches(b,a,e);)if(b==e||!1===c||!(b=b.parentNode)||1!=b.nodeType)return;return b}var h="function"==typeof a?{matches:a}:this,k=b.bubble;
return k?g(e,k(d),f):g(e,b,function(a){var b=d(a.target);return b&&f.call(b,a)})}};var a=[].slice,n=g.emit=function(b,e,f){var g=a.call(arguments,2),d="on"+e;if("parentNode"in b){var k=g[0]={},n;for(n in f)k[n]=f[n];k.preventDefault=h;k.stopPropagation=c;k.target=b;k.type=e;f=k}do b[d]&&b[d].apply(b,g);while(f&&f.bubbles&&(b=b.parentNode));return f&&f.cancelable&&f},f=k("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!k("event-stopimmediatepropagation"))var p=function(){this.modified=this.immediatelyStopped=
!0},s=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=p,a.apply(this,arguments)}};if(k("dom-addeventlistener"))g.emit=function(a,b,c){if(a.dispatchEvent&&document.createEvent){var e=a.ownerDocument.createEvent("HTMLEvents");e.initEvent(b,!!c.bubbles,!!c.cancelable);for(var f in c)f in e||(e[f]=c[f]);return a.dispatchEvent(e)&&e}return n.apply(g,arguments)};else{g._fixEvent=function(a,b){a||(a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event);
if(!a)return a;try{r&&(a.type==r.type&&a.srcElement==r.target)&&(a=r)}catch(c){}if(!a.target)switch(a.target=a.srcElement,a.currentTarget=b||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||(a.stopPropagation=y,a.preventDefault=v),a.type){case "keypress":var e="charCode"in a?a.charCode:a.keyCode;10==e?(e=0,a.keyCode=13):13==e||27==e?e=0:3==e&&(e=99);a.charCode=e;e=a;e.keyChar=e.charCode?String.fromCharCode(e.charCode):
"";e.charOrCode=e.keyChar||e.keyCode}return a};var r,q=function(a){this.handle=a};q.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var w=function(a){return function(b){b=g._fixEvent(b,this);var c=a.call(this,b);b.modified&&(r||setTimeout(function(){r=null}),r=b);return c}},u=function(a,b,c){c=w(c);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>k("jscript"))&&!k("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=
[]);var e=a[b];if(!e||!e.listeners){var f=e,e=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");e.listeners=[];a[b]=e;e.global=this;f&&e.listeners.push(_dojoIEListeners_.push(f)-1)}e.listeners.push(a=e.global._dojoIEListeners_.push(c)-1);return new q(a)}return d.after(a,b,c,!0)},y=function(){this.cancelBubble=!0},v=g._preventDefault=function(){this.bubbledKeyCode=
this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(k("touch"))var t=function(){},x=window.orientation,A=function(a){return function(b){var c=b.corrected;if(!c){var e=b.type;try{delete b.type}catch(f){}if(b.type){if(k("mozilla")){var c={},g;for(g in b)c[g]=b[g]}else t.prototype=b,c=new t;c.preventDefault=function(){b.preventDefault()};c.stopPropagation=function(){b.stopPropagation()}}else c=b,c.type=e;b.corrected=c;if("resize"==
e){if(x==window.orientation)return null;x=window.orientation;c.type="orientationchange";return a.call(this,c)}"rotation"in c||(c.rotation=0,c.scale=1);var e=c.changedTouches[0],d;for(d in e)delete c[d],c[d]=e[d]}return a.call(this,c)}};return g})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(d,l,k){d._name="browser";l.mixin(d,{isBrowser:!0,isFF:k("ff"),isIE:k("ie"),isKhtml:k("khtml"),isWebKit:k("webkit"),isMozilla:k("mozilla"),isMoz:k("mozilla"),isOpera:k("opera"),
isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:k("android"),isWii:k("wii"),isQuirks:k("quirks"),isAir:k("air")});return k})},"dojo/errors/create":function(){define(["../_base/lang"],function(d){return function(l,k,m,h){m=m||Error;var c=function(e){if(m===Error){Error.captureStackTrace&&Error.captureStackTrace(this,c);var g=Error.call(this,e),b;for(b in g)g.hasOwnProperty(b)&&(this[b]=g[b]);this.message=e;this.stack=g.stack}else m.apply(this,arguments);k&&k.apply(this,
arguments)};c.prototype=d.delegate(m.prototype,h);c.prototype.name=l;return c.prototype.constructor=c}})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(d,l,k){function m(a){return e[a]=new Function("item","index","array",a)}function h(a){var b=!a;return function(c,g,d){var h=0,k=c&&c.length||0,l;k&&"string"==typeof c&&(c=c.split(""));"string"==typeof g&&(g=e[g]||m(g));if(d)for(;h<k;++h){if(l=!g.call(d,c[h],h,c),a^l)return!l}else for(;h<k;++h)if(l=!g(c[h],h,c),a^l)return!l;
return b}}function c(a){var c=1,e=0,d=0;a||(c=e=d=-1);return function(h,k,m,l){if(l&&0<c)return b.lastIndexOf(h,k,m);l=h&&h.length||0;var u=a?l+d:e;m===g?m=a?e:l+d:0>m?(m=l+m,0>m&&(m=e)):m=m>=l?l+d:m;for(l&&"string"==typeof h&&(h=h.split(""));m!=u;m+=c)if(h[m]==k)return m;return-1}}var e={},g,b={every:h(!1),some:h(!0),indexOf:c(!0),lastIndexOf:c(!1),forEach:function(a,b,c){var g=0,d=a&&a.length||0;d&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=e[b]||m(b));if(c)for(;g<d;++g)b.call(c,
a[g],g,a);else for(;g<d;++g)b(a[g],g,a)},map:function(a,b,c,g){var d=0,h=a&&a.length||0;g=new (g||Array)(h);h&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=e[b]||m(b));if(c)for(;d<h;++d)g[d]=b.call(c,a[d],d,a);else for(;d<h;++d)g[d]=b(a[d],d,a);return g},filter:function(a,b,c){var g=0,d=a&&a.length||0,h=[],k;d&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=e[b]||m(b));if(c)for(;g<d;++g)k=a[g],b.call(c,k,g,a)&&h.push(k);else for(;g<d;++g)k=a[g],b(k,g,a)&&h.push(k);return h},
clearCache:function(){e={}}};k.mixin(d,b);return b})},"dojo/_base/json":function(){define(["./kernel","../json"],function(d,l){d.fromJson=function(d){return eval("("+d+")")};d._escapeString=l.stringify;d.toJsonIndentStr="\t";d.toJson=function(k,m){return l.stringify(k,function(d,c){if(c){var e=c.__json__||c.json;if("function"==typeof e)return e.call(c)}return c},m&&d.toJsonIndentStr)};return d})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(d,l,k){var m={global:d.global,
doc:this.document||null,body:function(h){h=h||d.doc;return h.body||h.getElementsByTagName("body")[0]},setContext:function(h,c){d.global=m.global=h;d.doc=m.doc=c},withGlobal:function(h,c,e,g){var b=d.global;try{return d.global=m.global=h,m.withDoc.call(null,h.document,c,e,g)}finally{d.global=m.global=b}},withDoc:function(h,c,e,g){var b=m.doc,a=k("quirks"),n=k("ie"),f,l,s;try{d.doc=m.doc=h;d.isQuirks=k.add("quirks","BackCompat"==d.doc.compatMode,!0,!0);if(k("ie")&&(s=h.parentWindow)&&s.navigator)f=
parseFloat(s.navigator.appVersion.split("MSIE ")[1])||void 0,(l=h.documentMode)&&(5!=l&&Math.floor(f)!=l)&&(f=l),d.isIE=k.add("ie",f,!0,!0);e&&"string"==typeof c&&(c=e[c]);return c.apply(e,g||[])}finally{d.doc=m.doc=b,d.isQuirks=k.add("quirks",a,!0,!0),d.isIE=k.add("ie",n,!0,!0)}}};l.mixin(d,m);return m})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(d,l,k){function m(b){if("string"==typeof b||b instanceof String){if(b&&!c.test(b))return e[0]=b,e;b=b.split(c);
b.length&&!b[0]&&b.shift();b.length&&!b[b.length-1]&&b.pop();return b}return!b?[]:l.filter(b,function(a){return a})}var h,c=/\s+/,e=[""],g={};return h={contains:function(b,a){return 0<=(" "+k.byId(b).className+" ").indexOf(" "+a+" ")},add:function(b,a){b=k.byId(b);a=m(a);var c=b.className,e,c=c?" "+c+" ":" ";e=c.length;for(var g=0,d=a.length,h;g<d;++g)(h=a[g])&&0>c.indexOf(" "+h+" ")&&(c+=h+" ");e<c.length&&(b.className=c.substr(1,c.length-2))},remove:function(b,a){b=k.byId(b);var c;if(void 0!==a){a=
m(a);c=" "+b.className+" ";for(var e=0,g=a.length;e<g;++e)c=c.replace(" "+a[e]+" "," ");c=d.trim(c)}else c="";b.className!=c&&(b.className=c)},replace:function(b,a,c){b=k.byId(b);g.className=b.className;h.remove(g,c);h.add(g,a);b.className!==g.className&&(b.className=g.className)},toggle:function(b,a,c){b=k.byId(b);if(void 0===c){a=m(a);for(var e=0,g=a.length,d;e<g;++e)d=a[e],h[h.contains(b,d)?"remove":"add"](b,d)}else h[c?"add":"remove"](b,a);return c}}})},"dojo/_base/config":function(){define(["../has",
"require"],function(d,l){var k={},m=l.rawConfig,h;for(h in m)k[h]=m[h];!k.locale&&"undefined"!=typeof navigator&&(k.locale=(navigator.language||navigator.userLanguage).toLowerCase());return k})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(d,l,k,m){if(l._fixEvent){var h=l._fixEvent;l._fixEvent=function(c,g){(c=h(c,g))&&m.normalizeEvent(c);return c}}var c={fix:function(c,g){return l._fixEvent?l._fixEvent(c,g):c},stop:function(c){k("dom-addeventlistener")||
c&&c.preventDefault?(c.preventDefault(),c.stopPropagation()):(c=c||window.event,c.cancelBubble=!0,l._preventDefault.call(c))}};d.fixEvent=c.fix;d.stopEvent=c.stop;return c})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color ./has!dojo-firebug?./_firebug/firebug ./_base/browser require".split(" "),function(d,l,k,m,h,c,e,g){e.isDebug&&k(["./_firebug/firebug"]);
var b=e.require;b&&(b=c.map(h.isArray(b)?b:[b],function(a){return a.replace(/\./g,"/")}),d.isAsync?k(b):g(1,function(){k(b)}));return d})},"dojo/sniff":function(){define(["./has"],function(d){var l=navigator,k=l.userAgent,l=l.appVersion,m=parseFloat(l);d.add("air",0<=k.indexOf("AdobeAIR"));d.add("msapp",parseFloat(k.split("MSAppHost/")[1])||void 0);d.add("khtml",0<=l.indexOf("Konqueror")?m:void 0);d.add("webkit",parseFloat(k.split("WebKit/")[1])||void 0);d.add("chrome",parseFloat(k.split("Chrome/")[1])||
void 0);d.add("safari",0<=l.indexOf("Safari")&&!d("chrome")?parseFloat(l.split("Version/")[1]):void 0);d.add("mac",0<=l.indexOf("Macintosh"));d.add("quirks","BackCompat"==document.compatMode);if(k.match(/(iPhone|iPod|iPad)/)){var h=RegExp.$1.replace(/P/,"p"),c=k.match(/OS ([\d_]+)/)?RegExp.$1:"1",c=parseFloat(c.replace(/_/,".").replace(/_/g,""));d.add(h,c);d.add("ios",c)}d.add("android",parseFloat(k.split("Android ")[1])||void 0);d.add("bb",(0<=k.indexOf("BlackBerry")||0<=k.indexOf("BB10"))&&parseFloat(k.split("Version/")[1])||
void 0);d.add("trident",parseFloat(l.split("Trident/")[1])||void 0);d.add("svg","undefined"!==typeof SVGAngle);if(!d("webkit")){0<=k.indexOf("Opera")&&d.add("opera",9.8<=m?parseFloat(k.split("Version/")[1])||m:m);0<=k.indexOf("Gecko")&&(!d("khtml")&&!d("webkit")&&!d("trident"))&&d.add("mozilla",m);d("mozilla")&&d.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0);var e;document.all&&!d("opera")?e=parseFloat(l.split("MSIE ")[1])||void 0:l.indexOf("Trident")&&(e=parseFloat(l.split("rv:")[1])||
void 0);e&&((k=document.documentMode)&&(5!=k&&Math.floor(e)!=k)&&(e=k),d.add("ie",e));d.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return d})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(d,l,k,m){function h(b){var a=g[b.options.handleAs];b.data=a?a(b):b.data||b.text;return b}m.add("activex","undefined"!==typeof ActiveXObject);m.add("dom-parser",function(b){return"DOMParser"in b});var c;if(m("activex")){var e=
["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];c=function(b){var a=b.data;a&&(m("dom-qsa2.1")&&!a.querySelectorAll&&m("dom-parser"))&&(a=(new DOMParser).parseFromString(b.text,"application/xml"));if(!a||!a.documentElement){var c=b.text;k.some(e,function(b){try{var e=new ActiveXObject(b);e.async=!1;e.loadXML(c);a=e}catch(g){return!1}return!0})}return a}}var g={javascript:function(b){return l.eval(b.text||"")},json:function(b){return d.parse(b.text||
null)},xml:c};h.register=function(b,a){g[b]=a};return h})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(d,l,k,m,h){var c=0,e=[],g=0;l=function(){c=1;d._postLoad=d.config.afterOnLoad=!0;b()};var b=function(){if(!g){for(g=1;c&&(!m||0==m._Q.length)&&(k.idle?k.idle():1)&&e.length;){var a=e.shift();try{a()}catch(b){if(b.info=b.message,k.signal)k.signal("error",b);else throw b;}}g=0}};k.on&&k.on("idle",b);m&&(m._onQEmpty=b);var a=d.ready=d.addOnLoad=
function(a,c,g){var k=h._toArray(arguments);"number"!=typeof a?(g=c,c=a,a=1E3):k.shift();g=g?h.hitch.apply(d,k):function(){c()};g.priority=a;for(k=0;k<e.length&&a>=e[k].priority;k++);e.splice(k,0,g);b()},n=d.config.addOnLoad;if(n)a[h.isArray(n)?"apply":"call"](d,n);m?m(l):l();return a})},"dojo/aspect":function(){define([],function(){function d(c,b,a,e){var f=c[b],d="around"==b,h;if(d){var k=a(function(){return f.advice(this,arguments)});h={remove:function(){k&&(k=c=a=null)},advice:function(a,b){return k?
k.apply(a,b):f.advice(a,b)}}}else h={remove:function(){if(h.advice){var e=h.previous,f=h.next;!f&&!e?delete c[b]:(e?e.next=f:c[b]=f,f&&(f.previous=e));c=a=h.advice=null}},id:m++,advice:a,receiveArguments:e};if(f&&!d)if("after"==b){for(;f.next&&(f=f.next););f.next=h;h.previous=f}else"before"==b&&(c[b]=h,h.next=f,f.previous=h);else c[b]=h;return h}function l(c){return function(b,a,e,f){var h=b[a],l;if(!h||h.target!=b)b[a]=l=function(){for(var a=m,b=arguments,c=l.before;c;)b=c.advice.apply(this,b)||
b,c=c.next;if(l.around)var e=l.around.advice(this,b);for(c=l.after;c&&c.id<a;){if(c.receiveArguments)var f=c.advice.apply(this,b),e=f===k?e:f;else e=c.advice.call(this,e,b);c=c.next}return e},h&&(l.around={advice:function(a,b){return h.apply(a,b)}}),l.target=b;b=d(l||h,c,e,f);e=null;return b}}var k,m=0,h=l("after"),c=l("before"),e=l("around");return{before:c,around:e,after:h}})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),
function(d,l,k,m,h,c,e,g){function b(a,b,e,f,h){f=g.hitch(e,f);if(!a||!a.addEventListener&&!a.attachEvent)return m.after(a||d.global,b,f,!0);"string"==typeof b&&"on"==b.substring(0,2)&&(b=b.substring(2));a||(a=d.global);if(!h)switch(b){case "keypress":b=s;break;case "mouseenter":b=c.enter;break;case "mouseleave":b=c.leave}return l(a,b,f,h)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}e.add("events-keypress-typed",function(){var a={charCode:0};
try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!e("opera")});var n={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},f=e("mac")?"metaKey":"ctrlKey",p=function(b,c){var e=g.mixin({},b,c);a(e);e.preventDefault=function(){b.preventDefault()};e.stopPropagation=function(){b.stopPropagation()};return e},s;s=e("events-keypress-typed")?function(a,
b){var c=l(a,"keydown",function(a){var c=a.keyCode,f=13!=c&&32!=c&&(27!=c||!e("ie"))&&(48>c||90<c)&&(96>c||111<c)&&(186>c||192<c)&&(219>c||222<c)&&229!=c;if(f||a.ctrlKey){f=f?0:c;if(a.ctrlKey){if(3==c||13==c)return b.call(a.currentTarget,a);f=95<f&&106>f?f-48:!a.shiftKey&&65<=f&&90>=f?f+32:n[f]||f}c=p(a,{type:"keypress",faux:!0,charCode:f});b.call(a.currentTarget,c);if(e("ie"))try{a.keyCode=c.keyCode}catch(g){}}}),f=l(a,"keypress",function(a){var c=a.charCode;a=p(a,{charCode:32<=c?c:0,faux:!0});return b.call(this,
a)});return{remove:function(){c.remove();f.remove()}}}:e("opera")?function(a,b){return l(a,"keypress",function(a){var c=a.which;3==c&&(c=99);c=32>c&&!a.shiftKey?0:c;a.ctrlKey&&(!a.shiftKey&&65<=c&&90>=c)&&(c+=32);return b.call(this,p(a,{charCode:c}))})}:function(b,c){return l(b,"keypress",function(b){a(b);return c.call(this,b)})};var r={_keypress:s,connect:function(a,c,e,f,g){var d=arguments,h=[],k=0;h.push("string"==typeof d[0]?null:d[k++],d[k++]);var m=d[k+1];h.push("string"==typeof m||"function"==
typeof m?d[k++]:null,d[k++]);for(m=d.length;k<m;k++)h.push(d[k]);return b.apply(this,h)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,c){return k.subscribe(a,g.hitch(b,c))},publish:function(a,b){return k.publish.apply(k,[a].concat(b))},connectPublisher:function(a,b,c){var e=function(){r.publish(a,arguments)};return c?r.connect(b,c,e):r.connect(b,e)},isCopyKey:function(a){return a[f]}};r.unsubscribe=r.disconnect;g.mixin(d,r);return r})},"dojo/errors/CancelError":function(){define(["./create"],
function(d){return d("CancelError",null,null,{dojoType:"cancel"})})}}});
require({cache:{"dojo/store/JsonRest":function(){define(["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(d,l,k,m,h){return m("dojo.store.JsonRest",null,{constructor:function(c){this.headers={};m.safeMixin(this,c)},headers:{},target:"",idProperty:"id",ascendingPrefix:"+",descendingPrefix:"-",get:function(c,e){e=e||{};var g=l.mixin({Accept:this.accepts},this.headers,e.headers||e);return d("GET",{url:this.target+c,handleAs:"json",headers:g})},accepts:"application/javascript, application/json",
getIdentity:function(c){return c[this.idProperty]},put:function(c,e){e=e||{};var g="id"in e?e.id:this.getIdentity(c),b="undefined"!=typeof g;return d(b&&!e.incremental?"PUT":"POST",{url:b?this.target+g:this.target,postData:k.stringify(c),handleAs:"json",headers:l.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":!0===e.overwrite?"*":null,"If-None-Match":!1===e.overwrite?"*":null},this.headers,e.headers)})},add:function(c,e){e=e||{};e.overwrite=!1;return this.put(c,e)},remove:function(c,
e){e=e||{};return d("DELETE",{url:this.target+c,headers:l.mixin({},this.headers,e.headers)})},query:function(c,e){e=e||{};var g=l.mixin({Accept:this.accepts},this.headers,e.headers);if(0<=e.start||0<=e.count)g.Range=g["X-Range"]="items\x3d"+(e.start||"0")+"-"+("count"in e&&Infinity!=e.count?e.count+(e.start||0)-1:"");var b=-1<this.target.indexOf("?");c&&"object"==typeof c&&(c=(c=d.objectToQuery(c))?(b?"\x26":"?")+c:"");if(e&&e.sort){var a=this.sortParam;c+=(c||b?"\x26":"?")+(a?a+"\x3d":"sort(");for(b=
0;b<e.sort.length;b++){var k=e.sort[b];c+=(0<b?",":"")+(k.descending?this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(k.attribute)}a||(c+=")")}var f=d("GET",{url:this.target+(c||""),handleAs:"json",headers:g});f.total=f.then(function(){var a=f.ioArgs.xhr.getResponseHeader("Content-Range");return a&&(a=a.match(/\/(.*)/))&&+a[1]});return h(f)}})})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(d,l,k,m){var h;h=function(a,b,c){m(a,{sync:!!b}).then(c)};
var c={},e=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},g={},b={};d.cache=function(a,b,f){var g;"string"==typeof a?/\//.test(a)?(g=a,f=b):g=l.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")):(g=a+"",f=b);a=void 0!=f&&"string"!=typeof f?f.value:f;f=f&&f.sanitize;if("string"==typeof a)return c[g]=a,f?e(a):a;if(null===a)return delete c[g],null;g in c||h(g,!0,function(a){c[g]=
a});return f?e(c[g]):c[g]};return{dynamic:!0,normalize:function(a,b){var c=a.split("!"),e=c[0];return(/^\./.test(e)?b(e):e)+(c[1]?"!"+c[1]:"")},load:function(a,d,f){a=a.split("!");var k=1<a.length,m=a[0],l=d.toUrl(a[0]);a="url:"+l;var q=g,w=function(a){f(k?e(a):a)};m in c?q=c[m]:d.cache&&a in d.cache?q=d.cache[a]:l in c&&(q=c[l]);if(q===g)if(b[l])b[l].push(w);else{var u=b[l]=[w];h(l,!d.async,function(a){c[m]=c[l]=a;for(var e=0;e<u.length;)u[e++](a);delete b[l]})}else w(q)}}})},"jdash/ui/DashletStylesList":function(){define("dojo/_base/declare dojo/_base/lang ./_WidgetBase ./_TemplatedMixin dojo/dom-construct dojo/query dojo/dom-class dojo/dom-style dojo/on ./Button ./ThemeManager ./registry dojo/_base/array dojo/i18n!../nls/language".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s){return d("jdash.ui.DashletStylesList",[k,m],{templateString:"\x3cdiv\x3e\x3c/div\x3e",baseClass:"d-styles-list",postCreate:function(){var a=this,c=function(c){function f(c,d){var k=c?g[c]:null,k=k?h.create("a",{style:{backgroundColor:k.color},title:k.title},a.domNode):h.create("a",{"class":"usetheme",style:{backgroundColor:g[n.currentStyleId].color},title:s.UseDashboardTheme},a.domNode);d&&(k._setThemeStyle=d);k.themeStyleId=c;e.add(k,"selectStyleCommand");b(k,
"click",function(){a.context&&(this._setThemeStyle?(a.context.paneConfig.set("disableTheming",!1),a.context.paneConfig.remove("themeStyleId")):(a.context.paneConfig.set("disableTheming",!0),a.context.paneConfig.set("themeStyleId",this.themeStyleId)))})}c=n.themes[c];h.empty(a.domNode);var g=c.styles;f(null,!0);for(var d in g)f(d)};c(n.currentThemeId);this.subscribe("jdash/theme/changed",function(a){c(n.currentThemeId)});this.inherited(arguments)},destroyRecursive:function(){this.inherited(arguments)},
_setDashletIdAttr:function(a){if(!this.context&&this.dashboard){var b=this;this._set("dashletId",a);this.subscribe("jdash/dashboard/dashletCreated",function(a){b.dashboard==a.sender&&a.args.result.context.model.id==b.dashletId&&b.set("context",a.args.result.context)})}},_setContextAttr:function(a){this._set("context",a);var b=this.originalDisable=this.context.pane.get("disableTheming"),c=this.originalTheme=this.context.pane.get("themeStyleId"),e=this;this.subscribe("jdash/dashlet/editor/canceled",
function(a){a.sender.dashletContext==e.context&&(e.context.paneConfig.set("disableTheming",b),b?e.context.paneConfig.set("themeStyleId",c):e.context.paneConfig.remove("themeStyleId"))})}})})},"jdash/ui/PaneButtons":function(){define("dojo/_base/declare dojo/_base/lang ./_WidgetBase ./_TemplatedMixin dojo/dom-class dojo/dom-style dojo/dom-construct ./_ThemeMixin dojo/_base/array dojo/dom-attr ./ButtonSet ../core/CommandName ../core/DashletCommand".split(" "),function(d,l,k,m,h,c,e,g,b,a,n,f){return d("jdash.ui.PaneButtons",
[n],{createButton:function(a){var c=this,e=function(a,e){var f=c.context.getPaneCommands(),g=a.states[e];b.forEach(f,function(a){if("visualState"==a.type){var b=0>g.indexOf(a.name);a.uiControl&&l.isFunction(a.uiControl.set)&&a.uiControl.set("hidden",b);l.setObject("ui.hidden",b,a);a.hidden=b}},this)};if(a.name!=f.visualState){var g=this._createButton(a);h.remove(g.domNode,"d-btn");h.remove(g.domNode,"d-btn-default");a.uiControl=g}a.name==f.visualState&&"builtIn"==a.type&&(this.context.subscribeToDashlet("visualStateChanged",
function(b){b.sender==this&&e(a,b.args.state)}),e(a,this.context.pane.get("visualState")))}})})},"jdash/layout/_LayoutItem":function(){define(["dojo/_base/declare","dojo/_base/lang","../ui/_DomMixin"],function(d,l,k){return d([k],{})})},"klt/core/WfPatch":function(){define([],function(){return{patch:function(d){return d&&65279==d.charCodeAt(0)?d.slice(1):d}}})},"jdash/core/bus":function(){define(["dojo/_base/lang","klt/core/messageBus"],function(d,l){d.setObject("jdash.msgBus",l);return l})},"jdash/mvc/DashletBase":function(){define("jdash/core/declare dojo/_base/lang klt/core/when dojo/dom-construct dojo/dom-class dojo/query jdash/ui/registry dojo/request/xhr dojo/json dojo/dom-style dojo/dom-attr ./JQueryCompiler jdash/core/Deferred jdash/ui/linker ./InternalCompiler jdash/provider/Manager".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q){var w={jquery:f,internal:r};return d(null,{$query:function(a){return c(a,this.domNode)},$get:function(a){return c(a,this.domNode)[0]},$json:b,$xhr:g,$style:a,$class:h,$context:function(){return this.context},$compile:function(a,b){var c=this.$context().model.module.config.htmlCompiler||(window.jQuery?"jquery":"internal"),c=(c=l.getObject(c,!1,w))||r;return c.compile(a,b)},$viewUrl:function(){return this.$controller+"/index/"+this.$dashletId},$viewHtml:function(a){var b=
this.$viewUrl();a=a||{preventCache:!0};return this.$xhr(b,a)},$handlerError:function(a){alert(a.message)},$createContainer:function(){var a=m.create("div"),b=this.$context().model.id;h.add(a,"dashlet"+b);return a},$createControl:function(a,b,c){"undefined"!=typeof b.$context&&(delete b.$context,b.context=this.$context());(new a(b,c)).startup()},$link:function(a){s.link(a,{paramsReplace:{context:this.$context()}})},$init:function(a){this.$context();this.viewNode=this.$compile(a);this.$link(this.viewNode);
m.place(this.viewNode,this.domNode);a=c("form",this.domNode);this.$form=a.length?a[0]:void 0;c("script",this.domNode).forEach(function(a){eval(a.innerHTML)})},$construct:function(a){var b=this,c=this.$context();this.$constructWaitHandle=k(null,function(){b.$dashletId=c.model.id;b.$controller=q.getInstance().virtualPath+c.model.module.config.mvcConfig.controller;b.domNode=b.domNode||b.$createContainer();m.empty(b.domNode);return k(b.$viewHtml(),function(a){return b.$init(a)})});c.setBusy();k(this.$constructWaitHandle,
function(){c.clearBusy()},function(a){c.clearBusy();b.$handlerError(a)});this._started&&this.$doInitialize(a);return this.$constructWaitHandle},constructor:function(a){this.context=a;var b=this;k(this.$construct(),function(){b.$bindEvents()})},resize:function(){},$bindEvents:function(a){function b(e){"undefined"==typeof c._$lastSize&&(c._$lastSize=a.getDashletSize());c.resize.call(c,e)}var c=this;a=this.$context();a.subscribe("jdash/dashlet/visualStateChanged",function(a){a.sender==this&&l.isFunction(c.resize)&&
b(a)});a.subscribe("klt/viewport/resized",function(a){l.isFunction(c.resize)&&b(a)});a.subscribe("jdash/layout/dnd/dropped",function(a){c.context.pane==a.args.pane&&l.isFunction(c.resize)&&b(a)})},$doInitialize:function(a){var b=this;k(this.$constructWaitHandle,function(){l.isFunction(b.initialize)&&b.initialize(b.$context(),b.viewNode,a)})},startup:function(){this.$doInitialize()},destroyRecursive:function(){l.isFunction(this.destroy)&&this.destroy.apply(this);for(var a=e.findWidgets(this.domNode),
b=0;b<a.length;b++)try{a[b].destroyRecursive()}catch(c){}}})})},"jdash/mvc/mvc":function(){define("require dojo/i18n!jdash/nls/language jdash/core/declare jdash/ui/DashboardView jdash/ui/Button dojo/dom dojo/query dojo/NodeList-traverse jdash/ui/registry jdash/model/DashletModel jdash/model/DashboardModel jdash/model/DashletModuleModel dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/Deferred dojo/json klt/core/when dojo/dom-class dojo/dom-construct jdash/ui/ThemeManager jdash/layout/LayoutManager jdash/ui/DashletStylesList jdash/ui/ThemeStylesList jdash/ui/TitleEditor dojo/_base/fx dojo/dom-style jdash/ui/DashletPane jdash/ui/DashletEditView jdash/ui/DashletPropertyEditor jdash/core/DashletContext dojo/promise/all dojo/Stateful jdash/init jdash/provider/JsonRest/JsonRestProvider jdash/provider/Manager dojo/request/xhr dojo/dom-form ./Dashlet ./DashletEditor jdash/ui/linker klt/domReady!".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q,w,u,y,v,t,x,A,E,F,R,L,M,T,S,C,H,I,z,B,D,U,P,G,J,N){var O=new q,K=k(f,{dashletConstructor:function(a){return new function(){var b=new q;if("[MVCDefault]"!=a.model.module.path)d([a.model.module.path],function(c){c=p.isFunction(c)?new c(a):(new k(G,c))(a);b.resolve(c)},function(a){b.reject(a)});else{var c=new G(a);b.resolve(c)}return b}},editorConstructor:function(a){return new function(){var b=new q,c=a.dashletContext.model.module.config.editor&&a.dashletContext.model.module.config.editor.path||
"[MVCDefault]";"[MVCDefault]"!=c?d([c],function(c){c=p.isFunction(c)?new c(a):(new k(J,c))(a);b.resolve(c)},function(a){b.reject(a)}):(c=new J(a),b.resolve(c));return b}}}),Q=k("JDash.MvcProvider",B,{virtualPath:"",getDashletModuleClass:function(){return K}});return{query:e,attr:r,DashletModel:a,when:u,emptyFn:function(){},clientInitDone:function(){return O},createUiControl:function(a,b,c){p.isFunction(a)||(a=p.getObject(a));(new a(b,c)).startup()},getCmp:function(a){return b.byId(a)},ThemeManager:t,
Linker:N,initClient:function(a){p.mixin(t.knownResourcePaths,a.resourceOverrides);if(a.customThemes)for(var b in a.customThemes)t.register(a.customThemes[b].Key,a.customThemes[b].Value);D.register("MvcProvider",Q,!0,a.provider);a=t.init(a.themeManager);u(a,function(){O.resolve()},function(a){O.reject()})}}})},"dojo/request/default":function(){define(["exports","require","../has"],function(d,l,k){var m=k("config-requestProvider");m||(m="./xhr");d.getPlatformDefaultId=function(){return"./xhr"};d.load=
function(d,c,e,g){l(["platform"==d?"./xhr":m],function(b){e(b)})}})},"jdash/layout/MMoveable":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/has dojo/dom dojo/dom-class dojo/Evented dojo/on dojo/topic dojo/touch dojo/dnd/common dojo/dnd/Mover dojo/_base/window dojo/dom-geometry dojo/query dojo/NodeList-traverse".split(" "),function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q){return l("jdash.layout.MMoveable",[g],{handle:"",skip:!1,constructor:function(a,e){this.node=
c.byId(a);e||(e={});this.handle=e.handle?c.byId(e.handle):null;this.handle||(this.handle=this.node);this.delay=0<e.delay?e.delay:0;this.skip=e.skip;this.mover=e.mover?e.mover:p;this.events=[b(this.handle,n.press,m.hitch(this,"onMouseDown")),b(this.handle,"dragstart",m.hitch(this,"onSelectStart")),b(this.handle,"selectstart",m.hitch(this,"onSelectStart"))]},markupFactory:function(a,b,c){return new c(b,a)},destroy:function(){d.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=
null},onMouseDown:function(a){if(!this._isDragging)if(this.node.AvatarNode)this._onMouseDown(a);else{var b=this;if(b.manager){var c=b.manager.validateDragStaring(this.node,a);c?c.then(function(c){c&&(b._onMouseDown(a),b.manager.publishDragStarted())}):b.inherited(arguments)}else b._onMouseDown(a)}},_onMouseDown:function(a){this.node.preventClick=!1;var c=0<=" textarea input select option ".indexOf(" "+a.target.tagName.toLowerCase()+" ");if(!this.skip||!c){if(h("touch"))if(this.delay)this.events.push(b(this.handle,
n.move,m.hitch(this,"onMouseMove")),b(this.handle,n.release,m.hitch(this,"onMouseUp"))),this._lastX=a.pageX,this._lastY=a.pageY;else this.onDragDetected(a);else{if(1!=(a.which||a.button))return;this.events.push(b(this.handle,n.move,m.hitch(this,"onMouseMove")),b(this.handle,n.release,m.hitch(this,"onMouseUp")));this._lastX=a.pageX;this._lastY=a.pageY}k.stop(a)}},onMouseMove:function(a){h("ff")&&(window.event=a);if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.node.preventClick=
!0,this.node.isDragging=!0,this.onMouseUp(a),this.onDragDetected(a);k.stop(a)},onMouseUp:function(a){this.node.isDragging=!1;for(var b=0;2>b;++b)this.events.pop().remove();k.stop(a)},onSelectStart:function(a){var b=!1,c=q(a.srcElement).parents();d.some(c,function(a){if(e.contains(a,"d-dashlet-content"))return b=!0,!1});(!this.skip||!f.isFormElement(a)&&!b)&&k.stop(a)},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(b){a.publish("/dnd/move/start",b);e.add(s.body(),
"dojoMove");e.add(this.node,"dojoMoveItem")},onMoveStop:function(b){a.publish("/dnd/move/stop",b);e.remove(s.body(),"dojoMove");e.remove(this.node,"dojoMoveItem")},onFirstMove:function(a,b){},onMove:function(a,b,c){h("ff")&&(window.event=c);this.onMoving(a,b);c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q){function w(a){return eval("("+a+")")}function u(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<v){var b=a._nameCaseMap={},e;for(e in c)"_"!==e.charAt(0)&&(b[e.toLowerCase()]=e);b._extendCnt=v}return b}function y(a,b){var c=a.join();if(!t[c]){for(var e=[],f=0,g=a.length;f<g;f++){var h=a[f];e[e.length]=t[h]=t[h]||k.getObject(h)||~h.indexOf("/")&&(b?b(h):d(h))}f=e.shift();t[c]=e.length?f.createSubclass?f.createSubclass(e):f.extend.apply(f,e):f}return t[c]}
new Date("X");var v=0;b.after(k,"extend",function(){v++},!0);var t={},x={_clearCache:function(){v++;t={}},_functionFromScript:function(a,b){var c="",e="",f=a.getAttribute(b+"args")||a.getAttribute("args"),g=a.getAttribute("with"),f=(f||"").split(/\s*,\s*/);g&&g.length&&m.forEach(g.split(/\s*,\s*/),function(a){c+="with("+a+"){";e+="}"});return new Function(f,c+a.innerHTML+e)},instantiate:function(a,b,c){b=b||{};c=c||{};var e=(c.scope||l._scopeName)+"Type",f="data-"+(c.scope||l._scopeName)+"-",g=f+
"type",d=f+"mixins",h=[];m.forEach(a,function(a){var c=e in b?b[e]:a.getAttribute(g)||a.getAttribute(e);if(c){var f=a.getAttribute(d),c=f?[c].concat(f.split(/\s*,\s*/)):[c];h.push({node:a,types:c})}});return this._instantiate(h,b,c)},_instantiate:function(b,c,e,f){function g(a){!c._started&&!e.noStart&&m.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}b=m.map(b,function(a){var b=a.ctor||y(a.types,e.contextRequire);if(!b)throw Error("Unable to resolve constructor for: '"+
a.types.join()+"'");return this.construct(b,a.node,c,e,a.scripts,a.inherited)},this);return f?a(b).then(g):g(b)},construct:function(a,c,e,f,d,h){function q(a){U&&k.setObject(U,a);for(B=0;B<O.length;B++)b[O[B].advice||"after"](a,O[B].method,k.hitch(a,O[B].func),!0);for(B=0;B<K.length;B++)K[B].call(a);for(B=0;B<Q.length;B++)a.watch(Q[B].prop,Q[B].func);for(B=0;B<W.length;B++)r(a,W[B].event,W[B].func);return a}var y=a&&a.prototype;f=f||{};var t={};f.defaults&&k.mixin(t,f.defaults);h&&k.mixin(t,h);var v;
p("dom-attributes-explicit")?v=c.attributes:p("dom-attributes-specified-flag")?v=m.filter(c.attributes,function(a){return a.specified}):(h=(/^input$|^img$/i.test(c.nodeName)?c:c.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),v=m.map(h.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==c.nodeName&&"value"==a||"enctype"==b?c.getAttribute(b):c.getAttributeNode(b).value}}));var x=f.scope||l._scopeName;
h="data-"+x+"-";var z={};"dojo"!==x&&(z[h+"props"]="data-dojo-props",z[h+"type"]="data-dojo-type",z[h+"mixins"]="data-dojo-mixins",z[x+"type"]="dojoType",z[h+"id"]="data-dojo-id");for(var B=0,D,x=[],U,P;D=v[B++];){var G=D.name,J=G.toLowerCase();D=D.value;switch(z[J]||J){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":P=D;break;case "data-dojo-id":case "jsid":U=D;break;case "data-dojo-attach-point":case "dojoattachpoint":t.dojoAttachPoint=D;break;case "data-dojo-attach-event":case "dojoattachevent":t.dojoAttachEvent=
D;break;case "class":t["class"]=c.className;break;case "style":t.style=c.style&&c.style.cssText;break;default:if(G in y||(G=u(a)[J]||G),G in y)switch(typeof y[G]){case "string":t[G]=D;break;case "number":t[G]=D.length?Number(D):NaN;break;case "boolean":t[G]="false"!=D.toLowerCase();break;case "function":""===D||-1!=D.search(/[^\w\.]+/i)?t[G]=new Function(D):t[G]=k.getObject(D,!1)||new Function(D);x.push(G);break;default:J=y[G],t[G]=J&&"length"in J?D?D.split(/\s*,\s*/):[]:J instanceof Date?""==D?new Date(""):
"now"==D?new Date:n.fromISOString(D):J instanceof g?l.baseUrl+D:w(D)}else t[G]=D}}for(v=0;v<x.length;v++)z=x[v].toLowerCase(),c.removeAttribute(z),c[z]=null;if(P)try{P=w.call(f.propsThis,"{"+P+"}"),k.mixin(t,P)}catch(N){throw Error(N.toString()+" in data-dojo-props\x3d'"+P+"'");}k.mixin(t,e);d||(d=a&&(a._noScript||y._noScript)?[]:s("\x3e script[type^\x3d'dojo/']",c));var O=[],K=[],Q=[],W=[];if(d)for(B=0;B<d.length;B++)z=d[B],c.removeChild(z),e=z.getAttribute(h+"event")||z.getAttribute("event"),f=
z.getAttribute(h+"prop"),P=z.getAttribute(h+"method"),x=z.getAttribute(h+"advice"),v=z.getAttribute("type"),z=this._functionFromScript(z,h),e?"dojo/connect"==v?O.push({method:e,func:z}):"dojo/on"==v?W.push({event:e,func:z}):t[e]=z:"dojo/aspect"==v?O.push({method:P,advice:x,func:z}):"dojo/watch"==v?Q.push({prop:f,func:z}):K.push(z);a=(d=a.markupFactory||y.markupFactory)?d(t,c,a):new a(t,c);return a.then?a.then(q):q(a)},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,e=
c(a.parent),b={dir:b.getAttribute("dir")||e.dir,lang:b.getAttribute("lang")||e.lang,textDir:b.getAttribute(w)||e.textDir},f;for(f in b)b[f]&&(a.inherited[f]=b[f])}return a.inherited}var e=[],g=[],h={},k=(b.scope||l._scopeName)+"Type",n="data-"+(b.scope||l._scopeName)+"-",r=n+"type",w=n+"textdir",n=n+"mixins",u=a.firstChild,s=b.inherited;if(!s){var q=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&q(a.parentNode,b)},s={dir:q(a,"dir"),lang:q(a,"lang"),textDir:q(a,w)},t;for(t in s)s[t]||
delete s[t]}for(var s={inherited:s},v,x;;)if(u)if(1!=u.nodeType)u=u.nextSibling;else if(v&&"script"==u.nodeName.toLowerCase())(G=u.getAttribute("type"))&&/^dojo\/\w/i.test(G)&&v.push(u),u=u.nextSibling;else if(x)u=u.nextSibling;else{var G=u.getAttribute(r)||u.getAttribute(k);t=u.firstChild;if(!G&&(!t||3==t.nodeType&&!t.nextSibling))u=u.nextSibling;else{x=null;if(G){var J=u.getAttribute(n);v=J?[G].concat(J.split(/\s*,\s*/)):[G];try{x=y(v,b.contextRequire)}catch(N){}x||m.forEach(v,function(a){~a.indexOf("/")&&
!h[a]&&(h[a]=!0,g[g.length]=a)});J=x&&!x.prototype._noScript?[]:null;s={types:v,ctor:x,parent:s,node:u,scripts:J};s.inherited=c(s);e.push(s)}else s={node:u,scripts:v,parent:s};v=J;x=u.stopParser||x&&x.prototype.stopParser&&!b.template;u=t}}else{if(!s||!s.node)break;u=s.node.nextSibling;x=!1;s=s.parent;v=s.scripts}var O=new f;g.length?(p("dojo-debug-messages"),(b.contextRequire||d)(g,function(){O.resolve(m.filter(e,function(a){if(!a.ctor)try{a.ctor=y(a.types,b.contextRequire)}catch(c){}for(var e=a.parent;e&&
!e.types;)e=e.parent;var f=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(f&&f.stopParser&&!b.template);a.instantiate=!e||e.instantiate&&e.instantiateChildren;return a.instantiate}))})):O.resolve(e);return O.promise},_require:function(a,b){var c=w("{"+a.innerHTML+"}"),e=[],g=[],h=new f,m=b&&b.contextRequire||d,l;for(l in c)e.push(l),g.push(c[l]);m(g,function(){for(var a=0;a<e.length;a++)k.setObject(e[a],arguments[a]);h.resolve(arguments)});return h.promise},_scanAmd:function(a,b){var c=new f,e=
c.promise;c.resolve(!0);var g=this;s("script[type\x3d'dojo/require']",a).forEach(function(a){e=e.then(function(){return g._require(a,b)});a.parentNode.removeChild(a)});return e},parse:function(a,b){var f;!b&&a&&a.rootNode?(b=a,f=b.rootNode):a&&k.isObject(a)&&!("nodeType"in a)?b=a:f=a;f=f?c.byId(f):e.body();b=b||{};var g=b.template?{template:!0}:{},d=[],h=this,m=this._scanAmd(f,b).then(function(){return h.scan(f,b)}).then(function(a){return h._instantiate(a,g,b,!0)}).then(function(a){return d=d.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",
a);throw a;});k.mixin(d,m);return d}};l.parser=x;h.parseOnLoad&&q(100,x,"parse");return x})},"jdash/nls/tr/language":function(){define({Ok:"Tamam",Yes:"Evet",No:"Hay\u0131r",Cancel:"\u0130ptal",Accept:"Kabul Et",Decline:"Reddet",Error:"Hata",Warning:"Uyar\u0131",Information:"Bilgi",Confirmation:"Onaylama",Maximize:"B\u00fcy\u00fct",Collapse:"K\u00fc\u00e7\u00fclt",Restore:"Eski Haline Getir",Expand:"Geni\u015flet",Remove:"Kald\u0131r",Seperator:"Ayra\u00e7",Share:"Payla\u015f",About:"Hakk\u0131nda",
EditSettings:"D\u00fczenle",Options:"Ayarlar",MakeSticky:"Yap\u0131\u015fkan Yap",MakeUnsticky:"Ya\u011f\u0131\u015fkanl\u0131\u011f\u0131 Kald\u0131r",Reload:"Tekrar Y\u00fckle",RetreivingContent:"\u0130\u00e7erik Al\u0131n\u0131yor",Save:"Kaydet",Apply:"Uygula",Cancel:"\u0130ptal",ViewMode:"G\u00f6r\u00fcnt\u00fc Modu",InsideIFrame:"Iframe i\u00e7erisinde",InsideCurrentDocument:"Mevcut d\u00f6k\u00fcman i\u00e7erisinde",InvalidRSSSource:"Ge\u00e7ersiz RSS Kayna\u011f\u0131!",ValidatingRSSContent:"RSS do\u011frulan\u0131yor ...",
ShowHeadersOnly:"Sadece ba\u015fl\u0131klar\u0131 g\u00f6ster",ShowFullContent:"T\u00fcm i\u00e7eri\u011fi g\u00f6ster",ShowContentSummary:"\u0130\u00e7erik \u00f6zetini g\u00f6ster",LimitFeeds:"Sonu\u00e7lar\u0131 s\u0131n\u0131rla",Unlimited:"S\u0131n\u0131rs\u0131z",Refresh:"G\u00fcncelle",StartingDashboardLoad:"Dashboard y\u00fcklemesi ba\u015flat\u0131l\u0131yor",CreatingLayout:"Dashboard d\u00fczeni olu\u015fturuluyor",RetreivingDashlets:"Dashletler al\u0131n\u0131yor",CreatingDashlets:"Dashlet'ler yarat\u0131l\u0131yor",
DashletsCreated:"Dashlet'ler yarat\u0131ld\u0131",StartingDashlets:"Dashlet'ler ba\u015flat\u0131l\u0131yor",DashletsStarted:"Dashlet'ler ba\u015flat\u0131ld\u0131",ChangePositions:"Yer de\u011fi\u015ftir",SetBodyDrag:"Genel s\u00fcr\u00fcklemeyi a\u00e7  ",SetHeaderDrag:"Ba\u015fl\u0131ktan s\u00fcr\u00fcklemeyi a\u00e7 ",DisableTitleCollapse:"Ba\u015fl\u0131ktan k\u00fc\u00e7\u00fcltmeyi kapat",EnableTitleCollapse:"Ba\u015fl\u0131ktan k\u00fc\u00e7\u00fcltmeyi a\u00e7",AllGroups:"T\u00fcm Gruplar",
ConfirmMessage:"Emin misiniz?",ConfirmTitle:"Onay",Others:"Di\u011ferleri",UnableToLoad:"\u0130\u00e7erik y\u00fcklenemiyor!",FrameDimensions:"\u00c7er\u00e7eve Boyutlar\u0131",Width:"Geni\u015flik",Heigth:"Y\u00fckseklik",Clone:"Kopyala"})},"klt/core/DictionarySerializationMode":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(d,l){return{object:"object",arrayOfObject:"arrayOfObject"}})},"jdash/ui/DashletEditView":function(){define("dojo/i18n!../nls/language dojo/_base/declare dojo/_base/lang ./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/query dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/dom-style klt/core/_DynamicViewHolderMixin dojo/text!./templates/DashletEditView.htm jdash/ui/Button klt/core/Deferred klt/core/when ./_ThemeMixin ../layout/_Container klt/core/WfPatch dojo/_base/fx".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q,w,u,y,v){return l("jdash.ui.DashletEditView",[m,h,c,f,u],{_getTemplateString:function(){return y.patch(p)},_ready:function(){v.fadeIn({duration:150,node:this.domNode}).play()},buildRendering:function(){this.inherited(arguments);n.set(this.domNode,"opacity","0");var a=this.viewParams.context.dashletContext.model.module.config.editor;if(a.paneConfig){var c=a.paneConfig.cssClass;c&&b.add(this.containerNode,c);a.paneConfig.width&&n.set(this.containerNode,{width:a.paneConfig.width});
a.paneConfig.height&&n.set(this.containerNode,{height:a.paneConfig.height})}},postscript:function(a){a=a||{};a.templateString=this._getTemplateString();this.inherited(arguments);this.saveBtn.set("label",d.Save);this.applyBtn.set("label",d.Apply);this.cancelBtn.set("label",d.Cancel)},_onSave:function(){k.isFunction(this.onSave)&&this.onSave.apply(this)},_onCancel:function(){k.isFunction(this.onCancel)&&this.onCancel.apply(this)},_onApply:function(){k.isFunction(this.onApply)&&this.onApply.apply(this)},
destroyRecursive:function(){this.initialNode&&(n.set(this.initialNode,"display","none"),g.empty(this.initialNode));this.inherited(arguments)},getBodyNode:function(){return this.editorContent},loadView:function(a){var b=this;"undefined"!=typeof this.editorConstructor?q(this._createModuleInstance(this.editorConstructor),function(c){b.setView(c,a)}):this.inherited(arguments)},_createModuleInstance:function(a){Array.prototype.slice.call(arguments,1);return k.isFunction(a)?new a(this.viewParams.context):
a.createDefer.apply(a,[this.viewParams])},startup:function(){this.inherited(arguments);var a=this.refresh(!0),b=this;q(a,function(a){try{k.isFunction(a.startup)||(a.startup=function(){}),b.addChild(a),b._ready()}catch(c){}},function(a){});return a}})})},"jdash/model/AuthorizationModel":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/json","./ModelBase"],function(d,l,k,m){return d("jdash.model.AuthorizationModel",[m],{postscript:function(d){d=d||{};d.created&&(l.isString(d.created)?
d.created=new Date(parseInt(d.created.replace("/Date(","").replace(")/",""),10)):d.created=new Date(d.created));d.modified&&(l.isString(d.modified)?d.modified=new Date(parseInt(d.modified.replace("/Date(","").replace(")/",""),10)):d.modified=new Date(d.modified));d.shared&&(l.isString(d.shared)?d.shared=new Date(parseInt(d.shared.replace("/Date(","").replace(")/",""),10)):d.shared=new Date(d.shared));this.inherited(arguments,[d])},add:function(d,c){this._buffer=this._buffer||{};this._buffer[d]=c},
serialized:function(){var d=[];(this.data.data||[]).forEach(function(c){d.push({Key:c.Key,Value:c.Value})});return d}})})},"jdash/ui/DashletPropertyEditor":function(){define("dojo/_base/declare dojo/_base/lang ./_WidgetBase ./_TemplatedMixin dojo/dom-construct dojo/query dojo/dom-class dojo/dom-style dojo/on klt/core/messageBus ./registry".split(" "),function(d,l,k,m,h,c,e,g,b,a,n){return d("jdash.ui.DashletPropertyEditor",[k,m],{templateString:'\x3cinput type\x3d"text" /\x3e',propertyName:"",objectName:"",
callObject:function(a,b,c){var e=l.getObject(b,!1,a);b=b.split(".");if(1<b.length)for(var g=0;g<b.length-1;g++)a=a[b[g]];try{return e.apply(a,c)}catch(d){throw d;}},_setProperty:function(a){this.callObject(this.context,!this.objectName||""==this.objectName?"set":this.objectName+".set",[this.propertyName,a])},_getProperty:function(){return this.callObject(this.context,!this.objectName||""==this.objectName?"get":this.objectName+".get",[this.propertyName])},postCreate:function(){var a=this;this.domNode.onchange=
this.domNode.onkeyup=function(){a.value!=this.value&&(a.skipDomUpdate=!0,a.set("value",this.value),a.context&&a._setProperty(this.value))};this.inherited(arguments)},_setValueAttr:function(a){this.skipDomUpdate||(this.domNode.value=null==a?"":a);this.skipDomUpdate=!1},_setDashletIdAttr:function(a){if(!this.context&&this.dashboard){var b=this;this._set("dashletId",a);this.subscribe("jdash/dashboard/dashletCreated",function(a){b.dashboard==a.sender&&a.args.result.context.model.id==b.dashletId&&b.set("context",
a.args.result.context)})}},_setContextAttr:function(a){this._set("context",a);var b=this.originalValue=this._getProperty();this.set("value",b);var c=this;this.subscribe("jdash/dashlet/editor/canceled",function(a){a.sender.dashletContext==c.context&&c._setProperty(b)})}})})},"klt/core/messageBusMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array ./messageBus ./Destroyable dojo/aspect".split(" "),function(d,l,k,m,h,c){return d("Klt.core.messageBusMixin",h,{publish:function(c,
g){return m.publish(c,g)},own:function(c){this.__cache=this.__cache||[];this.__cache.push(c)},destroy:function(){this.inherited(arguments);k.forEach(this.__cache,function(c){c.remove()},this)},subscribe:function(c,g){var b=m.subscribe(c,l.hitch(this,g));this.own(b);return b},unsubscribe:function(c){c.remove()}})})},"jdash/core/DashletEditorContext":function(){define("dojo/_base/declare dojo/_base/lang klt/core/messageBusMixin dojo/Stateful dojo/dom-construct dojo/dom-style".split(" "),function(d,
l,k,m,h,c){return d("jdash.core.DashletEditorContext",[m,k],{publish:function(c,g){return this.inherited(arguments,[c,{sender:this,args:g||{}}])},destroy:function(e){this.publish("jdash/dashlet/editor/destroying",{reason:e});this.editView&&l.isFunction(this.editView.destroyRecursive)&&this.editView.destroyRecursive();this.initialNode&&(c.set(this.initialNode,"display","none"),h.empty(this.initialNode));this.inherited(arguments);this.publish("jdash/dashlet/editor/destroyed",{reason:e})}})})},"jdash/layout/_BaseDndLayout":function(){define("dojo/dom-construct dojo/dom-attr jdash/model/DashletModel ./_Layout dojo/dom-class dojo/on ../ui/registry dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/when ../model/DashletPositionModel dojo/dom-style dojo/has ../core/DesignMode dojo/dom-geometry dojo/_base/sniff jdash/layout/MDropManager ./DropIndicator ./VerticalDropMode ./AutoScroll".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q){return a("jdash._BaseDndLayout",[m],{_applyZoneProps:function(a){h.add(a.domNode,"gridContainerZone");h.add(a.domNode,"dndArea");this.inherited(arguments)},enableDnd:function(){for(var a=this.sections.getIterator();a.get();)for(var b=a.element.value.zones.getIterator();b.get();)this.dndManager.registerByNode(b.element.value.domNode);this.dndManager._dropMode.updateAreas(this.dndManager._areaList);this.dndEnabled=!0},disableDnd:function(){for(var a=this.sections.getIterator();a.get();)for(var b=
a.element.value.zones.getIterator();b.get();)this.dndManager.unregister(zoneValue.value),this.dndManager._dropMode.updateAreas(this.dndManager._areaList);this.dndEnabled=!1},getPredefinedLayouts:function(){return this.inherited(arguments)},_incrementChildPosOnDrop:function(a,b,c,e){var f=[];if(b.section==c.section&&b.zone==c.zone){if(b.pos>c.pos)for(var g=0;g<a.length;g++){var d=this.getPositionFromChild(a[g]);a[g]!=e&&(c.pos<=d.pos&&b.pos>d.pos)&&(d.set("pos",d.pos+1),f.push({id:a[g].context.id,
position:this.serializedDashletPos(d)}))}}else for(g=0;g<a.length;g++)d=this.getPositionFromChild(a[g]),a[g]!=e&&c.pos<=d.pos&&(d.set("pos",d.pos+1),f.push({id:a[g].context.id,position:this.serializedDashletPos(d)}));return f},setSticky:function(a){var b=a.get("sticky");"undefined"!=typeof b&&(b?this.dndManager.removeMoveableItem(a.domNode):this.dndManager.addMoveableItem(a.domNode))},addChild:function(a,b,c){var e=this.inherited(arguments),f=this;this.setSticky(a);this.own(a.watch("sticky",function(){f.setSticky(a)}));
return e},_decrementChildPosOnDrop:function(a,b,c,e){var f=[];if(c&&b.section==c.section&&b.zone==c.zone){if(b.pos<c.pos)for(var g=0;g<a.length;g++){var d=this.getPositionFromChild(a[g]);a[g]!=e&&(c.pos>=d.pos&&b.pos<d.pos)&&(d.set("pos",d.pos-1),f.push({id:a[g].context.id,position:this.serializedDashletPos(d)}))}}else for(g=0;g<a.length;g++)d=this.getPositionFromChild(a[g]),a[g]!=e&&b.pos<d.pos&&(d.set("pos",d.pos-1),f.push({id:a[g].context.id,position:this.serializedDashletPos(d)}));return f},postCreate:function(){this.inherited(arguments);
this.dndManager=new jdash.layout.MDropManager;this.dndManager.context=this;this.subscribe("/dojox/mdnd/drop","onDndDrop");this.subscribe("/dojox/mdnd/drag/start","onDndStart");this.subscribe("/dojox/mdnd/drag/cancel","onDndCancel")},onDndCancel:function(a,b,c,e){},onDndStart:function(a,b,c,e){h.add(a.parentNode,this.getDashboard().baseClass);document.body.style.cursor="move"},_adjustZoneWidthHeight:function(a){},_adjustSectionHeight:function(){for(var a=this.sections.getIterator();a.get();)0<this.getChildren(a.element.key).length?
p.set(a.element.value.domNode,"height",""):p.set(a.element.value.domNode,"height","200px"),this._adjustZoneWidthHeight(a.element)},_getDomPosition:function(a){},_removeDragAvatar:function(a,b,c){this.dndManager.removeMoveableItem(b.node,a);this.dndManager.removeDragItem(b.node,a);null==a.initialStyle?l.set(a,"style",""):a.style=a.initialStyle;this.dndManager.addDragItem(a.sourceNode,a,a.menuIndex+"",!0)},_registerModuleNode:function(a){var b=a.moduleNode,e;b.parentNode&&h.contains(b.parentNode,"dndArea")?
e=b.parentNode:(e=d.create("div"),d.place(e,b.parentNode),d.place(b,e));a.containerNode=e;a.module?b.module=a.module:b.moduleId=a.moduleId;e.isModulesContainer=!0;b.AvatarNode=!0;b.menuIndex=b.index;b.initialStyle=b.getAttribute("style");b.model=this._createDashletModel(b);l.set(e,"accept","modules");l.set(b,"dndType","modules");e.isDNDRegistered||(this.dndManager.registerByNode(e),h.add(e,"gridContainerZone"),h.add(e,"dndArea"),e.isDNDRegistered=!0);var f=this;b.__clickHandler&&b.__clickHandler.remove();
b.__clickHandler=c(b,"click",function(a){f.__lastDropHandled?delete f.__lastDropHandled:(a=f.getDashboard(),b.model.set("position",void 0),a.createDashlet(b.model))})},registerModuleNode:function(a){var c=this;g.isArray(a)?b.forEach(a,function(a,b){c._registerModuleNode(a)}):this._registerModuleNode(a)},unRegisterModuleNode:function(a){this.dndManager.unregister(a.containerNode);a.containerNode.isDNDRegistered=!1},initilizeModuleNodes:function(a){if(null!=this.dndManager)for(var b=0;b<a.length;b++)this._registerModuleNode(a[b])},
calculateNewPositions:function(a,b,c){if(a.AvatarNode){var g=this.getDashboard();if(!g._hasDesignMode(r.dashboard)){this._removeDragAvatar(a,b,c);return}if(b.node.isDNDRegistered){this._removeDragAvatar(a,b,c);return}var d=this._getDomPosition(a),h=this.getLayoutInfo(b.node),k=new f({section:h.section,zone:h.zone,pos:d});a.model.set("position",k);a.model.preventAddFirst=!0;g.createDashlet(a.model);for(var g=e.getEnclosingWidget(a),m=[],k=this.getChildren(k.section,k.zone),l=0;l<k.length;l++)k[l]!=
g&&(h=this.getPositionFromChild(k[l]),h.pos>=d&&(h.set("pos",h.pos+1),m.push({id:k[l].context.id,position:this.serializedDashletPos(h)})));this._removeDragAvatar(a,b,c)}else if(g=e.getEnclosingWidget(a),c=this.getPositionFromChild(g),b=this.getLayoutInfo(b.node),k=this._getDomPosition(a),c.section!=b.section||c.zone!=b.zone||c.pos!=k)a=[],d=[],b=new f({section:b.section,zone:b.zone,pos:k}),k=this.getChildren(c.section,c.zone),c.section==b.section&&c.zone==b.zone?(a=this._decrementChildPosOnDrop(k,
c,b,g),d=this._incrementChildPosOnDrop(k,c,b,g)):(d=this.getChildren(b.section,b.zone),a=this._decrementChildPosOnDrop(k,c,b,g),d=this._incrementChildPosOnDrop(d,c,b,g)),this.updateChildPosition(g,b),a=a.concat(d),a.push({id:g.context.id,position:this.serializedDashletPos(b)}),this.getDashboard().provider.updateDashletPositions(a);this._adjustSectionHeight();return!1},onDndDrop:function(a,b,c){s("mozilla")&&(a.preventCollapse=!0,window.event&&(window.event.cancelBubble=!0,window.event.__cancelClick=
!0));this.__lastDropHandled=!0;return this.calculateNewPositions(a,b,c)},removeDashlet:function(a){p.set(a.domNode,"display","none");var b=this.getDashboard().provider.deleteDashlet(a.context.id),c=this;return n(b,function(){var e=c.getPositionInfo(a.context.model.position),f=c.getChildrenByNode(e.zone.domNode),f=c._decrementChildPosOnDrop(f,e.dashPos);c.dndManager.removeDragItem(e.zone.domNode,a.domNode,!0);if((e=c.getMaximizeRoot())&&"maximize"==a.context.paneConfig.visualState)p.set(c.getLayoutRoot(),
"display",""),p.set(e,"display","none");0==c.getChildren().length&&(e=c.sections.item(c.getPositionFromChild(a).section),c._adjustSectionHeight(e));return 0<f.length?c.getDashboard().provider.updateDashletPositions(f):b},function(b){p.set(a.domNode,"display","")})},fixPositions:function(a){for(var b=this.getChildren(a.section,a.zone),c=[],e=0;e<b.length;e++){var f=this.getPositionFromChild(b[e]);null!=f.pos&&f.pos>=a.pos&&(f.set("pos",f.pos+1),c.push({id:b[e].context.id,position:this.serializedDashletPos(f)}))}return c},
maximizeDashlet:function(a){var b=this.getLayoutRoot(),c=this.getMaximizeRoot();if(c){var e=this.getPositionInfo(a.context.model.position);this.dndManager.removeDragItem(e.zone.domNode,a.domNode);d.place(a.domNode,c,0);p.set(b,"display","none");p.set(c,"display","block")}},minimizeDashlet:function(a){var b=this.getLayoutRoot(),c=this.getMaximizeRoot();if(c){var e=this.getPositionInfo(a.context.model.position);a.domNode.parentNode.removeChild(a.domNode);this.dndManager.addDragItem(e.zone.domNode,a.domNode,
a.context.model.position.pos);p.set(b,"display","");p.set(a.containerNode,"height","auto");p.set(c,"display","none")}},removeModuleNode:function(a){for(var b=this.getDashboard().getModuleNodes(),c=0;c<b.length;c++)if(b[c].node==a){this.dndManager.removeMoveableItem(a);b.splice(c,1);break}},destroyRecursive:function(){this.inherited(arguments);this.dndManager.destroy()},removeAllModuleNodes:function(){for(var a=this.getDashboard().getModuleNodes(),b=0;b<a.length;b++)this.dndManager.removeMoveableItem(node),
a.splice(b,1)},getPositionInfo:function(a){return this.inherited(arguments)},getType:function(){},startup:function(){this.inherited(arguments);this.enableDnd()}})})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(d,l,k,m,h,c,e,g,b,a,n){k.isAsync||a(0,function(){n(["./fx/Toggler"])});k=k.fx={};a={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}};var f=function(a){this._index=
-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;m.forEach(this._animations,function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};f.prototype=new l;d.extend(f,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],
this._onAnimateCtx=h.after(this._current,"onAnimate",d.hitch(this,"_onAnimate"),!0),this._onEndCtx=h.after(this._current,"onEnd",d.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(a,b){this._current||(this._current=this._animations[this._index=0]);if(!b&&"playing"==this._current.status())return this;var c=h.after(this._current,"beforeBegin",d.hitch(this,function(){this._fire("beforeBegin")}),!0),e=h.after(this._current,"onBegin",d.hitch(this,function(a){this._fire("onBegin",arguments)}),
!0),f=h.after(this._current,"onPlay",d.hitch(this,function(a){this._fire("onPlay",arguments);c.remove();e.remove();f.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=h.after(this._current,"onAnimate",d.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=h.after(this._current,"onEnd",d.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=h.after(this._current,"onPause",
d.hitch(this,function(b){this._fire("onPause",arguments);a.remove()}),!0);this._current.pause()}return this},gotoPercent:function(a,b){this.pause();var c=this.duration*a;this._current=null;m.some(this._animations,function(a){if(a.duration<=c)return this._current=a,!0;c-=a.duration;return!1});this._current&&this._current.gotoPercent(c/this._current.duration,b);return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);
this._current=this._animations[this._index]}var b=h.after(this._current,"onStop",d.hitch(this,function(a){this._fire("onStop",arguments);b.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});d.extend(f,a);k.chain=function(a){return new f(a)};var p=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=
0;m.forEach(a,function(a){var b=a.duration;a.delay&&(b+=a.delay);this.duration<b&&(this.duration=b);this._connects.push(h.after(a,"onEnd",d.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new c.Animation({curve:[0,1],duration:this.duration});var b=this;m.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){b._connects.push(h.after(b._pseudoAnimation,a,function(){b._fire(a,arguments)},!0))})};d.extend(p,{_doAction:function(a,b){m.forEach(this._animations,
function(c){c[a].apply(c,b)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,b){var c=this.duration*a;m.forEach(this._animations,function(a){a.gotoPercent(a.duration<
c?1:c/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){m.forEach(this._connects,function(a){a.remove()})}});d.extend(p,a);k.combine=function(a){return new p(a)};k.wipeIn=function(a){var b=a.node=e.byId(a.node),f=b.style,k;a=c.animateProperty(d.mixin({properties:{height:{start:function(){k=f.overflow;f.overflow="hidden";
if("hidden"==f.visibility||"none"==f.display)return f.height="1px",f.display="",f.visibility="",1;var a=g.get(b,"height");return Math.max(a,1)},end:function(){return b.scrollHeight}}}},a));var m=function(){f.height="auto";f.overflow=k};h.after(a,"onStop",m,!0);h.after(a,"onEnd",m,!0);return a};k.wipeOut=function(a){var b=(a.node=e.byId(a.node)).style,f;a=c.animateProperty(d.mixin({properties:{height:{end:1}}},a));h.after(a,"beforeBegin",function(){f=b.overflow;b.overflow="hidden";b.display=""},!0);
var g=function(){b.overflow=f;b.height="auto";b.display="none"};h.after(a,"onStop",g,!0);h.after(a,"onEnd",g,!0);return a};k.slideTo=function(a){var f=null,k=null,m=function(a){return function(){var c=g.getComputedStyle(a),e=c.position;f="absolute"==e?a.offsetTop:parseInt(c.top)||0;k="absolute"==e?a.offsetLeft:parseInt(c.left)||0;"absolute"!=e&&"relative"!=e&&(c=b.position(a,!0),f=c.y,k=c.x,a.style.position="absolute",a.style.top=f+"px",a.style.left=k+"px")}}(a.node=e.byId(a.node));m();a=c.animateProperty(d.mixin({properties:{top:a.top||
0,left:a.left||0}},a));h.after(a,"beforeBegin",m,!0);return a};return k})},"jdash/ui/ModuleAvatar":function(){define("dojo/dom-attr dojo/_base/declare dojo/_base/lang dojo/text!./templates/ModuleAvatar.html ./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/on dojo/dom-construct dojo/query dojo/dom-class dojo/dom-style ../model/DashletModel ./_ThemeMixin ./Button".split(" "),function(d,l,k,m,h,c,e,g,b,a,n,f,p,s){return l("jdash.ui.ModuleAvatar",[h,c,e],{templateString:m,baseClass:"d-moduleItem",
themeClass:"d-bar-",themeStyleClass:"d-bar-",_createDashlet:function(a){if(this.domNode.preventClick)this.domNode.preventClick=!1;else if(!this.domNode.isDragging)return a.preventDefault(),a=new p({module:this.module}),this.moduleView.dashboardView.createDashlet(a)},postCreate:function(){this._initDragNode();this.module.metaData.description&&(this.domNode.title=this.module.metaData.description);this.module.paneConfig.has("iconClass")&&this.btn.set("iconClass",this.module.paneConfig.get("iconClass").value);
this.inherited(arguments)},_initDragNode:function(){this.domNode.AvatarNode=!0;this.domNode.module=this.module;this.domNode.menuIndex=this.index;this.domNode.initialStyle=this.domNode.getAttribute("style");this.domNode.model=new p({module:this.module});this.domNode.sourceNode=this.moduleView.modulesNode}})})},"jdash/mvc/InternalCompiler":function(){define(["dojo/dom-construct"],function(d){return{id:"internal",compile:function(l){return d.toDom(l)}}})},"jdash/ui/ButtonSet":function(){define("dojo/_base/declare dojo/_base/lang ./_WidgetBase ./_TemplatedMixin dojo/dom-class dojo/dom-style dojo/dom-construct ./_ThemeMixin dojo/_base/array dojo/dom-attr ./Button".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n){return d("jdash.ui.ButtonSet",[k],{_handleCommand:function(a){this.handler&&this.handler(a)},_createButton:function(a){var b=new n(a.ui);b.startup();b.placeAt(this.domNode);a.uiControl=b;b.command=a;b.on("Click",l.hitch(this,l.partial(this._handleCommand,{command:a})));return b},createButton:function(a){},buildRendering:function(){this.inherited(arguments);b.forEach(this.commands,function(a){this.createButton(a)},this)},destroyRecursive:function(){b.forEach(this.commands,
function(a){a.uiControl&&a.uiControl.destroyRecursive()});this.inherited(arguments)}})})},"jdash/ui/ThemeStylesList":function(){define("dojo/_base/declare dojo/_base/lang ./_WidgetBase ./_TemplatedMixin dojo/dom-construct dojo/query dojo/dom-class dojo/dom-style dojo/on ./Button ./ThemeManager ./registry dojo/_base/array dojo/i18n!../nls/language".split(" "),function(d,l,k,m,h,c,e,g,b,a,n,f,p,s){return d("jdash.ui.ThemeStylesList",[k,m],{templateString:"\x3cdiv\x3e\x3c/div\x3e",baseClass:"d-styles-list",
_setThemeIdAttr:function(a){this._set("themeId",a)},_createUI:function(a){function c(a,e){var k=d?f[d]:null,k=h.create("a",{style:{backgroundColor:k.color},title:k.title},g.domNode);k.themeId=a;k.styleId=e;b(k,"click",function(){n.select(this.themeId,this.styleId,function(){},g.persistSelection)})}var e=n.themes[a];h.empty(this.domNode);var f=e.styles;this._lastThemeId=a;var g=this,d;for(d in f)c(a,d)},startup:function(){n.initCompleted()&&this._createUI(n.currentThemeId);var a=this;this.subscribe("jdash/theme/changed",
function(b){b=n.currentThemeId;a._lastThemeId!=b&&a._createUI(b)});this.inherited(arguments)},postCreate:function(){this.inherited(arguments)}})})},"jdash/ui/_DomMixin":function(){define("dojo/_base/declare dojo/_base/lang ./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/on dojo/dom-construct dojo/query dojo/dom-class dojo/dom-style dojo/dom-prop dojo/_base/array dojo/Stateful dojo/json".split(" "),function(d,l,k,m,h,c,e,g,b,a,n,f,p,s){return d([p],{constructor:function(){},postscript:function(a){d.safeMixin(this,
a)},_callForDom:function(){if(this.domNode){var a=arguments[0],b=l._toArray(arguments,1);return a.apply(this,b)}},_styleSetter:function(b){b&&(l.isString(b),this._callForDom(a.set,this.domNode,b));this.style=b},setStyle:function(b,c){this.style=l.mixin(this.style,{n:c});this._callForDom(a.set,this.domNode,b,c);c||delete this.style[b]},setAttr:function(a,b){this.attr=l.mixin(this.attr,{n:b});this._callForDom(n.set,this.domNode,a,b);b||delete this.attr[a]},getAttr:function(a,b){return this.attr?this.attr[a]?
this.attr[a]:b:b},_attrSetter:function(a){a&&(l.isString(a),this._callForDom(n.set,this.domNode,a));this.attr=a},addCls:function(a){this.cls=this.cls?this.cls+" "+a:a;this._callForDom(b.add,this.domNode,a)},_clsSetter:function(a){a&&this._callForDom(b.add,this.domNode,a);this.cls=a},_domNodeSetter:function(a){a?(this.domNode=a,this.applyProps()):this.domNode=null},applyProps:function(){this.domNode&&(this.set("style",this.style),this.set("cls",this.cls),this.set("attr",this.attr))},serializeStyle:function(){return this.style?
s.stringify(this.style):""},serializeAttr:function(){return this.attr?s.stringify(this.attr):""},serialized:function(){var a={};l.mixin(a,{style:this.serializeStyle()});l.mixin(a,{cls:this.cls});l.mixin(a,{attr:this.serializeAttr()});return a}})})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(d,l,k){var m=d.NodeList;l.extend(m,{_buildArrayFromCallback:function(d){for(var c=[],e=0;e<this.length;e++){var g=d.call(this[e],this[e],c);g&&(c=c.concat(g))}return c},
_getUniqueAsNodeList:function(d){for(var c=[],e=0,g;g=d[e];e++)1==g.nodeType&&-1==k.indexOf(c,g)&&c.push(g);return this._wrap(c,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(h,c){var e=this._getUniqueAsNodeList(h),e=c?d._filterResult(e,c):e;return e._stash(this)},_getRelatedUniqueNodes:function(d,c){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(c),d)},children:function(d){return this._getRelatedUniqueNodes(d,function(c,e){return l._toArray(c.childNodes)})},
closest:function(h,c){return this._getRelatedUniqueNodes(null,function(e,g){do if(d._filterResult([e],h,c).length)return e;while(e!=c&&(e=e.parentNode)&&1==e.nodeType);return null})},parent:function(d){return this._getRelatedUniqueNodes(d,function(c,e){return c.parentNode})},parents:function(d){return this._getRelatedUniqueNodes(d,function(c,e){for(var g=[];c.parentNode;)c=c.parentNode,g.push(c);return g})},siblings:function(d){return this._getRelatedUniqueNodes(d,function(c,e){for(var g=[],b=c.parentNode&&
c.parentNode.childNodes,a=0;a<b.length;a++)b[a]!=c&&g.push(b[a]);return g})},next:function(d){return this._getRelatedUniqueNodes(d,function(c,e){for(var g=c.nextSibling;g&&1!=g.nodeType;)g=g.nextSibling;return g})},nextAll:function(d){return this._getRelatedUniqueNodes(d,function(c,e){for(var g=[],b=c;b=b.nextSibling;)1==b.nodeType&&g.push(b);return g})},prev:function(d){return this._getRelatedUniqueNodes(d,function(c,e){for(var g=c.previousSibling;g&&1!=g.nodeType;)g=g.previousSibling;return g})},
prevAll:function(d){return this._getRelatedUniqueNodes(d,function(c,e){for(var g=[],b=c;b=b.previousSibling;)1==b.nodeType&&g.push(b);return g})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(d,c){return 0!=c%2})},odd:function(){return this.filter(function(d,c){return 0==c%2})}});return m})},"jdash/core/DashletContext":function(){define("dojo/_base/declare dojo/_base/lang dojo/i18n!../nls/language dojo/json dojo/Stateful dojo/_base/array ../model/ConfigModel ../model/DashletModuleModel ../model/DashletModel klt/core/sync ../ui/DashletPane klt/core/messageBusMixin dojo/Deferred require dojo/dom-construct dojo/dom-style ../ui/DashletEditView dojo/when dojo/promise/all ../ui/_busyMixin ./CommandType ./CommandName ./DashletCommand dojo/request/xhr ./DashletEditorContext ./DesignMode ../ui/ThemeManager dojo/has dojo/dom-class dojo/dom-attr dojo/query ../ui/Viewport dojo/dom-geometry dojo/dom-form ../ui/DashletEditorWindow".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q,w,u,y,v,t,x,A,E,F,R,L,M,T,S,C,H,I,z,B){return d("jdash.core.DashletContext",[h,v,f],{fn:{domStyle:q,domClass:T,domAtt:S,domGeom:I,query:C,viewport:H,Deferred:p,when:u,lang:l,ThemeManager:L,all:y,domConstruct:r},constructor:function(){this.themeManager=L;var a=this;this.subscribe("jdash/dashboard/designMode/changed",function(b){b.sender==this.dashboard&&a._updateDesignMode()});this.subscribe("jdash/dashboard/newDashlet",function(b){b.args.result.context==this&&
!0==this.module.config.get("autoEdit")&&setTimeout(function(){a.openEditor()})})},getDashletSize:function(){return this.pane.getDashletSize.apply(this.pane,arguments)},reloadModel:function(){var a=this;return u(this.dashboard.provider.getDashlet(this.model.id),function(b){var c=a.dashboard.layout.getPositionInfo(b.position).dashPos;b.set("position",c);a.set("model",b)})},_updateDesignMode:function(){this.pane._updateDesignMode()},_publishToDashlet:function(a,b){return this.publish("jdash/dashlet/"+
a,{sender:this,args:b||{}})},_publishToDashletEditor:function(a,b){return this.editorContext.publish("jdash/dashlet/editor/"+a,b)},_createPaneConfig:function(a){var b=l.getObject("jdash.defaults.dashlet.paneConfig",!0),b=l.clone(b),c=l.getObject("defaults.dashlet.paneConfig",!1,this.dashboard);c&&l.mixin(b,l.clone(c));var c=this.module.paneConfig.toPlainObject(),e;for(e in c)b[e]=l.clone(c[e]);l.mixin(b,a);l.mixin(b,{id:"p"+this.model.id,context:this});return b},_initializeDashlet:function(){var a=
this,b=a._createDashlet(),c=new p;u(b,function(b){a.dashlet=b;l.isFunction(b.startup)||(b.startup=function(){});u(a._createPaneCommands(),function(){a._updateDesignMode();a.pane._initialized();try{a.pane.addChild(b),b._started=!0}catch(e){}a.config.validateCallback=function(b,c){if(l.isFunction(a.dashlet.set))return a.dashlet.set.apply(a.dashlet,[b,c])};c.resolve()},function(a){c.reject(a)})},function(b){u(a._createPaneCommands(),function(){a._updateDesignMode();a.pane._initialized()});a._publishToDashlet("error",
{error:b});c.reject(b)});return c},_createModuleInstance:function(a,b){function c(a,b){return new a(b)}Array.prototype.slice.call(arguments,1);return l.isFunction(a)?c.apply(null,[a,this]):a.createDefer.apply(a,[this])},_initializePane:function(){var a=this.paneConfig.toPlainObject(),a=this._createPaneConfig(a),b=this.themeManager.currentTheme(),c;a.modulePath?c=a.modulePath:b&&b.paneModule&&(c=b.paneModule);l.isString(c)?(b=c,c=new p,s([b],function(a){c.resolve(a)},function(a){c.reject(a)})):c=n;
var e=this,f=new p;u(c,function(b){b=new b(a);e.set("pane",b);f.resolve(b)},function(a){e._publishToDashlet("error",{error:a});f.reject(a)});return f},_createDashletConfig:function(){var a=this.model.config.toPlainObject();l.mixin(a,{context:this});return a},_createDashlet:function(){var a=this,b=this._createDashletConfig();this._dashletCreateDefer=new p;"undefined"!=typeof this.module.dashletConstructor?u(this._createModuleInstance(this.module.dashletConstructor,b),function(b){a.dashletInstance=
b;a._dashletCreateDefer.resolve(b)},function(b){a.error=b;a._dashletCreateDefer.reject(a.error)}):s([this.module.path],function(c){c=new c(b);a.dashletInstance=c;a._dashletCreateDefer.resolve(c)},function(b){a.error=b;a._dashletCreateDefer.reject(a.error)});return this._dashletCreateDefer},_modelSetter:function(b){this.model=b;this.model.set("module",this.module);a(this.model,"title",this,"title");a(this.model,"id",this,"id");a(this.model,"config",this,"config");a(this.model,"paneConfig",this,"paneConfig")},
_paneSetter:function(b){this.pane=b;var c=this;this.paneConfig.watch(function(a,b,e){c.paneConfig._isPaneSetting?delete c.paneConfig._isPaneSetting:c.pane.set(a,e)});a(this,"title",this.pane,"title");a(this,"visualState",this.pane,"visualState");a(this,"editState",this.pane,"editState");a(this,"busy",this.pane,"busy")},_createPaneCommands:function(){var a=this.getPaneCommands(),b=this;u(a,function(a){b.pane.createCommands(a)});return a},_dashletSetter:function(a){},dashletCreationDone:function(){return this._dashletCreateDefer&&
this._dashletCreateDefer.isFulfilled()},subscribe:function(a,b){return this.inherited(arguments)},subscribeToDashlet:function(a,b){return this.subscribe("jdash/dashlet/"+a,b)},subscribeToEditor:function(a,b){return this.subscribe("jdash/dashlet/editor/"+a,b)},loadResource:function(a,b,c){return this.themeManager.loadChecked(a,b,c)},unloadResource:function(a,b){return this.themeManager.unloadChecked(a,b)},_getPaneCommandIndex:function(a){var b=this.getPaneCommands(),e=-1,f=0;c.forEach(b,function(b){b.name==
a&&(e=f);f++},this);return e},getPaneCommand:function(a){a=this._getPaneCommandIndex(a);if(-1<a)return this.paneCommands[a]},removePaneCommand:function(a){a=this._getPaneCommandIndex(a);if(!(-1<a))throw Error("Invalid command name");var b=this.paneCommands[a];this.paneCommands.splice(a,1);this.pane.removeCommand(b)},addPaneCommand:function(a){this.getPaneCommands().push(a);this.pane.addCommand(a)},getPaneCommands:function(){if(!this.paneCommands){var a=this,b=[];"undefined"!=typeof this.module.config.get("editor")&&
b.push(A.edit);var e=null,f=null,g=this.module.paneConfig.get("builtInCommands");g&&c.forEach([x.refresh,x.restore,x.maximize,x.remove,x.clone],function(a){a=g.indexOf(a);0<=a&&(a=g[a],A[a]&&(b.push(A[a]),a==x.remove&&(e=A[a]),a==x.maximize&&(f=A[a])))},this);c.forEach(this.module.paneConfig.get("customCommands"),function(a){b.push(a)},this);if(f){var d=b.indexOf(f);b.splice(d,1);b.push(f)}e&&(d=b.indexOf(e),b.splice(d,1),b.push(e));b.push(A.visualState);var d=l.clone(b),h=new p;this._publishToDashlet("command/prepare",
{commands:d}).then(function(b){a.paneCommands=b.args.commands;h.resolve(a.paneCommands)},function(){h.resolve()});return h}return this.paneCommands},cloneDashlet:function(){var a=l.clone(this.model.serialized());delete a.id;a=new b(a);a.module=this.model.module;return this.dashboard.createDashlet(a)},_processCommand:function(a){var b=this;return b._publishToDashlet("command/executing",{command:a}).then(function(a){var c=a.args.command,e={command:c};a=null;switch(c.type){case t.ajax:a=E(commandArgs.url,
c.options||{}).then(function(a){l.mixin(e,{result:a})},function(a){l.mixin(e,{error:a})});break;case t.url:l.mixin(e,{result:window.open(c.href,c.target||"_blank")});case t.visualState:a=b.pane._setVisualStateAttr(c.visualState||c.name,!0);case t.builtIn:switch(c.name){case x.remove:a=b.remove();break;case x.edit:a=b.pane._setEditStateAttr(c.name,!0);break;case x.clone:a=b.cloneDashlet();break;case x.refresh:a=l.isFunction(b.dashlet.refresh)?b.dashlet.refresh.apply(b.dashlet):null}}return u(a,function(){return b._publishToDashlet("command/executed",
{command:c,result:e})})})},processCommand:function(a){if(a.confirm)if(confirm(a.confirmMessage||k.ConfirmMessage,a.confirmTitle||k.ConfirmTitle))this._processCommand(a);else return this._publishToDashlet("commandCancelled",a);else this._processCommand(a)},destroy:function(){this.editorContext&&this.editorContext.destroy();this.pane.destroyRecursive();this.inherited(arguments)},remove:function(){var a=this;return u(this.dashboard._removeDashlet(this),function(){a.destroy()},function(a){})},save:function(){return this.getProvider().saveDashlet(this.model)},
progress:function(a){a&&this.pane._setTitle(a)},clearBusy:function(){this.inherited(arguments);this.pane._setTitle(this.get("title"))},getProvider:function(){return this.dashboard.provider},closeEditor:function(a){function b(){c.editorContext.destroy(a);delete c.editorContext}var c=this;a=a||"cancel";var e=function(e,f,g){return u(f,function(f){var d=g&&g.args&&g.args.discardProvider?function(){}:c.save;if(!1!=f)return u(d.apply(c),function(){c.config.endUpdate();c._publishToDashletEditor("saved",
{action:a});if("save"==e)return b(),c.set("editState","none")},function(a){})},function(a){})};if(this.editorContext)return"cancel"==a?this._publishToDashletEditor("canceling").then(function(){var a=c.set("editState","none");return u(a,function(){c.config.cancelUpdate();c._publishToDashletEditor("canceled");b()})}):this._publishToDashletEditor("validating",{action:a}).then(function(b){return e(a,null,b)})},openEditor:function(a,b){if(this.editorContext)return this.editorContext;if(!this.dashboard._hasDesignMode(R.dashlets))return!1;
var c=this,e=this.module.config.get("editor");if("undefined"!=typeof e){b=b||this.pane.getEditorContainerNode();var f=e.path,g=null,d=r.create("div");r.place(d,b);var h=this.editorContext=new F({dashletContext:c,config:c.config,initialNode:b}),k=new p,m=function(a,e){g=new a(e,d);g.onCancel=function(){c.closeEditor("cancel")};g.onSave=function(){c.closeEditor("save")};g.onApply=function(){c.closeEditor("apply")};h.set("editView",g);this.setBusy(k);q.set(b,"display","block");u(l.isFunction(g.startup)?
g.startup():null,function(a){k.resolve(h);c.config.beginUpdate()},function(a){k.reject(a)})},n={caption:this.title,viewPath:f,editorConstructor:this.module.editorConstructor,viewParams:{context:h}};l.isFunction(e.paneConstructor)?m.apply(this,[e.paneConstructor,n]):null!=e.panePath?s([e.panePath],function(a){m.apply(c,[a,n])}):e.useWindow?m.apply(this,[B,n]):m.apply(this,[w,n]);return k}},hideHeader:function(){this.pane.hideHeader()},showHeader:function(){this.pane.showHeader()},hideBody:function(){this.pane.hideBody()},
showBody:function(){this.pane.showBody()}})})},"klt/domReady":function(){define(["require"],function(d){return{load:function(l,k,m,h){d(["dojo/domReady!"],function(c){m(c)})}}})},"klt/core/CookieManager":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(d,l){return d("klt.core.CookieManager",null,{EPOCH:"Thu, 01-Jan-1970 00:00:01 GMT",RATIO:864E5,KEYS:["expires","path","domain"],esc:escape,un:unescape,enabled:!1,_get_now:function(){var d=new Date;d.setTime(d.getTime());return d},
_cookify:function(d,m){var h,c,e,g=[],b=2<arguments.length?arguments[2]:{};g.push(this.esc(d)+"\x3d"+this.esc(m));for(h=0;h<this.KEYS.length;h++)c=this.KEYS[h],(e=b[c])&&g.push(c+"\x3d"+e);b.secure&&g.push("secure");return g.join("; ")},_alive:function(){var d=new Date,d=d.toGMTString();this.set("__EC_TEST__",d);return this.enabled=this.remove("__EC_TEST__")==d},set:function(d,m){var h=2<arguments.length?arguments[2]:{},c=this._get_now(),e={};h.expires&&(h.expires*=this.RATIO,e.expires=new Date(c.getTime()+
h.expires),e.expires=e.expires.toGMTString());c=["path","domain","secure"];for(i=0;i<c.length;i++)h[c[i]]&&(e[c[i]]=h[c[i]]);h=this._cookify(d,m,e);document.cookie=h;return m},has:function(d){d=this.esc(d);var m=document.cookie,h=m.indexOf(d+"\x3d"),m=m.substring(0,d.length);return!h&&d!=m||0>h?!1:!0},get:function(d){d=this.esc(d);var m=document.cookie,h=m.indexOf(d+"\x3d"),c=h+d.length+1,e=m.substring(0,d.length);if(!h&&d!=e||0>h)return null;d=m.indexOf(";",c);0>d&&(d=m.length);return this.un(m.substring(c,
d))},remove:function(d){var m=this.get(d);document.cookie=this._cookify(d,"",{expires:this.EPOCH});return m},keys:function(){var d=document.cookie.split("; "),m,h,c=[];for(m=0;m<d.length;m++)h=d[m].split("\x3d"),c.push(this.un(h[0]));return c},all:function(){var d=document.cookie.split("; "),m,h,c=[];for(m=0;m<d.length;m++)h=d[m].split("\x3d"),c.push([this.un(h[0]),this.un(h[1])]);return c}})})},"jdash/mvc/DashletForm":function(){define("jdash/core/declare ./DashletBase dojo/dom-construct dojo/query jdash/core/Deferred jdash/core/bus dojo/dom-attr dojo/json dojo/dom-form dojo/request/xhr".split(" "),
function(d,l,k,m,h,c,e,g,b,a){function n(a,b){for(var c=window,e=(a||"").split(".");c&&e.length;)c=c[e.shift()];if("function"===typeof c)return c;b.push(a);return Function.constructor.apply(null,b)}window.jdash=window.jdash||{};window.jdash.ajaxFormComplete=window.jdash.ajaxFormComplete||function(){var a=[];a.push("jdash/mvc/ajaxFormXhrCompleted");a.push(c.createEvent(this,Array.prototype.slice.call(arguments,0)));c.publish.apply(c,a)};window.jdash.ajaxFormSuccess=window.jdash.ajaxFormSuccess||function(){var a=
[];a.push("jdash/mvc/ajaxFormXhrSuccess");a.push(c.createEvent(this,Array.prototype.slice.call(arguments,0)));c.publish.apply(c,a)};return d(null,{make:function(a,b){a.action=b.url;this.dashletPropertiesNode=k.toDom("\x3cinput type\x3d'hidden' name\x3d'DashletProperties' id\x3d'DashletProperties'  style\x3d'display:none !important' /\x3e");k.place(this.dashletPropertiesNode,a,"last");this.submitNode=k.toDom("\x3cinput type\x3d'submit' value\x3d'SaveDashlet' style\x3d'display:none !important' /\x3e");
k.place(this.submitNode,a,"last");var g=a.onsubmit,d=this;"true"==e.get(a,"data-ajax")&&(this.saveDataAjaxComplete=e.get(a,"data-ajax-complete"),this.saveDataAjaxSuccess=e.get(a,"data-ajax-success"),e.set(a,"data-ajax-complete","jdash.ajaxFormComplete"),e.set(a,"data-ajax-success","jdash.ajaxFormSuccess"),this.ajaxFormHandler=c.subscribe("jdash/mvc/ajaxFormXhrCompleted",function(a){d.saveDataAjaxComplete&&n(d.saveDataAjaxComplete,["xhr","status"]).apply(a.sender,a.args);d.submitDefer&&"success"!=
a.args[1]&&d.submitDefer.reject()}),this.ajaxFormHandler=c.subscribe("jdash/mvc/ajaxFormXhrSuccess",function(a){d.saveDataAjaxSuccess&&n(d.saveDataAjaxSuccess,["data","status","xhr"]).apply(a.sender,a.args);d.submitDefer&&"success"==a.args[1]&&d.submitDefer.resolve(c.createEvent(a.sender,{response:a.args[2],data:a.args[0]}))}));this.form.onsubmit=function(a){var b=!0;g&&(b=g());a=a||window.event;!1==b?(a&&a.preventDefault(),d.submitDefer&&d.submitDefer.reject()):!0==a.defaultPrevented&&d.submitDefer&&
d.submitDefer.reject()}},click:function(a){if(document.createEvent){var b=document.createEvent("MouseEvents");b.initEvent("click",!0,!1);a.dispatchEvent(b)}else if(document.createEventObject)a.fireEvent("onclick");else if("function"==typeof a.onclick)a.onclick()},submit:function(e){e&&(this.dashletPropertiesNode.value=g.stringify(e));var d=this;this.submitDefer=new h;$&&$.validator&&$.validator.unobtrusive?setTimeout(function(){d.click(d.submitNode)}):(e=b.toObject(this.form),a(this.form.action,{method:"POST",
data:e}).response.then(function(a){d.submitDefer.resolve(c.createEvent(this,{response:a,data:a.data}))},function(a){d.submitDefer.reject(a)}));return this.submitDefer},constructor:function(a,b){this.form=a;this.options=b;this.make(this.form,this.options)},destroyRecursive:function(){this.ajaxFormHandler&&this.ajaxFormHandler.remove()}})})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(d,l,k,m,h,
c,e,g,b){k.add("dojo-preload-i18n-Api",1);e=d.i18n={};var a=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,n=function(a,b,c,e){var f=[c+e];b=b.split("-");for(var g="",d=0;d<b.length;d++)if(g+=(g?"-":"")+b[d],!a||a[g])f.push(c+g+"/"+e),f.specificity=g;return f},f={},p=function(a,b,c){c=c?c.toLowerCase():d.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b},s=d.getL10nName=function(a,c,e){return b.id+"!"+p(a,c,e)},r=function(a,b,e,g,d,h){a([b],function(k){var m=
c.clone(k.root||k.ROOT),l=n(!k._v1x&&k,d,e,g);a(l,function(){for(var a=1;a<l.length;a++)m=c.mixin(c.clone(m),arguments[a]);f[b+"/"+d]=m;m.$locale=l.specificity;h()})})},q=function(a){var b=h.extraLocale||[],b=c.isArray(b)?b:[b];b.push(a);return b},w=function(b,e,h){if(k("dojo-preload-i18n-Api")){var l=b.split("*"),n="preload"==l[1];n&&(f[b]||(f[b]=1,x(l[2],g.parse(l[3]),1,e)),h(1));if(!(l=n))v&&t.push([b,e,h]),l=v;if(l)return}b=a.exec(b);var p=b[1]+"/",F=b[5]||b[4],s=p+F,l=(b=b[5]&&b[4])||d.locale||
"",u=s+"/"+l;b=b?[l]:q(l);var E=b.length,w=function(){--E||h(c.delegate(f[u]))};m.forEach(b,function(a){var b=s+"/"+a;k("dojo-preload-i18n-Api")&&A(b);f[b]?w():r(e,s,p,F,a,w)})};if(k("dojo-unit-tests"))var u=e.unitTests=[];k("dojo-preload-i18n-Api");var y=e.normalizeLocale=function(a){a=a?a.toLowerCase():d.locale;return"root"==a?"ROOT":a},v=0,t=[],x=e._preloadLocalizations=function(a,b,c,e){function g(a,b){e([a],b)}function h(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}
function k(c){c=y(c);h(c,function(c){if(0<=m.indexOf(b,c)){var e=a.replace(/\./g,"/")+"_"+c;v++;g(e,function(a){for(var b in a)f[l.toAbsMid(b)+"/"+c]=a[b];for(--v;!v&&t.length;)w.apply(null,t.shift())});return!0}return!1})}e=e||l;k();m.forEach(d.config.extraLocale,k)},A=function(){},E={},F=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
A=function(a){for(var b,c=a.split("/"),e=d.global[c[0]],g=1;e&&g<c.length-1;e=e[c[g++]]);e&&((b=e[c[g]])||(b=e[c[g].replace(/-/g,"_")]),b&&(f[a]=b));return b};e.getLocalization=function(a,b,c){var e;a=p(a,b,c);w(a,l,function(a){e=a});return e};k("dojo-unit-tests")&&u.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=F("{prop:1}",A,"nonsense",E);a.is({prop:1},b);a.is(void 0,b[1]);b=F("({prop:1})",A,"nonsense",E);a.is({prop:1},b);a.is(void 0,b[1]);b=F("{'prop-x':1}",A,"nonsense",E);
a.is({"prop-x":1},b);a.is(void 0,b[1]);b=F("({'prop-x':1})",A,"nonsense",E);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=F("define({'prop-x':1})",A,"nonsense",E);a.is(E,b);a.is({"prop-x":1},E.result);b=F("define('some/module', {'prop-x':1})",A,"nonsense",E);a.is(E,b);a.is({"prop-x":1},E.result);b=F("this is total nonsense and should throw an error",A,"nonsense",E);a.is(b instanceof Error,!0)})});return c.mixin(e,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:w,cache:f,getL10nName:s})})},
"jdash/init":function(){define("jdash/core/CommandName jdash/core/declare jdash/core/CommandType jdash/core/DashletCommand jdash/core/DashletContext jdash/core/DashletEditorContext jdash/core/DesignMode jdash/layout/AbsoluteLayout jdash/layout/AbsoluteMoveable jdash/layout/AutoScroll jdash/layout/DropIndicator jdash/layout/LayoutManager jdash/layout/GridLayout jdash/layout/MDropManager jdash/layout/MMoveable jdash/layout/OverDropMode jdash/layout/Section jdash/layout/StepMover jdash/layout/VerticalDropMode jdash/layout/Zone jdash/layout/_BaseDndLayout jdash/layout/_Container jdash/layout/_Layout jdash/layout/_LayoutItem jdash/layout/_LayoutWidget jdash/layout/VerticalDropMode jdash/model/ConfigModel jdash/model/DashboardModel jdash/model/DashletModel jdash/model/DashletModuleModel jdash/model/DashletPositionModel jdash/model/MetadataModel jdash/model/ModelBase jdash/nls/language jdash/nls/tr/language jdash/provider/Manager jdash/provider/_ProviderMixin jdash/provider/JsonRest/JsonRestProvider jdash/provider/JsonRest/JsonRestStore jdash/ui/Button jdash/ui/ButtonSet jdash/ui/DashboardView jdash/ui/DashletEditView jdash/ui/DashletPane jdash/ui/DashletPaneBase jdash/ui/DashletStylesList jdash/ui/ThemeStylesList jdash/ui/Menu jdash/ui/MenuItem jdash/ui/ModuleAvatar jdash/ui/PaneButtons jdash/ui/registry jdash/ui/ThemeManager jdash/ui/TitleEditor jdash/ui/DashletPropertyEditor jdash/ui/Viewport jdash/ui/_BidiMixin jdash/ui/_busyMixin jdash/ui/_DomMixin jdash/ui/_TemplatedMixin jdash/ui/_ThemeMixin jdash/ui/_WidgetBase jdash/ui/Widget jdash/ui/DashletCreateLink jdash/ui/DashboardLoadLink jdash/ui/DashboardTitle jdash/ui/_WidgetsInTemplateMixin jdash/ui/linker jdash/mvc/Dashlet jdash/mvc/DashletBase jdash/mvc/DashletEditor jdash/mvc/DashletForm jdash/mvc/InternalCompiler jdash/mvc/JQueryCompiler jdash/mvc/mvc klt/domReady".split(" "),
function(){})},"jdash/mvc/Dashlet":function(){define(["jdash/core/declare","./DashletBase"],function(d,l){return d(l,{})})},"jdash/mvc/JQueryCompiler":function(){define(["dojo/dom-construct","dojo/query"],function(d,l){return{id:"jquery",compile:function(d){d=$(d);var m=l("form",d[0]);m.length&&($.validator&&$.validator.unobtrusive)&&($(m[0]).removeData("validator"),$(m[0]).removeData("unobtrusiveValidation"),$.validator&&$.validator.unobtrusive&&$.validator.unobtrusive.parse(m[0]));return d[0]}}})},
"jdash/ui/ThemeManager":function(){define("dojo/_base/declare dojo/_base/lang klt/core/messageBus klt/core/ResourceManager require klt/core/CookieManager dojo/Deferred klt/core/when dojo/dom-class dojo/_base/window".split(" "),function(d,l,k,m,h,c,e,g,b,a){d=new (d(m,{constructor:function(){this.themes={};this.CookieManager=new c},getThemes:function(){return this.themes},saveToCookie:function(){this.CookieManager.set("_kltDashboardTheme",this.currentThemeId,{expires:10});this.CookieManager.set("_kltDashboardStyle",
this.currentStyleId,{expires:10})},persistedInCookie:function(){return null!=this.CookieManager.get("_kltDashboardTheme")},loadFromCookie:function(){var a=this.CookieManager.get("_kltDashboardTheme"),b=this.CookieManager.get("_kltDashboardStyle");if(a)return this.select(a,b)},clearCookie:function(){this.CookieManager.remove("_kltDashboardTheme");this.CookieManager.remove("_kltDashboardStyle")},currentTheme:function(){return this.themes&&this.currentThemeId?this.themes[this.currentThemeId]:null},currentStyle:function(){var a=
this.currentTheme();return a&&this.currentStyleId?a.styles[this.currentStyleId]:null},register:function(a,b){this.themes[a]||(this.themes[a]=b)},builtinTheme:{css:h.toUrl("../resources/themes/default/main.css"),styles:{a:{title:"Black",color:"#242424"},b:{title:"Blue",color:"#5B92C1"},c:{title:"Default",color:"#E3E3E3"},d:{title:"LightGray",color:"#bbb"},e:{title:"Gray",color:"#b3b3b3"},f:{title:"Yellow",color:"#fadb4e"}},defaultStyle:"c"},flatTheme:{css:h.toUrl("../resources/themes/flat/main.css"),
styles:{w:{title:"White",color:"#ddd"},b:{title:"Black",color:"#000"}},defaultStyle:"w"},_loadInitResources:function(){return this.inherited(arguments)},_init:function(a){a=a||{};this.register("default",this.builtinTheme);this.register("flat",this.flatTheme);var b=a.theme?a.theme:"flat",c=this.themes[b],c=a.style?a.style:c?c.defaultStyle:"c";return a.loadFromCookie&&this.persistedInCookie()?this.loadFromCookie():this.select(b,c)},_unloadCurrentTheme:function(){var a=this.currentTheme();a&&this.unload(a.css,
"css");this.currentStyleId&&(a=a.styles[this.currentStyleId])&&a.css&&this.unload(a.css,"css");delete this.currentThemeId;delete this.currentStyleId},_loadTheme:function(a,b){var c=this.themes[a],g=new e;c||(a="default",c=this.themes[a]);if(c){var d=this;this.load(c.css,"css",function(){b||(b=c.defaultStyle);if(!b&&c.styles)for(var e in c.styles)b=e;b?(e=c.styles[b],e||(b=c.defaultStyle,e=c.styles[b]),e&&e.css&&d.load(e.css,"css"),d.currentStyleId=b):delete d.currentStyleId;d.currentThemeId=a;g.resolve()})}else g.reject(Error("no such theme"));
return g},select:function(c,f,d,h){var m=new e,l=this.currentThemeId,w=this.currentStyleId;l!=c?(this._unloadCurrentTheme(),m=this._loadTheme(c,f,d)):(w!=f&&(this.currentStyleId=f),m.resolve());var u=this;g(m,function(){h&&u.saveToCookie();var c=a.body(),e="j-theme-"+l+" j-style-"+w,g="j-theme-"+u.currentThemeId+" j-style-"+u.currentStyleId;b.contains(c,e)&&b.remove(c,e);b.add(c,g);d&&d.apply(this);k.publish("jdash/theme/changed",{oldTheme:l,oldStyle:w,newTheme:u.currentThemeId,newStyle:u.currentStyleId})},
function(a){d&&d.apply(this,[a])});return m||this.themes[this.currentThemeId]}}));l.setObject("jdash.ui.ThemeManager",d);return d})},"jdash/ui/_ThemeMixin":function(){define("dojo/_base/declare dojo/_base/lang ../ui/ThemeManager dojo/dom-class ./registry dojo/_base/array dojo/topic".split(" "),function(d,l,k,m,h,c,e){return d(null,{getThemeNode:function(){return this._themeNode?this[this._themeNode]:this.domNode},_clearCurrentTheme:function(){var c=this.getThemeNode();c&&(this.themeInfo&&this.themeInfo.themeClasses)&&
m.remove(c,this.themeInfo.themeClasses);delete this.themeInfo},_getThemeStyleIdAttr:function(){var c=this.get("themeInfo");return c?c.themeStyleId:null},_setThemeStyleIdAttr:function(c){var b=this.get("themeInfo");b?(c?b.themeStyleId=c:delete b.themeStyleId,this.set("themeInfo",b)):c?(b={themeStyleId:c},this.set("themeInfo",b)):this.set("themeInfo",{})},_compileThemeTemplate:function(c,b,a){var e="",f=this.themeTemplate,d=c.themeId?c.themeId:k.currentThemeId;c=c.themeStyleId?c.themeStyleId:k.currentStyleId;
f.template&&(e=l.replace(f.template,l.mixin({themeId:d},b)));f.styleTemplate&&(e=e+" "+l.replace(f.styleTemplate,l.mixin({themeStyleId:c},a)));return e},_setTheme:function(c){var b=this.getThemeNode();if(this.themeTemplate&&c&&b){var a=this._compileThemeTemplate(c);this.themeInfo={themeClasses:a};c.themeId&&l.mixin(this.themeInfo,{themeId:c.themeId});c.themeStyleId&&l.mixin(this.themeInfo,{themeStyleId:c.themeStyleId});""!=a&&m.add(b,a);return c}},setTheme:function(e){this._changingTheme=!0;try{this._clearCurrentTheme();
var b=h.findWidgets(this.getThemeNode());c.forEach(b,function(a){a.setTheme&&this.disableTheming&&a.setTheme(e)},this);this._setTheme(e)}catch(a){}finally{delete this._changingTheme}},buildRendering:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._manageAutoTheme()},_manageAutoTheme:function(c){try{var b=this.disableTheming;this._themeWatch&&(this._themeWatch.remove(),delete this._themeWatch);if(b)c||this.setTheme(this.themeInfo);else{var a=this;this._themeWatch=
e.subscribe("jdash/theme/changed",function(b){a.setTheme({themeStyleId:k.currentStyleId})});c||a.setTheme({themeStyleId:k.currentStyleId})}}catch(d){}},_setThemeInfoAttr:function(c){this._started?this.setTheme(c):this._set("themeInfo",c)},_setDisableThemingAttr:function(e){try{this._set("disableTheming",e);var b=h.findWidgets(this.getThemeNode());c.forEach(b,function(a){a.setTheme&&a.set("disableTheming",e)},this);this._manageAutoTheme(!this._started)}catch(a){}},destroyRecursive:function(){this._themeWatch&&
this._themeWatch.remove();this.inherited(arguments)}})})},"jdash/layout/VerticalDropMode":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/dom-geometry","dojo/has"],function(d,l,k,m,h){return l("jdash.layout.VerticalDropMode",null,{_oldXPoint:null,_oldYPoint:null,_oldBehaviour:"up",indicatorVeriticalInterval:100,constructor:function(){},addArea:function(c,e){var d=c.length,b=m.position(e.node,!0);e.coords={x:b.x,y:b.y};if(0==d)c.push(e);else{for(var a=e.coords.x,
b=0;b<d;b++)if(a<c[b].coords.x){for(a=d-1;a>=b;a--)c[a+1]=c[a];c[b]=e;break}b==d&&c.push(e)}return c},updateAreas:function(c){var e=c.length;if(1<=e)for(var d,b,a=0;a<e;a++){var h=c[a];h.coords.x1=-1;h.coords.x2=-1;0==a?(b=c[a+1],this._updateArea(h),b&&this._updateArea(b),d=h.coords.x+h.node.offsetWidth,b&&(b=b.coords.x,h.coords.x2=d+(b-d)/2)):a==e-1?h.coords.x1=c[a-1].coords.x2:(b=c[a+1],this._updateArea(b),d=h.coords.x+h.node.offsetWidth,b=b.coords.x,h.coords.x1=c[a-1].coords.x2,h.coords.x2=d+(b-
d)/2)}},_updateArea:function(c){try{var e=m.position(c.node,!0);c.coords.x=e.x;c.coords.y=e.y}catch(d){c.coords.x=c.node.offsetLeft,c.coords.y=c.node.offsetTop}c.coords.startX=c.node.offsetLeft;c.coords.endX=c.node.offsetLeft+c.node.offsetWidth;c.coords.startY=c.node.offsetTop},initItems:function(c){k.forEach(c.items,function(c){var d=m.position(c.item.node,!0);c.y=d.y+d.h/2});c.initItems=!0},refreshItems:function(c,e,d,b){if(-1!=e&&c&&d&&d.h){d=d.h;c.margin&&(d+=c.margin.t);for(var a=c.items.length;e<
a;e++){var h=c.items[e];h.y=b?h.y+d:h.y-d}}},getDragPoint:function(c,e,d){d=c.y;this._oldYPoint&&(d>this._oldYPoint?(this._oldBehaviour="down",d+=e.h):d<=this._oldYPoint&&(this._oldBehaviour="up"));this._oldYPoint=d;return{x:c.x+e.w/2,y:d}},getTargetArea:function(c,e,d){if(1<=c.length){c=this._checkInterval(c,d,e.x,e.y);this._oldXPoint=e.x;if(c)return c.index;d}},_checkInterval:function(c,e,d,b){h("touch")?(b=event.pageY,d=event.pageX):h("ie")?(b=event.y+document.documentElement.scrollTop,d=event.x+
document.documentElement.scrollLeft):h("ff")?(b=event.clientY+window.scrollY,d=event.clientX+window.scrollX):(b=event.y+window.scrollY,d=event.x+window.scrollX);e={};for(var a=0;a<c.length;a++){var k=c[a].coords,f=k.startY;if((!e||!(e.top&&e.top>=f))&&b>f&&k.startX<d&&d<=k.endX)e.index=a,e.top=f}return e},getDropIndex:function(c,e){var d=c.items.length,b=e.y,a;a=h("ie")?document.documentElement.scrollTop:window.scrollY;if(0<d)for(var k=0;k<d;k++){if(b<c.items[k].y+a)return k;if(k==d-1)break}return-1},
destroy:function(){}})})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(d,l,k,m,h,c,e,g,b,a,n,f,p){return l("dojo.dnd.Mover",[b],{constructor:function(b,e,d){function f(a){a.preventDefault();a.stopPropagation()}this.node=c.byId(b);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;e=this.host=d;b=b.ownerDocument;this.events=
[a(b,n.move,k.hitch(this,"onFirstMove")),a(b,n.move,k.hitch(this,"onMouseMove")),a(b,n.release,k.hitch(this,"onMouseUp")),a(b,"dragstart",f),a(b.body,"selectstart",f)];p.autoScrollStart(b);if(e&&e.onMoveStart)e.onMoveStart(this)},onMouseMove:function(a){p.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(m("webkit")&&m("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)?this.destroy():
11==m("ie")&&0==a.button&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var b=this.node.style,c,d=this.host;switch(b.position){case "relative":case "absolute":c=Math.round(parseFloat(b.left))||0;b=Math.round(parseFloat(b.top))||0;break;default:b.position="absolute";b=e.getMarginBox(this.node);c=h.doc.body;var f=g.getComputedStyle(c),k=e.getMarginBox(c,f),f=e.getContentBox(c,f);c=b.l-(f.l-k.l);b=b.t-(f.t-k.t)}this.marginBox.l=c-this.marginBox.l;this.marginBox.t=b-this.marginBox.t;
if(d&&d.onFirstMove)d.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){d.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(d,l,k,m){return d("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(d){var c=this._attrPairNames;return c[d]?c[d]:c[d]={s:"_"+d+"Setter",g:"_"+d+"Getter"}},
postscript:function(d){d&&this.set(d)},_get:function(d,c){return"function"===typeof this[c.g]?this[c.g]():this[d]},get:function(d){return this._get(d,this._getAttrNames(d))},set:function(d,c){if("object"===typeof d){for(var e in d)d.hasOwnProperty(e)&&"_watchCallbacks"!=e&&this.set(e,d[e]);return this}e=this._getAttrNames(d);var g=this._get(d,e);e=this[e.s];var b;"function"===typeof e?b=e.apply(this,Array.prototype.slice.call(arguments,1)):this[d]=c;if(this._watchCallbacks){var a=this;m(b,function(){a._watchCallbacks(d,
g,c)})}return this},_changeAttrValue:function(d,c){var e=this.get(d);this[d]=c;this._watchCallbacks&&this._watchCallbacks(d,e,c);return this},watch:function(d,c){var e=this._watchCallbacks;if(!e)var g=this,e=this._watchCallbacks=function(a,b,c,d){var h=function(e){if(e){e=e.slice();for(var d=0,h=e.length;d<h;d++)e[d].call(g,a,b,c)}};h(e["_"+a]);d||h(e["*"])};!c&&"function"===typeof d?(c=d,d="*"):d="_"+d;var b=e[d];"object"!==typeof b&&(b=e[d]=[]);b.push(c);var a={};a.unwatch=a.remove=function(){var a=
k.indexOf(b,c);-1<a&&b.splice(a,1)};return a}})})},"jdash/ui/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","dojo/_base/lang"],function(d,l,k,m,h){var c={},e={},g={length:0,add:function(b){if(e[b.id])throw Error("Tried to register widget with id\x3d\x3d"+b.id+" but that id is already registered");e[b.id]=b;this.length++},remove:function(b){e[b]&&(delete e[b],this.length--)},byId:function(b){return"string"==typeof b?e[b]:b},byNode:function(b){return e[b.getAttribute("widgetId")]},
toArray:function(){var b=[],a;for(a in e)b.push(e[a]);return b},getUniqueId:function(b){var a;do a=b+"_"+(b in c?++c[b]:c[b]=0);while(e[a]);return a},findWidgets:function(b,a){function c(b){for(b=b.firstChild;b;b=b.nextSibling)if(1==b.nodeType){var g=b.getAttribute("widgetId");g?(g=e[g])&&d.push(g):b!==a&&c(b)}}var d=[];c(b);return d},_destroyAll:function(){d.forEach(g.findWidgets(m.body()),function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive():b.destroy&&b.destroy())})},getEnclosingWidget:function(b){for(;b;){var a=
1==b.nodeType&&b.getAttribute("widgetId");if(a)return e[a];b=b.parentNode}return null},_hash:e};h.setObject("jdash.ui.registry",g);return g})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(d,l,k){var m=function(h){function c(c){h[c]||(h[c]=function(){var g=arguments;return k(h,function(b){Array.prototype.unshift.call(g,b);return m(d[c].apply(d,g))})})}if(!h)return h;h.then&&(h=l.delegate(h));c("forEach");c("filter");c("map");h.total||
(h.total=k(h,function(c){return c.length}));return h};l.setObject("dojo.store.util.QueryResults",m);return m})},"jdash/ui/DashletPaneBase":function(){define("dojo/Stateful dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/_base/event dojo/fx dojo/_base/kernel dojo/keys ./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin ../layout/_Container klt/core/messageBus dojo/on dojo/dom-construct dojo/query dojo/dom-style dojo/Deferred dojo/when require ./_ThemeMixin dojo/_base/lang dojo/request/xhr dojo/promise/all ../core/CommandType ../core/CommandName ../core/DashletCommand jdash/ui/Button ./registry ../core/DesignMode ./Menu ./MenuItem ./PaneButtons".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q,w,u,y,v,t,x,A,E,F,R,L,M,T,S,C,H,I,z,B,D){return k("klt.dashlet.ui.DashletPaneBase",[f,r,p,s,E],{themeTemplate:{template:"dashlet-{themeId}",styleTemplate:"dashlet-{themeStyleId}"},getDashletSize:function(){var a=this.containerNode,b=v.getComputedStyle(a),a=e.getContentBox(a,b);return{w:a.w,h:a.h}},getContentSize:function(){var a=this.getContentNode(),b=v.getComputedStyle(a);return e.getContentBox(a,b)},getContentNode:function(){return this.dashletContent},
getHeaderNode:function(){return this.dashletHeader},getTitleNode:function(){return this.dashletTitle},getEditorContainerNode:function(){return this.dashletEditorContainer},_setCssClassAttr:function(a){this.cssClass&&c.remove(this.domNode,this.cssClass);this._set("cssClass",a);this.cssClass&&c.add(this.domNode,this.cssClass)},_setTitleAttr:{node:"dashletTitle",type:"innerText"},_setTooltipAttr:{node:"titleBox",type:"attribute",attribute:"title"},_setIconClassAttr:function(a){this._set("iconClass",
a);this.iconBox&&this.iconBox.set("iconClass",a)},_setIconBoxHiddenAttr:function(a){this._set("iconBoxHidden",a);this.iconBox&&this.iconBox.set("hidden",a)},_getIconBoxHiddenAttr:function(){return this.iconBoxHidden},_getIconClassAttr:function(){return this.iconClass},_setHeightAttr:function(a){F.isString(a)?v.set(this.containerNode,"height",a):"number"==typeof a?v.set(this.containerNode,"height",a+"px"):v.remove(this.containerNode,"height")},animationDuration:500,_setAutoHideHeaderAttr:function(a){this._set("autoHideHeader",
a);a?this.hideHeader():this.showHeader()},_setEditStateAttr:function(a,b){var c=this,e={state:a};if(this.get("editState")!=a)return c.context._publishToDashlet("editStateChanging",e).then(function(b){if("edit"==a)return x(c.openEditor(),function(){c._set("editState",a);c.context._publishToDashlet("editStateChanged",e)});c._set("editState",a);c.context._publishToDashlet("editStateChanged",e)})},_setVisualStateAttr:function(a,b){var c=this,e={state:a};if(this.get("visualState")!=a)return c.context._publishToDashlet("visualStateChanging",
e).then(function(d){if("maximize"==c.get("visualState")&&"restore"==a)c.context.dashboard.layout.minimizeDashlet(c),c._set("visualState",a);else if("restore"==a||"collapse"==a){if(c._set("visualState",a),l.forEach([c._wipeIn,c._wipeOut],function(a){a&&"playing"==a.status()&&a.stop()}),b?c["restore"==a?"_wipeIn":"_wipeOut"].play():c.dashletContent.style.display="restore"==a?"":"none",c._started)if("restore"==a)c._onShow();else c.onHide()}else"maximize"==a&&(c.context.dashboard.layout.maximizeDashlet(c),
c._set("visualState",a));c.context._publishToDashlet("visualStateChanged",e);c._setPaneConfigValue("visualState",a)})},showHeader:function(){this.get("noHeader")||(v.set(this.dashletHeader,"display","block"),c.remove(this.domNode,"noHeader"),delete this._headerHidden)},hideHeader:function(){this._headerHidden||(v.set(this.dashletHeader,"display","none"),c.add(this.domNode,"noHeader"),this._headerHidden=!0)},_setTheme:function(){var a=this.inherited(arguments);a&&this.context._publishToDashlet("themeChanged",
a)},_manageHeadersAfterStartup:function(){(this.get("noHeader")||this.get("autoHideHeader"))&&this.hideHeader()},_setReadonlyAttr:function(a){this._set("readonly",a)},_setDisableEditAttr:function(a){this._set("disableEdit",a)},_setDisableMaximizeAttr:function(a){this._set("disableMaximize",a)},_setDisableRemoveAttr:function(a){this._set("disableRemove",a)},_setDisableMoveAttr:function(a){this._set("disableMove",a)},_setDisableCollapseAttr:function(a){canCollapse=!a;this.titleBox.setAttribute("role",
canCollapse?"button":"heading");canCollapse?(this.titleBox.setAttribute("aria-controls",this.id+"_pane"),h.set(this.titleBox,"tabIndex",this.tabIndex)):h.remove(this.titleBox,"tabIndex");this._set("disableCollapse",a)},_setNoHeaderAttr:function(a){this._set("noHeader",a);a?this.hideHeader():this.showHeader()},_setContentAttr:function(a){!("restore"==this.visualState||"maximize"==this.visualState)||!this._wipeOut||"playing"==this._wipeOut.status()?this.inherited(arguments):(this._wipeIn&&"playing"==
this._wipeIn.status()&&this._wipeIn.stop(),e.setMarginBox(this.dashletContent,{h:e.getMarginBox(this.dashletContent).h}),this.inherited(arguments),this._wipeIn?this._wipeIn.play():this.dashletContent.style.display="")},_setContextAttr:function(a){this._set("context",a)},_setBusyAttr:function(a){this._set("busy",a);a?c.add(this.domNode,"d-busy"):c.remove(this.domNode,"d-busy")},_doDashletError:function(a){v.set(this.containerNode,"color","red");this.showBody();this.showDashletContainer();a=u.create("div",
{innerHTML:a.message});u.place(a,this.containerNode)},_setPaneConfigValue:function(a,b){this.context.paneConfig._isPaneSetting=!0;this.context.paneConfig.set(a,b)},_setTitle:function(a){this.dashletTitle.innerHTML=a},realignMask:function(){this.mask&&this.mask.show(this.domNode,!0)},openEditor:function(){return this.context.openEditor(null,this.getEditorContainerNode())},allowMove:function(){var a=!this.get("readonly")&&!this.get("disableMove");a&&(a=this.context.dashboard._hasDesignMode(I.dashboard));
return a},allowEdit:function(){return!this.get("readonly")&&!this.get("disableEdit")},allowRemove:function(){return!this.get("readonly")&&!this.get("disableRemove")},toggleCollapse:function(){if(!this.context.paneConfig.get("disableCollapse"))switch(this.get("visualState")){case "restore":this._setVisualStateAttr("collapse",!0);break;case "collapse":this._setVisualStateAttr("restore",!0)}},hideBody:function(){this.set("bodyHidden",!0);v.set(this.dashletContent,"display","none")},showBody:function(){this.set("bodyHidden",
null);v.set(this.dashletContent,"display","block")},processCommand:function(a,b){return this.context.processCommand(a.command)},_onMaximizeClick:function(a){"maximize"==this.get("visualState")?this.set("visualState","restore"):this.set("visualState","maximize");a.cancelBubble=!0},_onOptionsClick:function(a){var b=this;b.commandsMenu||(b.commandsMenu=new z({target:a.uiControl.domNode}),b.commandsMenu.on("Cancel",function(){b.commandsMenu.destroyRecursive();delete b.commandsMenu}),this._prepareCommandsMenu(),
b.commandsMenu.startup());b.commandsMenu.show()},_setCommandByDesignMode:function(a){a.designMode&&(this.context.dashboard._hasDesignMode(a.designMode)?delete a.__designModeConflict:a.__designModeConflict=!0)},_updateDesignMode:function(){var a=this.context.getPaneCommands(),b=this.context.dashboard.get("designMode");l.forEach(a,function(a){this._setCommandByDesignMode(a,b);a.uiControl&&!a.hidden&&a.designMode&&a.uiControl.set("hidden",a.__designModeConflict)},this);this.context.dashboard._hasDesignMode(I.dashlets)||
this.context.closeEditor()},createCommands:function(a){this._buttonSet=new D({commands:a,handler:F.hitch(this,this.processCommand),context:this.context},this.dashletCommands);this._buttonSet.startup()},buildRendering:function(){this.inherited(arguments)},destroyRecursive:function(){try{this.commandsMenu&&this.commandsMenu.destroyRecursive(),this.context.dashlet&&F.isFunction(this.context.dashlet.destroyRecursive)?this.context.dashlet.destroyRecursive.apply(this.context.dashlet):this.context.dashlet&&
F.isFunction(this.context.dashlet.destroy)&&this.context.dashlet.destroy.apply(this.context.dashlet),this._buttonSet&&this._buttonSet.destroyRecursive(),this.inherited(arguments)}catch(a){throw a;}},postscript:function(a){a=a||{};"undefined"==typeof a.iconClass&&(a.iconClass="d-icon-star");"undefined"==typeof a.iconBusyClass&&(a.iconBusyClass="d-icon-busy");"undefined"==typeof a.visualState&&(a.visualState="restore");this.inherited(arguments,[a])},postCreate:function(){delete this.context.paneConfig._isPaneSetting;
this.inherited(arguments)},_initialized:function(){}})})},"jdash/layout/AutoScroll":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/_base/sniff dojo/ready dojo/_base/window".split(" "),function(d,l,k,m,h,c){l=l("jdash.layout.AutoScroll",null,{interval:3,recursiveTimer:10,marginMouse:50,constructor:function(){this.resizeHandler=m.connect(d.global,"onresize",this,function(){this.getViewport()});c(k.hitch(this,"init"))},init:function(){this._html=h("webkit")?
d.body():d.body().parentNode;this.getViewport()},getViewport:function(){var c=d.doc.documentElement,g=window,b=d.body();d.isMozilla?this._v={w:c.clientWidth,h:g.innerHeight}:!d.isOpera&&g.innerWidth?this._v={w:g.innerWidth,h:g.innerHeight}:!d.isOpera&&c&&c.clientWidth?this._v={w:c.clientWidth,h:c.clientHeight}:b.clientWidth&&(this._v={w:b.clientWidth,h:b.clientHeight})},setAutoScrollNode:function(c){this._node=c},setAutoScrollMaxPage:function(){this._yMax=this._html.scrollHeight;this._xMax=this._html.scrollWidth},
checkAutoScroll:function(c){this._autoScrollActive&&this.stopAutoScroll();this._y=c.pageY;this._x=c.pageX;c.clientX<this.marginMouse?(this._autoScrollActive=!0,this._autoScrollLeft(c)):c.clientX>this._v.w-this.marginMouse&&(this._autoScrollActive=!0,this._autoScrollRight(c));c.clientY<this.marginMouse?(this._autoScrollActive=!0,this._autoScrollUp(c)):c.clientY>this._v.h-this.marginMouse&&(this._autoScrollActive=!0,this._autoScrollDown())},_autoScrollDown:function(){this._timer&&clearTimeout(this._timer);
this._autoScrollActive&&this._y+this.marginMouse<this._yMax&&(this._html.scrollTop+=this.interval,this._node.style.top=parseInt(this._node.style.top)+this.interval+"px",this._y+=this.interval,this._timer=setTimeout(k.hitch(this,"_autoScrollDown"),this.recursiveTimer))},_autoScrollUp:function(){this._timer&&clearTimeout(this._timer);this._autoScrollActive&&0<this._y-this.marginMouse&&(this._html.scrollTop-=this.interval,this._node.style.top=parseInt(this._node.style.top)-this.interval+"px",this._y-=
this.interval,this._timer=setTimeout(k.hitch(this,"_autoScrollUp"),this.recursiveTimer))},_autoScrollRight:function(){this._timer&&clearTimeout(this._timer);this._autoScrollActive&&this._x+this.marginMouse<this._xMax&&(this._html.scrollLeft+=this.interval,this._node.style.left=parseInt(this._node.style.left)+this.interval+"px",this._x+=this.interval,this._timer=setTimeout(k.hitch(this,"_autoScrollRight"),this.recursiveTimer))},_autoScrollLeft:function(c){this._timer&&clearTimeout(this._timer);this._autoScrollActive&&
0<this._x-this.marginMouse&&(this._html.scrollLeft-=this.interval,this._node.style.left=parseInt(this._node.style.left)-this.interval+"px",this._x-=this.interval,this._timer=setTimeout(k.hitch(this,"_autoScrollLeft"),this.recursiveTimer))},stopAutoScroll:function(){this._timer&&clearTimeout(this._timer);this._autoScrollActive=!1},destroy:function(){m.disconnect(this.resizeHandler)}});jdash.layout.autoScroll=null;jdash.layout.autoScroll=new jdash.layout.AutoScroll;return l})},"dojo/touch":function(){define("dojo/touch",
"./_base/kernel ./aspect ./dom ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(d,l,k,m,h,c,e,g){function b(b,c){return a?function(a,e){var d=m(a,c,e),g=m(a,b,function(a){(!f||(new Date).getTime()>f+1E3)&&e.call(this,a)});return{remove:function(){d.remove();g.remove()}}}:function(a,c){return m(a,b,c)}}var a=h("touch"),n=!1;h("ios")&&(l=navigator.userAgent.match(/OS ([\d_]+)/)?RegExp.$1:"1",n=5>parseFloat(l.replace(/_/,".").replace(/_/g,"")));var f,p,s;a&&(e(function(){s=g.body();
g.doc.addEventListener("touchstart",function(a){f=(new Date).getTime();var b=s;s=a.target;m.emit(b,"dojotouchout",{target:b,relatedTarget:s,bubbles:!0});m.emit(s,"dojotouchover",{target:s,relatedTarget:b,bubbles:!0})},!0);m(g.doc,"touchmove",function(a){f=(new Date).getTime();if((a=g.doc.elementFromPoint(a.pageX-(n?0:g.global.pageXOffset),a.pageY-(n?0:g.global.pageYOffset)))&&s!==a)m.emit(s,"dojotouchout",{target:s,relatedTarget:a,bubbles:!0}),m.emit(a,"dojotouchover",{target:a,relatedTarget:s,bubbles:!0}),
s=a})}),p=function(a,b){return m(g.doc,"touchmove",function(c){if(a===g.doc||k.isDescendant(s,a))c.target=s,b.call(this,c)})});c={press:b("mousedown","touchstart"),move:b("mousemove",p),release:b("mouseup","touchend"),cancel:b(c.leave,"touchcancel"),over:b("mouseover","dojotouchover"),out:b("mouseout","dojotouchout"),enter:c._eventHandler(b("mouseover","dojotouchover")),leave:c._eventHandler(b("mouseout","dojotouchout"))};return d.touch=c})},"jdash/core/when":function(){define(["dojo/_base/lang",
"klt/core/when"],function(d,l){d.setObject("jdash.when",l);return l})},"jdash/ui/Widget":function(){define(["./_WidgetBase","dojo/_base/declare"],function(d,l){return l("jdash.ui.Widget",[d],{})})},"dojo/_base/url":function(){define(["./kernel"],function(d){var l=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,k=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,m=function(){for(var d=arguments,c=[d[0]],e=1;e<d.length;e++)if(d[e]){var g=new m(d[e]+""),c=new m(c[0]+"");
if(""==g.path&&!g.scheme&&!g.authority&&!g.query)null!=g.fragment&&(c.fragment=g.fragment),g=c;else if(!g.scheme&&(g.scheme=c.scheme,!g.authority&&(g.authority=c.authority,"/"!=g.path.charAt(0)))){for(var c=(c.path.substring(0,c.path.lastIndexOf("/")+1)+g.path).split("/"),b=0;b<c.length;b++)"."==c[b]?b==c.length-1?c[b]="":(c.splice(b,1),b--):0<b&&(!(1==b&&""==c[0])&&".."==c[b]&&".."!=c[b-1])&&(b==c.length-1?(c.splice(b,1),c[b-1]=""):(c.splice(b-1,2),b-=2));g.path=c.join("/")}c=[];g.scheme&&c.push(g.scheme,
":");g.authority&&c.push("//",g.authority);c.push(g.path);g.query&&c.push("?",g.query);g.fragment&&c.push("#",g.fragment)}this.uri=c.join("");d=this.uri.match(l);this.scheme=d[2]||(d[1]?"":null);this.authority=d[4]||(d[3]?"":null);this.path=d[5];this.query=d[7]||(d[6]?"":null);this.fragment=d[9]||(d[8]?"":null);null!=this.authority&&(d=this.authority.match(k),this.user=d[3]||null,this.password=d[4]||null,this.host=d[6]||d[7],this.port=d[9]||null)};m.prototype.toString=function(){return this.uri};
return d._Url=m})},"jdash/ui/TitleEditor":function(){define("dojo/_base/declare dojo/_base/lang ./_WidgetBase ./_TemplatedMixin dojo/dom-construct dojo/query dojo/dom-class dojo/dom-style dojo/on klt/core/messageBus".split(" "),function(d,l,k,m,h,c,e,g,b,a){return d("jdash.ui.TitleEditor",[k,m],{templateString:'\x3cinput type\x3d"text" /\x3e',postCreate:function(){var a=this;this.domNode.onchange=this.domNode.onkeyup=function(){a.value!=this.value&&(a.skipDomUpdate=!0,a.set("value",this.value),a.context&&
a.context.set("title",this.value))};this.inherited(arguments)},_setValueAttr:function(a){this.skipDomUpdate||(this.domNode.value=null==a?"":a);this.skipDomUpdate=!1},_setDashletIdAttr:function(a){if(!this.context&&this.dashboard){var b=this;this._set("dashletId",a);this.subscribe("jdash/dashboard/dashletCreated",function(a){b.dashboard==a.sender&&a.args.result.context.model.id==b.dashletId&&b.set("context",a.args.result.context)})}},_setContextAttr:function(a){this._set("context",a);var b=this.originalValue=
this.context.get("title");this.set("value",b);var c=this;this.subscribe("jdash/dashlet/editor/canceled",function(a){a.sender.dashletContext==c.context&&c.context.set("title",b)})}})})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(d,l){var k={};l.setObject("dojo.string",k);k.rep=function(d,h){if(0>=h||!d)return"";for(var c=[];;){h&1&&c.push(d);if(!(h>>=1))break;d+=d}return c.join("")};k.pad=function(d,h,c,e){c||(c="0");d=String(d);h=k.rep(c,Math.ceil((h-d.length)/c.length));
return e?d+h:h+d};k.substitute=function(k,h,c,e){e=e||d.global;c=c?l.hitch(e,c):function(c){return c};return k.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(d,b,a){d=l.getObject(b,!1,h);a&&(d=l.getObject(a,!1,e).call(e,d,b));return c(d,b).toString()})};k.trim=String.prototype.trim?l.trim:function(d){d=d.replace(/^\s+/,"");for(var h=d.length-1;0<=h;h--)if(/\S/.test(d.charAt(h))){d=d.substring(0,h+1);break}return d};return k})},"jdash/core/DashletCommand":function(){define("dojo/_base/declare dojo/_base/lang ./CommandName dojo/i18n!../nls/language dojo/has ./DesignMode".split(" "),
function(d,l,k,m,h,c){var e={create:function(c,b){var a=e[c],a=a?l.clone(a):{name:c};"undefined"==typeof a.location&&(a.location="header");l.mixin(a,b);return a},none:{name:k.name},maximize:{name:k.maximize,label:m.Maximize,type:"visualState",location:"header",ui:{iconClass:"d-icon-maximize",title:m.Maximize}},refresh:{name:k.refresh,label:m.Refresh,type:"builtIn",location:"header",ui:{iconClass:"d-icon-refresh",title:m.Refresh}},collapse:{name:k.collapse,label:m.Collapse,type:"visualState",location:"header",
ui:{iconClass:"d-icon-collapse",title:m.Collapse}},restore:{name:k.restore,label:m.Restore,type:"visualState",location:"header",ui:{iconClass:"d-icon-restore",title:m.Restore}},remove:{name:k.remove,label:m.Remove,type:"builtIn",location:"header",ui:{iconClass:"d-icon-remove",title:m.Remove},designMode:c.dashboard,confirm:!1},clone:{name:k.clone,label:m.Clone,type:"builtIn",location:"header",ui:{iconClass:"d-icon-clone",title:m.Clone},designMode:c.dashboard,confirm:!1},seperator:{name:"seperator",
type:"seperator"},share:{name:k.share,label:m.Share,type:"builtIn",location:"menu",ui:{title:m.Share}},about:{name:k.about,label:m.About,type:"url",location:"menu",ui:{title:m.About}},edit:{name:k.edit,label:m.EditSettings,type:"builtIn",location:"header",ui:{title:m.EditSettings,iconClass:"d-icon-edit"},designMode:c.dashlets},menu:{name:k.menu,label:m.Options,type:"builtIn",location:"header",ui:{iconClass:"d-icon-grid",title:m.Options}},visualState:{name:k.visualState,type:"builtIn",location:"none",
states:{restore:["collapse","maximize"],collapse:["restore"],maximize:["restore"]}}};return e})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(d,l,k,m,h,c){var e={};d.setObject("dojo.dnd.autoscroll",e);e.getViewport=c.getBox;e.V_TRIGGER_AUTOSCROLL=32;e.H_TRIGGER_AUTOSCROLL=32;e.V_AUTOSCROLL_VALUE=16;e.H_AUTOSCROLL_VALUE=16;var g,b=k.doc,a=Infinity,n=Infinity;e.autoScrollStart=function(e){b=e;g=c.getBox(b);
e=k.body(b).parentNode;a=Math.max(e.scrollHeight-g.h,0);n=Math.max(e.scrollWidth-g.w,0)};e.autoScroll=function(d){var h=g||c.getBox(b),l=k.body(b).parentNode,m=0,q=0;d.clientX<e.H_TRIGGER_AUTOSCROLL?m=-e.H_AUTOSCROLL_VALUE:d.clientX>h.w-e.H_TRIGGER_AUTOSCROLL&&(m=Math.min(e.H_AUTOSCROLL_VALUE,n-l.scrollLeft));d.clientY<e.V_TRIGGER_AUTOSCROLL?q=-e.V_AUTOSCROLL_VALUE:d.clientY>h.h-e.V_TRIGGER_AUTOSCROLL&&(q=Math.min(e.V_AUTOSCROLL_VALUE,a-l.scrollTop));window.scrollBy(m,q)};e._validNodes={div:1,p:1,
td:1};e._validOverflow={auto:1,scroll:1};e.autoScrollNodes=function(a){for(var b,c,d,g,n,u,y=0,v=0,t=a.target;t;){if(1==t.nodeType&&t.tagName.toLowerCase()in e._validNodes){d=h.getComputedStyle(t);g=d.overflow.toLowerCase()in e._validOverflow;n=d.overflowX.toLowerCase()in e._validOverflow;u=d.overflowY.toLowerCase()in e._validOverflow;if(g||n||u)b=m.getContentBox(t,d),c=m.position(t,!0);if(g||n){d=Math.min(e.H_TRIGGER_AUTOSCROLL,b.w/2);n=a.pageX-c.x;if(l("webkit")||l("opera"))n+=k.body().scrollLeft;
y=0;0<n&&n<b.w&&(n<d?y=-d:n>b.w-d&&(y=d),t.scrollLeft+=y)}if(g||u){g=Math.min(e.V_TRIGGER_AUTOSCROLL,b.h/2);u=a.pageY-c.y;if(l("webkit")||l("opera"))u+=k.body().scrollTop;v=0;0<u&&u<b.h&&(u<g?v=-g:u>b.h-g&&(v=g),t.scrollTop+=v)}if(y||v)return}try{t=t.parentNode}catch(x){t=null}}e.autoScroll(a)};return e})},"jdash/ui/_TemplatedMixin":function(){define("require dojo/_base/array dojo/cache dojo/_base/connect dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/string dojo/touch dojo/_base/unload ./_WidgetBase".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s){var r=e.delegate(f,{mouseenter:g.enter,mouseleave:g.leave,keypress:m._keypress}),q,w=h("jdash..ui._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:!1,constructor:function(){this._attachPoints=[];this._attachEvents=[]},_stringRepl:function(a){var b=this.declaredClass,c=this;return n.substitute(a,this,function(a,d){"!"==d.charAt(0)&&(a=e.getObject(d.substr(1),!1,c));if("undefined"==typeof a)throw Error(b+" template:"+d);return null==a?
"":"!"==d.charAt(0)?a:a.toString().replace(/"/g,"\x26quot;")},this)},buildRendering:function(){this.templateString||(this.templateString=k(this.templatePath,{sanitize:!0}));var a=w.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),b;if(e.isString(a)){if(b=c.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b;this.inherited(arguments);this._attachTemplateNodes(b,function(a,b){return a.getAttribute(b)});
this._beforeFillContent();this._fillContent(this.srcNodeRef)},_beforeFillContent:function(){},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)},_attachTemplateNodes:function(a,c){for(var f=e.isArray(a)?a:a.all||a.getElementsByTagName("*"),g=e.isArray(a)?0:-1;0>g||f[g];g++){var h=-1==g?a:f[g];if(!this.widgetsInTemplate||!c(h,"dojoType")&&!c(h,"data-dojo-type")){var k=c(h,"dojoAttachPoint")||c(h,"data-dojo-attach-point");if(k)for(var l=k.split(/\s*,\s*/);k=
l.shift();)e.isArray(this[k])?this[k].push(h):this[k]=h,this._attachPoints.push(k);if(k=c(h,"dojoAttachEvent")||c(h,"data-dojo-attach-event"))for(var l=k.split(/\s*,\s*/),m=e.trim;k=l.shift();)if(k){var n=null;-1!=k.indexOf(":")?(n=k.split(":"),k=m(n[0]),n=m(n[1])):k=m(k);n||(n=k);k=k.replace(/^on/,"").toLowerCase();k="dijitclick"==k?q||(q=d("./a11yclick")):r[k]||k;this._attachEvents.push(this.own(b(h,k,e.hitch(this,n)))[0])}}}},destroyRendering:function(){l.forEach(this._attachPoints,function(a){delete this[a]},
this);this._attachPoints=[];l.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments)}});w._templateCache={};w.getCachedTemplate=function(a,b,e){var d=w._templateCache,f=a,g=d[f];if(g){try{if(!g.ownerDocument||g.ownerDocument==(e||document))return g}catch(h){}c.destroy(g)}a=n.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return d[f]=a;b=c.toDom(a,e);if(1!=b.nodeType)throw Error("Invalid template: "+a);return d[f]=b};a("ie")&&p.addOnWindowUnload(function(){var a=
w._templateCache,b;for(b in a){var e=a[b];"object"==typeof e&&c.destroy(e);delete a[b]}});e.extend(s,{dojoAttachEvent:"",dojoAttachPoint:""});return w})},"jdash/model/MetadataModel":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/json","./ModelBase"],function(d,l,k,m){return d("jdash.model.MetadataModel",[m],{postscript:function(d){d=d||{};d.created&&(l.isString(d.created)?d.created=new Date(parseInt(d.created.replace("/Date(","").replace(")/",""),10)):d.created=new Date(d.created));
d.modified&&(l.isString(d.modified)?d.modified=new Date(parseInt(d.modified.replace("/Date(","").replace(")/",""),10)):d.modified=new Date(d.modified));d.shared&&(l.isString(d.shared)?d.shared=new Date(parseInt(d.shared.replace("/Date(","").replace(")/",""),10)):d.shared=new Date(d.shared));this.inherited(arguments,[d])},serialized:function(){var d=this.inherited(arguments);l.mixin(d,{group:this.group,description:this.description,tags:this.tags,createdBy:this.createdBy,modifiedBy:this.modifiedBy,
sharedBy:this.sharedBy,created:this.created,modified:this.modified,shared:this.shared,userData:this.userData});return d}})})},"jdash/ui/Menu":function(){define("dojo/_base/declare dojo/_base/lang ./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/dom-class dojo/dom-style dojo/dom-construct ./_ThemeMixin dojo/dom-geometry dojo/on dojo/topic dojo/query ./registry dojo/_base/array".split(" "),function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r){return d("jdash.ui.Menu",[k,m,b],{templateString:"\x3cdiv\x3e\x3c/div\x3e",
baseClass:"d-dashleMenu",onCancel:function(){this.hide()},postCreate:function(){var a=this;this.own(n(document,"click",function(){a.emit("Cancel")}));this.subscribe("jdash/dashlet/menu/opened",function(b){b!=a&&a.emit("Cancel")});this.inherited(arguments)},addChild:function(a){a.menu=this;g.place(a.domNode,this.domNode,"last")},hide:function(){this.domNode.style.display="none"},destroyRecursive:function(){var a=s.findWidgets(this.domNode);a&&r.forEach(a,function(a){try{a._destroyed||(a.destroyRecursive?
a.destroyRecursive():a.destroy&&a.destroy())}catch(b){}});this.inherited(arguments)},show:function(){this.domNode.hasChildNodes()?(this.domNode.style.display="block",this.arrangePosition(),f.publish("jdash/dashlet/menu/opened",this)):this.hide()},startup:function(){g.place(this.domNode,p("body")[0],"last");this.arrangePosition()},arrangePosition:function(){a.position(this.domNode);var b=a.position(this.target),c=this._getPosition();this.domNode.style.left=c.left+"px";this.domNode.style.top=c.top+
b.h+"px"},_getPosition:function(){var a=this.target,b;try{b=a.getBoundingClientRect()}catch(c){return{top:0,left:0}}var e=a.ownerDocument,a=document,d=2===document.createElement("div").offsetWidth,e=e.body,f=window;return{top:b.top+(f.pageYOffset||d&&a.scrollTop||e.scrollTop)-(a.clientTop||e.clientTop||0),left:b.left+(f.pageXOffset||d&&a.scrollLeft||e.scrollLeft)-(a.clientLeft||e.clientLeft||0)}}})})},"jdash/layout/Zone":function(){define(["dojo/_base/declare","dojo/_base/lang","./_LayoutItem","../ui/_DomMixin"],
function(d,l,k){return d([k],{postscript:function(k){d.safeMixin(this,k)},clone:function(){return l.clone(this.serialized())},serialized:function(){var d=this.inherited(arguments);l.mixin(d,{title:this.title});l.mixin(d,{flex:this.flex||1});return d}})})},"jdash/provider/JsonRest/JsonRestProvider":function(){define("dojo/_base/declare dojo/_base/lang ../_ProviderMixin ../Manager ./JsonRestStore dojo/_base/array ../../model/DashletModuleModel ../../model/DashletModel ../../model/DashboardModel".split(" "),
function(d,l,k,m,h,c,e,g,b){k=d("DDJRP",[k],{apiPath:"jdash/api/",postscript:function(a){d.safeMixin(this,a)},getDashletModuleClass:function(){return e},inTransaction:!1,transaction:function(){this.operations=[];this.inTransaction=!0;var a=this;return{commit:function(){var b=(new h({target:"/api/Transact/Transact"})).put(a.operations);b.then(function(b){a.inTransaction=!1;a.operations=[]});return b},abort:function(){a.inTransaction=!1}}},callMethod:function(a,b,c){if(this.inTransaction)this.operations.push({Method:a,
Args:b});else return a=new h({target:this.apiPath+a}),"query"==c&&(0==b.length&&(b[0]={}),l.isObject(b[0])&&l.mixin(b[0],{guid:Math.floor(1E11*Math.random())+1})),a[c].apply(a,b)},_createSingleModel:function(a,b){return new b(l.mixin(a,{_serialized:!0}))},_createModels:function(a,b){return c.map(a,function(a){return this._createSingleModel(a,b)},this)},getDashboard:function(a){var c=this;return this.callMethod("GetDashboard",[{id:a}],"query").then(function(a){return c._createSingleModel(a,b)})},searchDashboards:function(){var a=
this,c=0<arguments.length&&l.isObject(arguments[0]);return this.callMethod("SearchDashboards",[arguments[0]||{}],"add").then(function(e){e.data=a._createModels(e.data,b);return c?e:e.data})},saveDashboard:function(a){var c=this;return this.callMethod("SaveDashboard/",[a.serialized()],"put").then(function(a){return c._createSingleModel(a,b)})},createDashboard:function(a){var c=this;return this.callMethod("CreateDashboard",[a.serialized()],"add").then(function(a){return c._createSingleModel(a,b)})},
deleteDashboard:function(a){return this.callMethod("DeleteDashboard/",[a],"remove")},getDashlet:function(a){var b=this;return this.callMethod("GetDashlet",[{id:a}],"query").then(function(a){return b._createSingleModel(a,g)})},searchDashlets:function(){var a=this,b=0<arguments.length&&l.isObject(arguments[0]);return this.callMethod("SearchDashlets",[arguments[0]||{}],"add").then(function(c){c.data=a._createModels(c.data,g);return b?c:c.data})},saveDashlet:function(a){var b=this;return this.callMethod("SaveDashlet/",
[a.serialized()],"put").then(function(a){return b._createSingleModel(a,g)})},createDashlet:function(a,b){var c=this,e={model:a.serialized()};b&&0<b.length&&l.mixin(e,{positions:b});return this.callMethod("CreateDashlet",[e],"add").then(function(a){return c._createSingleModel(a,g)})},deleteDashlet:function(a){return this.callMethod("DeleteDashlet/",[a],"remove")},getDashletsOfDashboard:function(a,b){b||(b=!1);var e=this;return this.callMethod("GetDashboardDashlets",[{dashboardId:a,withModules:b}],
"query").then(function(a){if(b){var d=a.modules.data;a=a.dashlets.data;c.forEach(a,function(a){var b=c.filter(d,function(b){return b.id==a.moduleId});a.module=e._createSingleModel(l.clone(b[0]),e.getDashletModuleClass())});return e._createModels(a,g)}return e._createModels(a.dashlets.data,g)})},updateDashletPositions:function(a){return this.callMethod("UpdateDashletPositions",[a],"add")},getDashletModule:function(a){var b=this;return this.callMethod("GetDashletModule",[{id:a}],"query").then(function(a){return b._createSingleModel(a,
b.getDashletModuleClass())})},searchDashletModules:function(){var a=this,b=0<arguments.length&&l.isObject(arguments[0]);return this.callMethod("SearchDashletModules",[arguments[0]||{}],"add").then(function(c){c.data=a._createModels(c.data,a.getDashletModuleClass());return b?c:c.data})},saveDashletModule:function(a){var b=this;return this.callMethod("SaveDashletModule/",[a.serialized()],"put").then(function(a){return b._createSingleModel(a,b.getDashletModuleClass())})},createDashletModule:function(a){var b=
this;return this.callMethod("CreateDashletModule",[a.serialized()],"add").then(function(a){return b._createSingleModel(a,b.getDashletModuleClass())})},getDashletGroups:function(){return this.callMethod("GetDashletGroups/",[],"query")},deleteDashletModule:function(a){return this.callMethod("DeleteDashletModule/",[a],"remove")}});l.mixin(k,{description:"Provider for Jsonrest data stores. \u00a9 2012 Kalitte."});m.register("JsonRest",k);return k})},"jdash/layout/DropIndicator":function(){define(["dojo/_base/kernel",
"dojo/_base/declare","dojo/dom-class","dojo/dom-construct"],function(d,l,k,m){return l("jdash.layout.DropIndicator",null,{node:null,constructor:function(){var d=document.createElement("div"),c=document.createElement("div");d.appendChild(c);k.add(d,"d-drop-indicator");this.node=d},place:function(d,c,e){e?this.node.style.height=e.h+"px":""==this.node.style.height&&(this.node.style.height="100px");try{return c?d.insertBefore(this.node,c):d.appendChild(this.node),this.node}catch(g){return null}},remove:function(){this.node&&
(this.node.style.height="",this.node.parentNode&&this.node.parentNode.removeChild(this.node))},destroy:function(){this.node&&(this.node.parentNode&&this.node.parentNode.removeChild(this.node),m.destroy(this.node),delete this.node)}})})},"jdash/layout/LayoutManager":function(){define(["dojo/_base/declare","dojo/_base/lang","../ui/_WidgetBase","../ui/_TemplatedMixin"],function(d,l,k,m){return new (d("jdash.LayoutManager",null,{constructor:function(){this._layouts={}},list:function(){return this._layouts},
register:function(d,c){if(this._layouts[d])throw Error("Layout is already registered");this._layouts[d]={Class:c}},unRegister:function(d){if(!this._layouts[d])throw Error("Layout is not registered");delete this._layouts[d]},get:function(d){if(!this._layouts[d])throw Error("Layout is not registered");return this._layouts[d]}}))})},"klt/core/messageBus":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/Deferred"],function(d,l,k,m){return new (d("Klt.core.MessageBus",null,
{publish:function(d,c){var e=new m,g=this.subscribe(d,function(b){g.remove();b&&b.cancel?e.reject(b):b&&b.nextDefer?b.nextDefer.then(function(a){e.resolve(l.mixin(b,{deferResult:a}))},function(a){e.reject(l.mixin(b,{deferResult:a}))}):e.resolve(b)});k.publish.apply(k,arguments);return e},subscribe:function(d,c){return k.subscribe.apply(k,arguments)},createEvent:function(d,c){return{sender:d,args:c||{}}}}))})},"klt/core/Dictionary":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array ./DictionaryBaseUtil dojo/json ./DictionarySerializationMode".split(" "),
function(d,l,k,m,h,c){return d("klt.core.dictionary",[m],{serializationMode:c.arrayOfObject,postscript:function(c){this.inherited(arguments)},load:function(c,d,b,a){b=b||this;d=d||function(a){return a};for(var k in c){var f=c[k];this.add(k,d.call(b,a?h.parse(f):f))}return this},serialized:function(e,d){d=d||this;e=e||function(a){return a&&l.isFunction(a.serialized)?a.serialized():h.stringify(a)};if(this.serializationMode==c.object){var b={};this.forEach(function(a){b[a.key]=e.call(d,a.value)},this)}else b=
[],this.forEach(function(a){b.push({Key:a.key,Value:e.call(d,a.value)})},this);return b},asObject:function(){var c={};this.forEach(function(d){c[d.key]=d.value},this);return c},firstKey:function(){var c=this.firstItem();return c?c.key:null},firstValue:function(){var c=this.firstItem();return c?c.value:null},firstItem:function(){for(var c=this.getIterator();c.get();)return c.element;return null}})})},"jdash/model/DashletPositionModel":function(){define(["dojo/_base/declare","dojo/_base/lang","./ModelBase"],
function(d,l,k){return d("jdash.model.DashletPositionModel",[k],{isEmpty:function(){return"undefined"==typeof this.section},toString:function(){return this.isEmpty()?"[Empty]":this.section+","+this.zone+","+this.pos},serialized:function(){return{section:this.section,zone:this.zone,pos:this.pos}},assignNew:function(d){this.section!==d.section&&this.set("section",d.section);this.zone!==d.zone&&this.set("zone",d.zone);this.pos!==d.pos&&this.set("pos",d.pos);return this}})})},"dojo/request":function(){define(["./request/default!"],
function(d){return d})},"klt/core/DictionaryBase":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(d,l,k){d=l.getObject("klt.core",!0);d.DictionaryEntry=function(d,h){this.key=d;this.value=h;this.valueOf=function(){return this.value};this.toString=function(){return String(this.value)}};d.Iterator=function(d){var h=0;this.element=d[h]||null;this.atEnd=function(){return h>=d.length};this.get=function(){return this.atEnd()?null:this.element=d[h++]};this.map=function(c,
e){return k.map(d,c,e)};this.reset=function(){h=0;this.element=d[h]}};d.DictionaryIterator=function(d){var h=[],c={},e;for(e in d)c[e]||h.push(d[e]);var g=0;this.element=h[g]||null;this.atEnd=function(){return g>=h.length};this.get=function(){return this.atEnd()?null:this.element=h[g++]};this.map=function(b,a){return k.map(h,b,a)};this.reset=function(){g=0;this.element=h[g]}};return d})},"jdash/layout/AbsoluteMoveable":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/query dojo/NodeList-traverse dojo/dom dojo/dom-class dojo/Evented dojo/on dojo/topic dojo/touch dojo/dnd/common dojo/dnd/Mover dojo/_base/window ../ui/registry".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q){return l("jdash.layout.AbsoluteMoveable",[b],{handle:"",delay:0,skip:!1,constructor:function(b,c){this.node=e.byId(b);c||(c={});this.handle=c.handle?e.byId(c.handle):null;this.handle||(this.handle=this.node);this.delay=0<c.delay?c.delay:0;this.skip=c.skip;this.mover=c.mover?c.mover:s;this.events=[a(this.handle,f.press,m.hitch(this,"onMouseDown")),a(this.handle,"dragstart",m.hitch(this,"onSelectStart")),a(this.handle,"selectstart",m.hitch(this,"onSelectStart"))]},
markupFactory:function(a,b,c){return new c(b,a)},destroy:function(){d.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(b){var c=this;if(!(0<=" textarea input select option ".indexOf(" "+b.target.tagName.toLowerCase()+" "))&&this.context.dndEnabled&&!this.stricky&&this.child.context.pane.allowMove()){var e=!1,l=h(b.target).parents();d.some(l,function(a){if(g.contains(a,"d-controlgroup")||g.contains(a,"d-btn"))return e=!0,!1});e||(this.context._publishForLayout("dnd/MoveStarting",
{e:b,moveable:this}).then(function(){if(c.delay)c.events.push(a(c.handle,f.move,m.hitch(c,"onMouseMove")),a(c.handle,f.release,m.hitch(c,"onMouseUp"))),c._lastX=b.pageX,c._lastY=b.pageY;else c.onDragDetected(b)},function(){}),k.stop(b))}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);k.stop(a)},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();k.stop(a)},onSelectStart:function(a){(!this.skip||
!p.isFormElement(a))&&k.stop(a)},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){n.publish("/dnd/move/start",a);g.add(r.body(),"dojoMove");g.add(this.node,"dojoMoveItem")},onMoveStop:function(a){n.publish("/dnd/move/stop",a);g.remove(r.body(),"dojoMove");g.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},
"jdash/ui/DashletPane":function(){define(["dojo/_base/declare","./DashletPaneBase","dojo/text!./templates/DashletPane.htm","klt/core/WfPatch"],function(d,l,k,m){return d("jdash.ui.DashletPane",[l],{templateString:m.patch(k)})})},"jdash/ui/animation":function(){define(["dojo/on","dojo/query","dojo/dom-class","dojo/when"],function(d,l,k,m){return{css:function(h,c,e){function g(a){b=!0;a=a||window.event;var d=null;e&&(d=e.apply(this,[a]));m(d,function(){k.remove(h,c+" animated")},function(){k.remove(h,
c+" animated")})}var b=!1,a=setTimeout(function(){b||g(null)},2500),l=d(h,"webkitAnimationEnd,mozAnimationEnd,oAnimationEnd,animationEnd,MSAnimationEnd",function(b){l.remove();clearTimeout(a);g(b)}),a=setTimeout(function(){b||g(null)},2500);k.add(h,c+" animated")}}})},"jdash/core/Deferred":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred"],function(d,l,k){return k})},"jdash/ui/Button":function(){define("dojo/_base/declare dojo/_base/lang dojo/text!./templates/Button.htm ./_WidgetBase ./_TemplatedMixin dojo/dom-class dojo/dom-style dojo/dom-construct ./_ThemeMixin dojo/_base/array dojo/dom-attr klt/core/WfPatch".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f){return d("jdash.ui.Button",[m,h],{templateString:f.patch(k),_onClick:function(a){if(this.disabled)return a.stopPropagation(),a.preventDefault(),!1;!1===this.onClick(a)&&a.preventDefault();cancelled=a.defaultPrevented;return!cancelled},onClick:function(){return!0},_setLabelAttr:{node:"labelNode",type:"innerHTML"},_setHiddenAttr:function(a){var b=e.get(this.domNode,"display");if(!("inline-block"==b||"block"==b)||a)e.set(this.domNode,"display",a?"none":"")},_setHrefAttr:function(a){a?
n.set(this.domNode,"href",a):n.remove(this.domNode,"href")},_getHiddenAttr:function(a){return"none"==e.get(this.domNode,"display")?!0:!1},hideLabel:!1,_setIconClassAttr:function(a){var b=this.get("iconClass");b&&c.remove(this.iconNode,b);a?c.add(this.iconNode,a):e.set(this.iconNode,"display","none");this._set("iconClass",a)},_setHideLabelAttr:function(a){this.containerNode&&c.toggle(this.containerNode,"d-displayNone",a);this._set("hideLabel",a);this.set("iconClass",this.get("iconClass"))}})})},"jdash/core/DesignMode":function(){define(["dojo/_base/declare",
"dojo/_base/lang"],function(d,l){var k={none:"none",dashboard:"dashboard",dashlets:"dashlets",full:"full"};l.setObject("jdash.designMode",k);return k})},"jdash/ui/_busyMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/promise/all"],function(d,l,k){return d([],{busyDelay:500,progress:function(d){},setBusy:function(d,h){var c=this;l.isObject(d)||(h=d,d=null);d?(c.setBusy(h),d.then(function(){c.clearBusy()},function(){c.clearBusy()},function(e){c.progress(e)})):(delete c._busyCleared,
setTimeout(function(){c._busyCleared||(c.get("busy")||c.set("busy",!0),c.progress(h))},this.busyDelay))},clearBusy:function(){this.set("busy",!1);this._busyCleared=!0}})})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(d,l,k,m){var h=k.getObject("dojo.dnd",!0);h.getCopyKeyState=function(c){return c[d("mac")?"metaKey":"ctrlKey"]};h._uniqueId=0;h.getUniqueId=function(){var c;do c=l._scopeName+"Unique"+ ++h._uniqueId;while(m.byId(c));return c};h._empty=
{};h.isFormElement=function(c){c=c.target;3==c.nodeType&&(c=c.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+c.tagName.toLowerCase()+" ")};return h})},"klt/core/when":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when"],function(d,l,k){return k})},"jdash/model/DashletModel":function(){define("dojo/_base/declare dojo/_base/lang ./../ui/_DomMixin dojo/json ./ModelBase ./ConfigModel ./DashletModuleModel".split(" "),function(d,l,k,m,h,c,e){return d("jdash.model.DashletModel",
[h,k],{getModule:function(){return this.module?this.module:this._provider.getDashletModule(this.moduleId)},_createConfig:function(e,b){return e=new c(b?{data:e}:e)},postscript:function(c){c=c||{};if(!("module"in c)&&!("moduleId"in c))throw Error("Either module or moduleId should be specified");c.module&&!(c.module instanceof e)&&(c.module=new e(l.mixin(c.module,{_serialized:c._serialized})));c.config=this._createConfig(c.config,c._serialized);c.paneConfig=this._createConfig(c.paneConfig,c._serialized);
this.inherited(arguments,[c])},_moduleSetter:function(c){this.module=c;("undefined"==typeof this.title||null==this.title)&&this.set("title",c.title)},serializeConfig:function(c,b){var a=c.serialized();if(this.module&&this.module[b]){var d=this.module[b].serialized(),f;for(f in d)c=d[f],c.propertyConfig==e.propertyConfig.replace&&delete a[f]}return a},serialized:function(){var c=this.inherited(arguments);l.mixin(c,{id:this.id,title:this.title,config:this.serializeConfig(this.config,"config"),paneConfig:this.serializeConfig(this.paneConfig,
"paneConfig"),moduleId:this.module?this.module.id:this.moduleId,position:this.position.serialized(),dashboardId:this.dashboardId});0==c.config.length&&delete c.config;0==c.paneConfig.length&&delete c.paneConfig;return c}})})},"jdash/provider/JsonRest/JsonRestStore":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/store/JsonRest"],function(d,l,k){return d([k],{postscript:function(d){d=d||{};d.syncMode||(d.syncMode=!1);this.inherited(arguments,[d])}})})},"jdash/ui/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(d,l,k,m){return l(null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate&&(m.parse(this.domNode,{noStart:!0,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(k.hitch(this,function(d){this._startupWidgets=d;this._attachTemplateNodes(d,function(c,e){return c[e]})})),!this._startupWidgets))throw Error(this.declaredClass+
": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");},startup:function(){d.forEach(this._startupWidgets,function(d){d&&(!d._started&&d.startup)&&d.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"klt/core/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(d,l,k){return k("klt.core.destroyable",null,{destroy:function(d){this._destroyed=
!0},own:function(){d.forEach(arguments,function(d){var h="destroyRecursive"in d?"destroyRecursive":"destroy"in d?"destroy":"remove";d._odh=l.before(this,"destroy",function(c){d._odh.remove();d[h](c)});l.after(d,h,function(){d._odh.remove()})},this);return arguments}})})},"jdash/provider/Manager":function(){define(["dojo/_base/declare","dojo/_base/lang","./_ProviderMixin","require"],function(d,l,k,m){return function(d){var c={},e={getInstance:function(d,b){if(!d&&e.current)return e.current;var a;if(!(a=
d)){a=null;for(var h in c){a=h;break}}h=this.get(a);h.instance||(h.instance=new h.type(b));return h.instance},register:function(d,b,a,h){if(c[d])throw Error("Provider is already registered");c[d]={type:b};e.current?a&&(e.current=e.getInstance(d,h)):e.current=e.getInstance(d,h)},unRegister:function(e){if(!c[e])throw Error("Provider is not registered");delete c[e]},get:function(e){if(!e)return c;if(!c[e])throw Error("Provider is not registered");return c[e]},list:function(){return this.get()}};l.setObject("jdash.ProviderManager",
e);return e}(window)})},"jdash/layout/MDropManager":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has dojo/_base/window dojo/_base/array dojo/_base/sniff dojo/_base/lang dojo/query dojo/topic dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/dom-attr dojo/NodeList-traverse ../ui/registry ../ui/_WidgetBase jdash/layout/MMoveable ../model/DashletPositionModel ../core/DesignMode ./VerticalDropMode ./DropIndicator".split(" "),function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q,w,u,
y,v,t,x){l=l("jdash.layout.MDropManager",null,{autoRefresh:!0,areaClass:"dndArea",dragHandleClass:"dragHandle",constructor:function(){this._dropMode=new t;this._dropIndicator=new x;this._areaList=[];var a=this;this.resizeHandler=k(d.global,"resize",function(){a._dropMode.updateAreas(a._areaList)});this._oldIndexArea=this._currentIndexArea=this._oldDropIndex=this._currentDropIndex=this._sourceIndexArea=this._sourceDropIndex=-1},init:function(){this.registerByClass()},registerByNode:function(b,e){var d=
this._getIndexArea(b);if(b&&-1==d){var d=(d=b.getAttribute("accept"))?d.split(/\s*,\s*/):["text"],f={node:b,items:[],coords:{},margin:null,accept:d,initItems:!1};c.forEach(this._getChildren(b),function(a){this._setMarginArea(f,a);f.items.push(this._addMoveableItem(a))},this);this._areaList=this._dropMode.addArea(this._areaList,f);e||this._dropMode.updateAreas(this._areaList);a.publish("/dojox/mdnd/manager/register",b)}},registerByClass:function(){b("."+this.areaClass).forEach(function(a){this.registerByNode(a,
!0)},this);this._dropMode.updateAreas(this._areaList)},unregister:function(a){a=this._getIndexArea(a);return-1!=a?(c.forEach(this._areaList[a].items,function(a){this._deleteMoveableItem(a)},this),this._areaList.splice(a,1),this._dropMode.updateAreas(this._areaList),!0):!1},_getWidgetByDragItem:function(a,b){for(var c=b||this.context.getAllChildrenOnBody(),e=0;e<c.length;e++)if(c[e].domNode==a)return c[e]},publishDragStarted:function(){null!=this._dndStartingParams&&this.context._publishForLayout("dnd/dragStarted",
{pane:this._dndStartingParams.widget,position:this._dndStartingParams.position}).then(function(){},function(){})},getHoverNodeInfo:function(a,b){var c=null,e=this.context.getAllChildrenOnBody(),e=this._getWidgetByDragItem(this._dragItem.item.node,e),d=this.context.getLayoutInfo(this._areaList[this._currentIndexArea].node);if(null!=d){this.context.getLayoutInfo(this._areaList[this._sourceIndexArea].node);c=this.calculateCurrentDropIndex(a,b);-1==c&&(c=0==this._areaList[this._currentIndexArea].node.children.length?
0:this._areaList[this._currentIndexArea].node.children.length-1);var f=new y;f.set("section",this.context.getSectionByZoneId(d.zone));f.set("zone",d.zone);f.set("pos",c);c={widget:e,position:f,target:d}}return c},validateDragStaring:function(a,e){if(this.context.getMaximizeRoot()!=a.parentNode){var d=!1,f=b(e.target).parents();c.some(f,function(a){if(n.contains(a,"d-dashlet-commands"))return d=!0,!1});if(!d){f=this._getWidgetByDragItem(a,this.context.getChildrenByNode(a.parentNode));if(!f.get("enableContentDrag")){var g=
e.target==f.context.pane.getHeaderNode();b("*",f.context.pane.getHeaderNode()).forEach(function(a,b,c){e.target==a&&(g=!0)});if(!g)return}if(f.allowMove()){var h=this.context.getLayoutInfo(a.parentNode);h||(h=a.sourceNode);var k=new y,l=this.context._getDomPosition(a);k.set("section",h.section);k.set("zone",h.zone);k.set("pos",l);this._dndStartingParams={position:k,widget:f};return this.context._publishForLayout("dnd/dragStarting",{pane:f,position:k}).then(function(){return!0},function(){return!1})}}}},
_addMoveableItem:function(a){var b=this;a.setAttribute("tabIndex","0");var c=new u(a,{skip:!0});c.manager=this;n.add(a,"dragHandle");var e=a.getAttribute("dndType"),e={item:c,type:e?e.split(/\s*,\s*/):["text"],handlers:[k(c,"MoveStart",function(a,c){var e=f.getContentBox(a.node),d=f.position(a.node);if(m("ie"))b.onDragStart(a.node,{x:d.x+document.body.scrollLeft,y:d.y+document.documentElement.scrollTop},{w:e.w,h:e.h});else b.onDragStart(a.node,{x:d.x+window.scrollX,y:d.y+window.scrollY},{w:e.w,h:e.h})})]};
if(q&&q.byNode){var d=q.byNode(a);d&&(e.type=d.dndType?d.dndType.split(/\s*,\s*/):["text"],e.handlers.push(k(d,"uninitialize",function(){this.removeDragItem(a.parentNode,c.node)})))}return e},_deleteMoveableItem:function(a){c.forEach(a.handlers,function(a){a.remove()});var b=a.item.node,e=this._searchDragHandle(b);n.remove(e||b,"dragHandle");a.item.destroy()},_getIndexArea:function(a){if(a)for(var b=0;b<this._areaList.length;b++)if(this._areaList[b].node===a)return b;return-1},_searchDragHandle:function(a){if(a){var e=
this.dragHandleClass.split(" "),d=e.length,f="";c.forEach(e,function(a,b){f+="."+a;b!=d-1&&(f+=", ")});return b(f,a)[0]}},addDragItem:function(a,b,c,e){var d=!0;e||(d=a&&b&&(null===b.parentNode||b.parentNode&&1!==b.parentNode.nodeType));if(d&&(e=this._getIndexArea(a),-1!==e)){var d=this._addMoveableItem(b),f=this._areaList[e].items;if(0<=c&&c<f.length){var g=f.slice(0,c),h=f.slice(c,f.length);g[g.length]=d;this._areaList[e].items=g.concat(h);a.insertBefore(b,f[c].item.node)}else this._areaList[e].items.push(d),
b.AvatarNode?(p.place(b,b.copiedNode,"before"),p.destroy(b.copiedNode),delete b.copiedNode):a.appendChild(b);this._setMarginArea(this._areaList[e],b);this._areaList[e].initItems=!1;return!0}return!1},removeDragItem:function(a,b,c){var e=this._getIndexArea(a);if(a&&-1!==e)for(var e=this._areaList[e].items,d=0;d<e.length;d++)if(e[d].item.node===b)return this._deleteMoveableItem(e[d]),e.splice(d,1),c?b:a.removeChild(b);return null},calculateCurrentDropIndex:function(a,b){this.__oldDropIndex=this._currentDropIndex;
var c=this._areaList[this._currentIndexArea];c.initItems||this._dropMode.initItems(c);this.__currentDropIndex=this._dropMode.getDropIndex(c,a);if(this.__currentIndexArea===this.__oldIndexArea&&this.__oldDropIndex===this.__currentDropIndex)return this.__currentDropIndex},addMoveableItem:function(a){var b=a.parentNode,c=this._getIndexArea(b);if(-1!==c){for(var e=0,d=0;d<b.children.length;d++)if(b.children[d]==a){e=d;break}var d=this._addMoveableItem(a),f=this._areaList[c].items;0<=e&&e<b.children.length?
(b=f.slice(0,e),e=f.slice(e,f.length),b[b.length]=d,this._areaList[c].items=b.concat(e)):this._areaList[c].items.push(d);this._setMarginArea(this._areaList[c],a);this._areaList[c].initItems=!1;return!0}return!1},removeMoveableItem:function(a){var b=this._getIndexArea(a.parentNode);if(-1!==b)for(var b=this._areaList[b].items,c=0;c<b.length;c++)b[c].item.node===a&&(this._deleteMoveableItem(b[c]),b.splice(c,1))},_getChildren:function(a){var b=[];c.forEach(a.childNodes,function(a){if(1==a.nodeType)if(q&&
q.byNode){var c=q.byNode(a);c?c.dragRestriction||b.push(a):b.push(a)}else b.push(a)});return b},_setMarginArea:function(a,b){a&&(null===a.margin&&b)&&(a.margin=f.getMarginExtents(b))},findCurrentIndexArea:function(a,b){this._oldIndexArea=this._currentIndexArea;this._currentIndexArea=this._dropMode.getTargetArea(this._areaList,a,this._currentIndexArea);if(this._currentIndexArea!=this._oldIndexArea){if(-1!=this._oldIndexArea)this.onDragExit(a,b);if(-1!=this._currentIndexArea)this.onDragEnter(a,b)}return this._currentIndexArea},
_isAccepted:function(a,b){this._accept=!1;for(var c=0;c<b.length;++c)for(var e=0;e<a.length;++e)if(a[e]==b[c]){this._accept=!0;break}},onDragStart:function(b,c,e){if(b.AvatarNode){var h=g.clone(b);b.copiedNode=h;p.place(h,b,"after")}this.autoRefresh&&this._dropMode.updateAreas(this._areaList);var l=this,h=m("webkit")?d.body():d.body().parentNode;this._cover||(this._cover=p.create("div",{"class":"dndCover"}),this._cover2=g.clone(this._cover),n.add(this._cover2,"dndCover2"));this._cover.style.height=
this._cover2.style.height=h.scrollHeight+"px";n.add(this._cover,this.context.dashboardView.themeInfo.themeClasses);d.body().appendChild(this._cover);d.body().appendChild(this._cover2);this._dragStartHandler=k(b.ownerDocument,"dragstart",d.stopEvent);h=b.sourceNode&&n.contains(b.sourceNode,this.areaClass)?b.sourceNode:b.parentNode;this._sourceIndexArea=this._lastValidIndexArea=this._currentIndexArea=this._getIndexArea(h);for(var h=this._areaList[this._sourceIndexArea],M=h.items,s=0;s<M.length;s++)if(M[s]&&
M[s].item.node==b){this._dragItem=M[s];this._dragItem.handlers.push(k(this._dragItem.item,"Move",function(a,b,c){f.getMarginBox(a.node);l.onDrag(a.node,{x:b.l,y:b.t},e,{x:c.clientX,y:c.clientY})}));this._dragItem.handlers.push(k(this._dragItem.item,"MoveStop",function(a){l.onDrop(a.node)}));M.splice(s,1);this._currentDropIndex=this._sourceDropIndex=s;break}M=null;this._sourceDropIndex!==h.items.length&&(M=h.items[this._sourceDropIndex].item.node);7<m("ie")&&(this._eventsIE7=[k(this._cover,"mouseover",
d.stopEvent),k(this._cover,"mouseout",d.stopEvent),k(this._cover,"mouseenter",d.stopEvent),k(this._cover,"mouseleave",d.stopEvent)]);s=b.style;s.left=c.x+"px";s.top=c.y+"px";if("relative"==s.position||""==s.position)s.position="absolute";b.style.width=e.w+"px";b.sourceNode=b.parentNode;this._cover.appendChild(b);!0!=h.node.isModulesContainer&&this._dropIndicator.place(h.node,M,e);n.add(b,"dragNode");this._accept=!0;a.publish("/dojox/mdnd/drag/start",b,h,this._sourceDropIndex);!b.AvatarNode&&this.context.get("dragOpacity")&&
(b.style.opacity=this.context.get("dragOpacity"));b.AvatarNode&&(this._dropIndicator.node.style.display="none")},onDragEnter:function(a,b){this._currentIndexArea===this._sourceIndexArea?this._accept=!0:"undefined"!=typeof this._currentIndexArea&&this._isAccepted(this._dragItem.type,this._areaList[this._currentIndexArea].accept)},onDragExit:function(a,b){this._accept=!1},onDrag:function(a,b,c,e){var d=this._dropMode.getDragPoint(b,c,e);m("ie")?(d.x+=document.body.scrollLeft,d.y+=document.documentElement.scrollTop):
(d.x+=window.scrollX,d.y+=window.scrollY);this.findCurrentIndexArea(d,c);var f=this._areaList[this._currentIndexArea];if(f&&n.contains(f.node,this.areaClass))if(a.AvatarNode)this.context.getDashboard()._hasDesignMode(v.dashboard)&&this.placeDropIndicator(d,c);else if(-1!==this._currentIndexArea&&this._accept){var g=this,f=this.context.getLayoutInfo(this._areaList[this._currentIndexArea].node),h=this._getWidgetByDragItem(a,this.context.getChildrenByNode(a.parentNode));null!=f?(b=new y,a=this.context._getDomPosition(a),
b.set("section",f.section),b.set("zone",f.zone),b.set("pos",a),this.context._publishForLayout("dnd/dropping",{pane:h,position:this._dndStartingParams.position,newPosition:b}).then(function(){g.placeDropIndicator(d,c)},function(){})):g._onDrag(a,b,c,e)}},_onDrag:function(a,b,c,e){a=this._dropMode.getDragPoint(b,c,e);m("ie")?(a.x+=document.body.scrollLeft,a.y+=document.documentElement.scrollTop):(a.x+=window.scrollX,a.y+=window.scrollY);this.findCurrentIndexArea(a,c);-1!==this._currentIndexArea&&this._accept&&
this.placeDropIndicator(a,c)},placeDropIndicator:function(a,b){this._oldDropIndex=this._currentDropIndex;var c=this._areaList[this._currentIndexArea];if(!c)return this._currentDropIndex;c.initItems||this._dropMode.initItems(c);this._currentDropIndex=this._dropMode.getDropIndex(c,a);this._currentIndexArea===this._oldIndexArea&&this._oldDropIndex===this._currentDropIndex||this._placeDropIndicator(b);this._dropIndicator.node.style.display=c.node.hideDropIndicator?"none":"block";return this._currentDropIndex},
_placeDropIndicator:function(a){var b=this._areaList[this._lastValidIndexArea],c=this._areaList[this._currentIndexArea];c.node.isModulesContainer||(this._dropMode.refreshItems(b,this._oldDropIndex,a,!1),b=null,-1!=this._currentDropIndex&&(b=c.items[this._currentDropIndex].item.node),this._dropIndicator.place(c.node,b),this._lastValidIndexArea=this._currentIndexArea,this._dropMode.refreshItems(c,this._currentDropIndex,a,!0))},onDropCancel:function(){if(!this._accept){var a=this._getIndexArea(this._dropIndicator.node.parentNode);
this._currentIndexArea=-1!=a?a:0}},onDrop:function(a){this._onDrop(a);a.sourceNode=a.parentNode;s.set(a,"style",a.initialStyle?a.initialStyle:"");if(!a.AvatarNode){var b=this._getWidgetByDragItem(a,this.context.getChildrenByNode(a.parentNode)),c=this.context._getDomPosition(a);a=this.context.getLayoutInfo(a.parentNode);var e=new y;e.set("section",this.context.getSectionByZoneId(a.zone));e.set("zone",a.zone);e.set("pos",c);this.context._publishForLayout("dnd/dropped",{pane:b,oldPosition:this._dndStartingParams.position,
newPosition:e}).then(function(){},function(){})}},_onDrop:function(b){this.onDropCancel();var e=this._areaList[this._currentIndexArea];n.remove(b,"dragNode");var g=f.position(this.context.dashboardView.domNode),h=f.position(b);b.droppedPosition={l:h.x-g.x,t:h.y-g.y};g=b.style;g.position="relative";g.left="0";g.top="0";g.width="auto";e.node==this._dropIndicator.node.parentNode?e.node.insertBefore(b,this._dropIndicator.node):(e.node.appendChild(b),this._currentDropIndex=e.items.length);g=this._currentDropIndex;
-1==g&&(g=e.items.length);var k=e.items,h=k.slice(0,g),k=k.slice(g,k.length);h[h.length]=this._dragItem;e.items=h.concat(k);this._setMarginArea(e,b);c.forEach(this._areaList,function(a){a.initItems=!1});this._dragItem.handlers.pop().remove();this._dragItem.handlers.pop().remove();this._resetAfterDrop();this._cover&&(d.body().removeChild(this._cover),d.body().removeChild(this._cover2));b.style.width="";a.publish("/dojox/mdnd/drop",b,e,g)},_resetAfterDrop:function(){this._accept=!1;this._dragItem=null;
this._sourceDropIndex=this._sourceIndexArea=this._oldDropIndex=this._currentIndexArea=this._currentDropIndex=-1;this._dropIndicator.remove();this._dragStartHandler&&this._dragStartHandler.remove();7<m("ie")&&c.forEach(this._eventsIE7,function(a){a.remove()})},destroy:function(){for(;0<this._areaList.length;)if(!this.unregister(this._areaList[0].node))throw Error("Error while destroying AreaManager");this.resizeHandler.remove();this._dropIndicator.destroy();this._dropMode.destroy();jdash.layout.autoScroll&&
jdash.layout.autoScroll.destroy();this.refreshListener&&this.refreshListener.remove();this._cover&&(p.destroy(this._cover),p.destroy(this._cover2),delete this._cover,delete this._cover2)}});w&&g.extend(w,{dndType:"text"});jdash.layout._mDropManager=null;jdash.layout.mDropManager=function(){jdash.layout._mDropManager||(jdash.layout._mDropManager=new jdash.layout.MDropManager);return jdash.layout._mDropManager};return l})},"klt/core/sync":function(){define(["dojo/_base/lang","dojo/_base/config","dojo/_base/array",
"dojo/has"],function(d,l,k,m){function h(b,a,c,f,h,l,r,q,w){if(!e.equals(q,r)&&!("*"==f&&0>k.indexOf(c.get("properties")||[l],l)||"*"==f&&l in(w||{}))){f="*"==f?l:f;m("mvc-bindings-log-api")&&g(c,f,h,l);try{q=b?b(q,a):q}catch(u){m("mvc-bindings-log-api");return}m("mvc-bindings-log-api");d.isFunction(c.set)?c.set(f,q):c[f]=q}}var c=d.getObject("klt.core",!0);m.add("mvc-bindings-log-api",(l.mvc||{}).debugBindings);var e;if(m("mvc-bindings-log-api"))var g=function(b,a,c,e){return[[c._setIdAttr||!c.declaredClass?
c:c.declaredClass,e].join(":"),[b._setIdAttr||!b.declaredClass?b:b.declaredClass,a].join(":")]};l={from:1,to:2,both:3};e=function(b,a,e,f,l){var s=(l||{}).converter,r,q,w;s&&(r={source:b,target:e},q=s.format&&d.hitch(r,s.format),w=s.parse&&d.hitch(r,s.parse));var u=[],y=[],v=d.mixin({},b.constraints,e.constraints),s=(l||{}).bindDirection||c.both;m("mvc-bindings-log-api")&&g(b,a,e,f);if("*"==f){if("*"!=a)throw Error("Unmatched wildcard is specified between source and target.");l=e.get("properties");
if(!l){l=[];for(var t in e)e.hasOwnProperty(t)&&"_watchCallbacks"!=t&&l.push(t)}y=e.get("excludes")}else l=[a];s&c.from&&(d.isFunction(b.set)&&d.isFunction(b.watch)?u.push(b.watch.apply(b,("*"!=a?[a]:[]).concat([function(a,c,d){h(q,v,e,f,b,a,c,d,y)}]))):m("mvc-bindings-log-api"),k.forEach(l,function(a){if("*"!=f||!(a in(y||{}))){var c=d.isFunction(b.get)?b.get(a):b[a];h(q,v,e,"*"==f?a:f,b,a,void 0,c)}}));s&c.to&&(s&c.from||k.forEach(l,function(a){if("*"!=f||!(a in(y||{}))){var c=d.isFunction(e.get)?
e.get(f):e[f];h(w,v,b,a,e,"*"==f?a:f,void 0,c)}}),d.isFunction(e.set)&&d.isFunction(e.watch)?u.push(e.watch.apply(e,("*"!=f?[f]:[]).concat([function(c,d,f){h(w,v,b,a,e,c,d,f,y)}]))):m("mvc-bindings-log-api"));m("mvc-bindings-log-api");t={};t.unwatch=t.remove=function(){for(var a=null;a=u.pop();)a.unwatch(),m("mvc-bindings-log-api")};return t};d.mixin(c,l);return d.setObject("klt.core.sync",d.mixin(e,{equals:function(b,a){return b===a||"number"==typeof b&&isNaN(b)&&"number"==typeof a&&isNaN(a)||d.isFunction((b||
{}).getTime)&&d.isFunction((a||{}).getTime)&&b.getTime()==a.getTime()||(d.isFunction((b||{}).equals)?b.equals(a):d.isFunction((a||{}).equals)?a.equals(b):!1)}},l))})},"jdash/layout/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(d,l,k){return l("jdash._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(d,h){var c=this.containerNode;if(0<h){for(c=c.firstChild;0<
h;)1==c.nodeType&&h--,c=c.nextSibling;c?h="before":(c=this.containerNode,h="last")}k.place(d.domNode,c,h);this._started&&!d._started&&d.startup()},removeChild:function(d){"number"==typeof d&&(d=this.getChildren()[d]);d&&(d=d.domNode)&&d.parentNode&&d.parentNode.removeChild(d)},hasChildren:function(){return 0<this.getChildren().length},getIndexOfChild:function(k){return d.indexOf(this.getChildren(),k)}})})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(d){return d.cache})},"jdash/ui/DashletEditorWindow":function(){define("dojo/i18n!../nls/language dojo/_base/declare dojo/_base/lang ./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/query dojo/dom-construct dojo/dom-geometry dojo/dom-style klt/core/_DynamicViewHolderMixin dojo/text!./templates/DashletEditorWindow.htm jdash/ui/Button klt/core/Deferred klt/core/when ./_ThemeMixin ../layout/_Container dojo/window klt/core/WfPatch ./DashletEditView ./Viewport dojo/_base/fx".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q,w,u,y,v,t,x){return l([v],{_setCaptionAttr:function(a){this._set("caption",a);this.windowtitle.innerHTML=a},buildRendering:function(){this.inherited(arguments);var a=this;this.own(this.viewParams.context.dashletContext.model.watch("title",function(b,c,e){a.set("caption",e)}))},postCreate:function(){this.overlay=g.create("div",{"class":"d-overlay"});g.place(this.overlay,window.document.body);var a=this;this.own(t.on("resize",function(){a._ready()}));this.inherited(arguments)},
_getTemplateString:function(){return y.patch(f)},destroyRecursive:function(){g.destroy(this.overlay);this.inherited(arguments)},_ready:function(){var c=this.domNode,e=u.getBox(this.ownerDocument),d=this._relativePosition,f=d?null:b.position(c);a.set(c,{left:Math.floor(e.l+(d?d.x:(e.w-f.w)/2))+"px"});this.inherited(arguments)}})})},"jdash/model/DashletModuleModel":function(){define("dojo/_base/declare dojo/_base/lang ./../ui/_DomMixin dojo/json ./ModelBase ./ConfigModel ./MetadataModel ./AuthorizationModel".split(" "),
function(d,l,k,m,h,c,e,g){d=d("jdash.model.DashletModuleModel",[h,k],{postscript:function(b){b=b||{};b.config=this._createRegularConfig(b.config,b._serialized);b.paneConfig=this._createRegularConfig(b.paneConfig,b._serialized);b.dashletConfig=this._createRegularConfig(b.dashletConfig,b._serialized);b.authorization=b.authorization&&!(b.authorization instanceof g)?new g({data:b.authorization}):new g;b.metaData&&!(b.metaData instanceof e)&&(b.metaData=new e(b.metaData));this.inherited(arguments,[b])},
_createRegularConfig:function(b,a){return b=new c(a?{data:b}:b)},serialized:function(){var b=this.inherited(arguments);l.mixin(b,{id:this.id,path:this.path,title:this.title,config:this.config.serialized(),paneConfig:this.paneConfig.serialized(),dashletConfig:this.dashletConfig.serialized(),metaData:this.metaData?this.metaData.serialized():null,authorization:this.authorization?this.authorization.serialized():null});0==b.config.length&&delete b.config;0==b.paneConfig.length&&delete b.paneConfig;0==
b.dashletConfig.length&&delete b.dashletConfig;return b}});l.mixin(d,{propertyConfig:{none:0,replace:1}});return d})},"jdash/layout/_Layout":function(){define("require dojo/_base/declare dojo/_base/lang ../ui/_WidgetBase ../ui/_TemplatedMixin ./_LayoutWidget dojo/query dojo/_base/array dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/dom-class ../ui/registry ../model/DashletPositionModel dojo/json dojo/Deferred dojo/on dojo/topic ./Section ./Zone klt/core/Dictionary klt/core/messageBus jdash/model/DashletModel dojo/when dojo/dom-geometry jdash/ui/ThemeManager".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q,w,u,y,v,t,x,A,E,F,R){var L=l("jdash._Layout",[c],{sectionTag:"div",zoneTag:"div",publish:function(a,b){return x.publish(a,b)},_publishForLayout:function(a,b){return this.publish("jdash/layout/"+a,{sender:this,args:b||{}})},subscribeToLayout:function(a,b){return this.subscribe("jdash/layout/"+a,b)},setSticky:function(a){},constructor:function(){},removeDashlet:function(b){var c=this.getDashboard().provider.deleteDashlet(b.context.id),e=this;return E(c,function(){a.destroy(b.domNode);
e._adjustSectionHeight()})},maximizeDashlet:function(a){var b=this.getLayoutRoot(),b=F.getMarginBox(b);n.set(a.containerNode,"height",b.h+"px");n.set(a.domNode,"width",b.w+"px");n.set(a.domNode,"zIndex",999999)},minimizeDashlet:function(a){n.set(a.containerNode,"height","auto");n.set(a.domNode,"width","auto");n.set(a.domNode,"zIndex","")},getLayoutRoot:function(){return this.containerNode},getMaximizeRoot:function(){return this.maximizeNode},getDashboard:function(){return this.dashboardView},getSectionByZoneId:function(a){for(var b=
this.sections.getIterator();b.get();)for(var c=b.element.value.zones.getIterator();c.get();)if(c.element.key==a)return b.element.key;return null},getLayoutInfo:function(a){for(var b=this.sections.getIterator();b.get();)for(var c=b.element.value.zones.getIterator();c.get();)if(c.element.value.domNode==a)return{section:b.element.key,zone:c.element.key};return null},_getChildNewPredefinedPosition:function(a,b,c){var e=Object.keys(a.sections),d=b.context.model.position,f=this.sections.getIterator(),g=
0;b=0;for(var h;f.get();){var k=f.element.value.zones.getIterator();if(f.element.key==d.section)for(;k.get();){if(k.element.key==d.zone){h=!0;break}b++}if(h)break;g++}e=e.length>g?e[g]:e[e.length-1];a=a.sections[e];a=Object.keys(a.zones);a=a.length>b?a[b]:a[a.length-1];return new s({section:e,zone:a,pos:c[e]&&c[e][a]&&c[e][a].count?c[e][a].count:0})},getChildrenByNode:function(a){return p.findWidgets(a)},getChildren:function(a,b){var c=this.containerNode;a&&(c=b?this.sections.item(a).zones.item(b).domNode:
this.sections.item(a).domNode);return this.getChildrenByNode(c)},getAllChildrenOnBody:function(){return this.getChildrenByNode(window.document.body)},getDefaultLayout:function(){},_createSectionDom:function(b){b=this.getLayoutRoot();return a.create(this.sectionTag,{},b)},_createZoneDom:function(b){var c=a.create(this.zoneTag,{},b._parentSection.domNode);c.zoneId=b.zoneId;return c},_applySectionProps:function(a){},_applyZoneProps:function(a){},getElementsByClassName:function(a,b){for(var c=RegExp("\\b"+
a+"\\b"),e=document.getElementsByTagName(b),d=0,f=e.length;d<f;d++)if(c.test(e[d].className))return e[d]},_createDashletModel:function(a){return a.module?new A({module:a.module}):new A({moduleId:a.moduleId})},_renderZone:function(a){a.set("domNode",this._createZoneDom(a));this._applyZoneProps(a)},_renderSection:function(a){a.set("domNode",this._createSectionDom(a));this._applySectionProps(a);for(a=a.zones.getIterator();a.get();)a.element.value.zoneId=a.element.key,this._renderZone(a.element.value)},
initilizeModuleNodes:function(a){},registerModuleNode:function(a){},unRegisterModuleNode:function(a){},postscript:function(a){var b=a.dashboardView;delete a.dashboardView;var c=k.clone(a||{});c.sections=this._createInitialLayout(c.sections);c.dashboardView=b;this.inherited(arguments,[c])},_generateSectionId:function(){for(var a=0;this.sections.contains("s"+a);)a++;return"s"+a},_generateZoneId:function(a){for(var b=0;a.zones.contains("z"+b);)b++;return"z"+b},newSectionTemplate:function(){return 0<
this.sections.count?this.sections.firstValue().clone():{Key:this._generateSectionId(),Value:{zones:[{Key:"default",Value:{}}]}}},newZoneTemplate:function(a){return(a=a||this.sections.firstValue())?a.zones.firstValue().clone():{Key:"default",Value:{}}},addSection:function(a,b){null==a&&(a=this._generateSectionId());if(this.sections.contains(a))throw Error(a+" section already exists");b||(b=this.newSectionTemplate());var c=this._createSection(b);this.sections.add(a,c);this._renderSection(c);this.getDashboard().model.set("layout",
this.serialized());return{id:a,section:c}},addZone:function(a,b,c){null==b&&(b=this._generateZoneId(a));c||(c=this.newZoneTemplate(a));for(var e=this.sections.getIterator(),d;e.get();)if(e.element.value==a){d=e.element.value.addZone(b,c);break}if(d)return this.getDashboard().model.set("layout",this.serialized()),this._renderZone(d),{id:b,zone:d}},removeZone:function(b){for(var c=this,e=this.sections.getIterator(),d=null,f=0,h=[];e.get();)if(zit=e.element.value.zones.getIterator(),k.isString(b)&&(b=
e.element.value.zones.item(b)),b){for(;zit.get();){if(zit.element.value==b){d=e.element;break}f++}if(d)break;f=0}if(!(2>e.element.value.zones.count)){var l=d.value.zones.getKeyList(),e=l[f];l.splice(f,1);var f=l.length-1,m=this.getChildrenByNode(b.domNode);g.forEach(m,function(b){c.getPositionFromChild(b);var e=new s({section:d.key,zone:l[f],pos:m.length});h.push({id:b.context.id,position:c.serializedDashletPos(e)});c.updateChildPosition(b,e);a.place(b.domNode,d.value.zones.item(l[f]).domNode,m.length)});
0<h.length&&this.getDashboard().provider.updateDashletPositions(h);a.destroy(b.domNode);d.value.zones.remove(e);this.getDashboard().model.layout=this.serialized();this.getDashboard().save();this._adjustSectionHeight()}},removeSection:function(b){k.isString(b)&&(b=this.sections.item(b));if(b){var c=this,e=this.sections.getKeyList(),d=[];if(1<e.length){for(var f=this.sections.getIterator(),h=0,l=[];f.get();){if(f.element.value==b){for(zit=f.element.value.zones.getIterator();zit.get();)l=l.concat(this.getChildrenByNode(zit.element.value.domNode));
break}h++}var m=this.sections.item(e[h]).zones.getKeyList(),n=e[h-1]?e[h-1]:e[h+1],p=this.sections.item(n),r=p.zones.getKeyList(),t;g.forEach(l,function(b){var e=c.getPositionFromChild(b),e=g.indexOf(m,e.zone),f;f=r.length>e?e:r.length-1;t=p.zones.item(r[f]);e=c.getChildrenByNode(t.domNode).length;f=new s({section:n,zone:r[f],pos:e});d.push({id:b.context.id,position:c.serializedDashletPos(f)});c.updateChildPosition(b,f);a.place(b.domNode,t.domNode,e)});0<d.length&&this.getDashboard().provider.updateDashletPositions(d);
a.destroy(b.domNode);this.sections.remove(e[h]);this.getDashboard().model.layout=this.serialized();this.getDashboard().save();this._adjustSectionHeight()}}},getPredefinedLayouts:function(){L.prototype.getPredefinedLayouts.apply(this)},_createSection:function(a){var b={_parentLayout:this};k.mixin(b,a);return new y(b)},_sortInitialDashlets:function(a){var b=this;return a.sort(function(a,c){return parseInt(b.deSerializedDashletPos(a.position).pos)-parseInt(b.deSerializedDashletPos(c.position).pos)})},
_createInitialLayout:function(a){a||(a=this.getDefaultLayout());var b=new t;b.load(a,this._createSection,this);return b},serializedDashletPos:function(a){return a.serialized()},deSerializedDashletPos:function(a){return a},destroyRecursive:function(){for(var b=this.sections.getIterator();b.get();){for(var c=b.element.value.zones.getIterator();c.get();)a.destroy(c.element.value.domNode);a.destroy(b.element.value.domNode)}a.destroy(this.domNode);this.inherited(arguments)},getPositionInfo:function(a){k.isString(a)&&
(a=this.deSerializedDashletPos(a));"undefined"==typeof a?a=new s:a instanceof s||(a=new s(a));"undefined"==typeof a.get("section")&&a.set("section",this.sections.firstKey());if("undefined"==typeof a.get("zone")){var b=this.sections.item(a.get("section"));a.set("zone",b.zones.firstKey())}(b=this.sections.item(a.get("section")))||(b=this.sections.firstValue());var c=b.zones.item(a.get("zone"));c||(c=b.zones.firstKey());return{zone:c,dashPos:a}},fixPositions:function(a){},getType:function(){},serialized:function(){var a=
{};k.mixin(a,{type:this.getType(),sections:this.sections.serialized()});return a},_adjustSectionHeight:function(){},_adjustZoneWidthHeight:function(a){},getPositionFromChild:function(a){return a.context.model.get("position")},updateChildPosition:function(a,b){return a.context.model.position.assignNew(b)},_positionChild:function(a,b,c){},_arrangePositions:function(a,b,c){var e=[];g.forEach(b,function(b){if(a!=b){var c=this.getPositionFromChild(b);c.set("pos",c.get("pos")+1);e.push({id:b.context.id,
position:this.serializedDashletPos(c)})}},this);return e},_incrementChildPosOnDrop:function(a,b,c,e){var d=[];if(b.section==c.section&&b.zone==c.zone){if(b.pos>c.pos)for(var f=0;f<a.length;f++){var g=this.getPositionFromChild(a[f]);a[f]!=e&&(c.pos<=g.pos&&b.pos>g.pos)&&(g.set("pos",g.pos+1),d.push({id:a[f].context.id,position:this.serializedDashletPos(g)}))}}else for(f=0;f<a.length;f++)g=this.getPositionFromChild(a[f]),a[f]!=e&&c.pos<=g.pos&&(g.set("pos",g.pos+1),d.push({id:a[f].context.id,position:this.serializedDashletPos(g)}));
return d},_decrementChildPosOnDrop:function(a,b,c,e){var d=[];if(c&&b.section==c.section&&b.zone==c.zone){if(b.pos<c.pos)for(var f=0;f<a.length;f++){var g=this.getPositionFromChild(a[f]);a[f]!=e&&(c.pos>=g.pos&&b.pos<g.pos)&&(g.set("pos",g.pos-1),d.push({id:a[f].context.id,position:this.serializedDashletPos(g)}))}}else for(f=0;f<a.length;f++)g=this.getPositionFromChild(a[f]),a[f]!=e&&b.pos<g.pos&&(g.set("pos",g.pos-1),d.push({id:a[f].context.id,position:this.serializedDashletPos(g)}));return d},addChild:function(a,
b,c){try{jdash._Layout.superclass.addChild.call(this,a),a._addedToLayout=this}catch(e){throw e;}finally{var d=!1;b&&(b instanceof s||(b=new s(b)),this.updateChildPosition(a,b),d=!0);this._inited?this._positionChild(a,c,d):alert("Layout is not inited");this._adjustSectionHeight()}return null},_layoutWidgets:function(a){g.forEach(a,function(a){this._positionChild(a)},this)},render:function(){this.renderSections()},renderSections:function(){for(var a=this.sections.getIterator();a.get();)this._renderSection(a.element.value)},
buildRendering:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.render()},clone:function(){return k.clone(this.serialized())},startup:function(){this._inited=!0;var a=this.getChildren();this._layoutWidgets(a);this.inherited(arguments);0==a.length&&this._adjustSectionHeight()}});L.prototype.getPredefinedLayouts=function(){var a={};k.mixin(a,{1:{sections:{section1:{zones:{zone1:{}}}}}});k.mixin(a,{2:{sections:{section1:{zones:{zone1:{title:null,style:null,cls:null,
attr:null},zone2:{title:null,style:null,cls:null,attr:null}},style:null,cls:null,attr:null}}}});k.mixin(a,{3:{sections:{section1:{zones:{zone1:{},zone2:{},zone3:{}}}}}});k.mixin(a,{4:{sections:{section1:{zones:{zone1:{flex:2},zone2:{}}}}}});k.mixin(a,{5:{sections:{section1:{zones:{zone1:{},zone2:{flex:2}}}}}});k.mixin(a,{6:{sections:{section1:{zones:{zone1:{},zone2:{},zone3:{},zone4:{}}}}}});k.mixin(a,{7:{sections:{section1:{zones:{zone1:{}}},section2:{zones:{zone1:{},zone2:{}}}}}});k.mixin(a,{8:{sections:{section1:{zones:{zone1:{}}},
section2:{zones:{zone1:{},zone2:{},zone3:{}}}}}});k.mixin(a,{9:{sections:{section1:{zones:{zone1:{}}},section2:{zones:{zone1:{flex:2},zone2:{}}}}}});k.mixin(a,{10:{sections:{section1:{zones:{zone1:{}}},section2:{zones:{zone1:{},zone2:{flex:2}}}}}});k.mixin(a,{11:{sections:{section1:{zones:{zone1:{}}},section2:{zones:{zone1:{},zone2:{},zone3:{},zone4:{}}}}}});k.mixin(a,{12:{sections:{section1:{zones:{zone1:{},zone2:{}}},section2:{zones:{zone1:{}}}}}});k.mixin(a,{13:{sections:{section1:{zones:{zone1:{},
zone2:{},zone3:{}}},section2:{zones:{zone1:{}}}}}});k.mixin(a,{14:{sections:{section1:{zones:{zone1:{flex:2},zone2:{}}},section2:{zones:{zone1:{}}}}}});k.mixin(a,{15:{sections:{section1:{zones:{zone1:{},zone2:{flex:2}}},section2:{zones:{zone1:{}}}}}});k.mixin(a,{16:{sections:{section1:{zones:{zone1:{},zone2:{},zone3:{},zone4:{}}},section2:{zones:{zone1:{}}}}}});k.mixin(a,{17:{sections:{section1:{zones:{zone1:{}}},section2:{zones:{zone1:{},zone2:{}}},section3:{zones:{zone1:{}}}}}});k.mixin(a,{18:{sections:{section1:{zones:{zone1:{}}},
section2:{zones:{zone1:{},zone2:{},zone3:{}}},section3:{zones:{zone1:{}}}}}});k.mixin(a,{19:{sections:{section1:{zones:{zone1:{}}},section2:{zones:{zone1:{flex:2},zone2:{}}},section3:{zones:{zone1:{}}}}}});k.mixin(a,{20:{sections:{section1:{zones:{zone1:{}}},section2:{zones:{zone1:{},zone2:{flex:2}}},section3:{zones:{zone1:{}}}}}});k.mixin(a,{21:{sections:{section1:{zones:{zone1:{}}},section2:{zones:{zone1:{},zone2:{},zone3:{},zone4:{}}},section3:{zones:{zone1:{}}}}}});return a};R.registerInitResource(d.toUrl("../resources/css/layout/builtin.css"));
return L})},"jdash/mvc/DashletEditor":function(){define("jdash/core/declare ./DashletBase dojo/dom-construct jdash/core/Deferred ./DashletForm jdash/core/when".split(" "),function(d,l,k,m,h,c){return d(l,{$viewUrl:function(){return this.$controller+"/editor/"+this.$dashletId},$context:function(){return this.context.dashletContext},destroyRecursive:function(){this.inherited(arguments);this.$dashletForm&&this.$dashletForm.destroyRecursive()},$bindForm:function(c){this.$dashletForm=new h(c,{url:this.$controller+
"/save/"+this.$dashletId})},validate:function(){return!0},$dashletProps:function(){var c=this.$context(),d={title:c.title,paneConfig:{disableTheming:c.paneConfig.disableTheming,themeStyleId:c.paneConfig.themeStyleId}};"undefined"!=typeof c.paneConfig.cssClass&&(d.paneConfig=d.paneConfig||{},d.paneConfig.cssClass=c.paneConfig.cssClass);return d},$submitForm:function(){if(this.$dashletForm)return this.$dashletForm.submit(this.$dashletProps());var c=this.$controller+"/save/"+this.$dashletId,d={data:{DashletProperties:this.$dashletProps()},
method:"POST"};return this.$xhr(c,d)},$handleSubmitResult:function(c){if(this.$dashletForm&&-1!=(c.args.response.getResponseHeader?c.args.response.getResponseHeader("Content-Type")||"text/html":c.args.response.getHeader("Content-Type")||"text/html").indexOf("application/json"))if(c=c.args.data&&c.args.data.config)for(var d in c)this.$context().config.set(d,c[d]);this.$context().dashletInstance.$construct("edit")},$closeEditor:function(e){var d=this;e.args.discardProvider=!0;var b=c(d.validate(e),
function(a){if(!1==a)b.reject();else return d.$submitForm()}),a=c(b,function(a){return c(d.$handleSubmitResult(a),function(){})});a&&(this.$context().setBusy(a),e.nextDefer=a);return a},$init:function(c){this.inherited(arguments);var d=this.$form;d&&this.$bindForm(d);var b=this;this.context.subscribe("jdash/dashlet/editor/validating",function(a){a.sender==this&&b.$closeEditor(a)})}})})},"jdash/layout/AbsoluteLayout":function(){define("../model/DashletPositionModel ../ui/_TemplatedMixin dojo/json ../ui/registry dojo/_base/declare dojo/_base/lang ./LayoutManager dojo/text!./templates/AbsoluteLayout.htm dojo/_base/array dojo/dom-class dojo/dom-construct dojo/query dojo/dom-attr dojo/has dojo/when dojo/dom-style ./_Layout ./StepMover ./AbsoluteMoveable dojo/on dojo/dom-geometry jdash/ui/ThemeManager require jdash/layout/MDropManager ./DropIndicator ./OverDropMode ./AutoScroll".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q,w,u,y,v,t,x,A){l=h("DDAL",[w,l],{templateString:g,sectionTag:"div",zoneTag:"div",dndEnabled:!1,stepSize:100,getDefaultLayout:function(){return{defaultSection:{zones:{defaultZone:{}}}}},defaultDimension:{w:1600,h:800},setDimension:function(a){a&&(this.defaultDimension=a);t.setMarginBox(this.containerDiv,this.defaultDimension)},_applySectionProps:function(b){a.add(b.domNode,"d-absoluteLayoutSection")},_createSectionDom:function(a){return this.inherited(arguments)},
_createZoneDom:function(a){return this.inherited(arguments)},removeDashlet:function(a){this.inherited(arguments);var c=this.getChildren(this.sections.firstKey(),this.sections.firstValue().zones.firstKey());b.forEach(c,function(b){b!=a&&q.set(b.domNode,"display","block")})},_applyZoneProps:function(b){a.add(b.domNode,"d-absoluteLayoutZone");this.inherited(arguments)},_renderZone:function(a){this.inherited(arguments)},_renderSection:function(a){this.inherited(arguments)},addSection:function(a,b){return 0==
this.sections.count?this.inherited(arguments):null},addZone:function(a,b,c){return(a=self.sections.getIterator().get())&&0==a.zones.count?this.inherited(arguments):null},getMaximizeRoot:function(){return this.containerNode},maximizeDashlet:function(a){a.moveable.stricky=!0;this.inherited(arguments);var c=this.getChildren(this.sections.firstKey(),this.sections.firstValue().zones.firstKey());b.forEach(c,function(b){b!=a&&q.set(b.domNode,"display","none")});c=t.getMarginBox(a.domNode);a.minimizedGeometry=
c;t.setMarginBox(a.domNode,{l:0,t:0})},minimizeDashlet:function(a){this.inherited(arguments);var c=this.getChildren(this.sections.firstKey(),this.sections.firstValue().zones.firstKey());b.forEach(c,function(b){b!=a&&q.set(b.domNode,"display","block")});a.minimizedGeometry&&t.setMarginBox(a.domNode,{l:a.minimizedGeometry.l,t:a.minimizedGeometry.t});a.moveable.stricky=!1},removeSection:function(a){},_registerModuleNode:function(b){var c=b.moduleNode,e;c.parentNode&&a.contains(c.parentNode,"dndArea")?
e=c.parentNode:(e=n.create("div"),n.place(e,c.parentNode),n.place(c,e));b.module?c.module=b.module:c.moduleId=b.moduleId;c.AvatarNode=!0;c.menuIndex=c.index;c.initialStyle=c.getAttribute("style");c.model=this._createDashletModel(c);p.set(e,"accept","modules");p.set(c,"dndType","modules");e.isDNDRegistered||(this.dndManager.registerByNode(e),a.add(e,"gridContainerZone"),a.add(e,"dndArea"),e.isDNDRegistered=!0)},registerModuleNode:function(a){var e=this;c.isArray(a)?b.forEach(a,function(b,c){b.lastModule=
c==a.length-1;e._registerModuleNode(b)}):this._registerModuleNode(a)},unRegisterModuleNode:function(a){this.dndManager.unregister(a)},initilizeModuleNodes:function(a){if(null!=this.dndManager)for(var b=0;b<a.length;b++)this._registerModuleNode(a[b])},getPositionInfo:function(a){var b=this.inherited(arguments),e=b.dashPos,d;(d=c.isString(a)?k.parse(a):a)&&d.pos?(d.pos.t=0>d.pos.t?0:d.pos.t,d.pos.l=0>d.pos.l?0:d.pos.l,e.set("pos",d.pos)):e.set("pos",{l:0,t:0});return b},getPredefinedLayouts:function(){var a=
[];a.push({id:1,layout:{section1:{zones:{zone1:{}}}}});return a},removeZone:function(a){},_positionChild:function(b,e,d){var f=this;e=this.getPositionFromChild(b);var g=this.getPositionInfo(e);e=g.dashPos;e=g.zone;b.dragRestriction||(g=new y(b.domNode,{mover:u}),g.context=this,g.child=b,b.moveable=g,c.extend(g.mover,{stepSize:this.stepSize}),v(g,"MoveStop",function(a){var c=m.getEnclosingWidget(a.node);if(!c.stricky){var e=t.getMarginBox(a.node),g=f.getPositionInfo().dashPos;g.set("pos",{l:e.l,t:e.t});
d||f.updateChildPosition(b,g);f.getDashboard().provider.updateDashletPositions([{id:c.context.id,position:f.serializedDashletPos(g)}]);f._publishForLayout("dnd/moved",{mover:a})}}));a.add(b.domNode,"d-absoluteDashlet");n.place(b.domNode,e.domNode,"last");e=this.getPositionFromChild(b);t.setMarginBox(b.domNode,{l:e.pos.l,t:e.pos.t})},onDndDrop:function(a,b,c){s("mozilla")&&(a.preventCollapse=!0);b=this.getDashboard();c=this.sections.firstItem();0>=a.droppedPosition.t&&(a.droppedPosition.l=0);c=new d({section:c.key,
zone:c.value.zones.firstItem().key,pos:a.droppedPosition});a.model.set("position",c);a.AvatarNode&&b.createDashlet(a.model)},destroy:function(){this.inherited(arguments)},getLayoutRoot:function(){return this.containerDiv},enableDnd:function(){this.dndEnabled=!0},disableDnd:function(){this.dndEnabled=!1},onDndCancel:function(a,b,c,e){},onDndStart:function(a,b,c,e){},postCreate:function(){this.inherited(arguments);this.dndManager=jdash.layout.mDropManager();this.dndManager.context=this;this.subscribe("/dojox/mdnd/drop",
"onDndDrop");this.subscribe("/dojox/mdnd/drag/start","onDndStart");this.subscribe("/dojox/mdnd/drag/cancel","onDndCancel")},destroyRecursive:function(){this.dndManager.destroy();this.inherited(arguments)},getType:function(){return"absolute"},_getDomPosition:function(a){return 0},startup:function(){this.inherited(arguments);this.enableDnd();this.setDimension()}});e.register("absolute",l);return l})},"jdash/ui/MenuItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/text!./templates/MenuItem.html ./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/dom-class dojo/dom-style dojo/dom-construct ./_ThemeMixin".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n){return d("jdash.ui.MenuItem",[m,h,c,a],{templateString:k,postCreate:function(){this.inherited(arguments)},onClick:function(a){}})})},"jdash/model/ModelBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/Stateful dojo/_base/array dojo/when dojo/Deferred".split(" "),function(d,l,k,m,h,c){return d("jdash.model.ModelBase",[k],{endUpdateHandler:function(c){this._endUpdateHandler=c},beginUpdateHandler:function(c){this._beginUpdateHandler=c},cancelUpdateHandler:function(c){this._cancelUpdateHandler=
c},beginUpdate:function(){this._updateCount=this._updateCount||0;this._updateCount+=1;1==this._updateCount&&this._beginUpdateHandler&&this._beginUpdateHandler.apply(this)},endUpdate:function(){this._updateCount&&(this._updateCount-=1,0==this._updateCount&&(delete this._updateCount,this._endUpdateHandler&&this._endUpdateHandler.call(this,this._updatedValues),delete this._updatedValues))},cancelUpdate:function(){delete this._updateCount;var c=this._updatedValues||{};delete this._updatedValues;this._cancelUpdateHandler&&
this._cancelUpdateHandler.apply(this,c);for(var d in c)this.set(d,c[d])},inUpdate:function(){return this._updateCount&&0<this._updateCount},set:function(e,d){if("object"===typeof e){for(var b in e)e.hasOwnProperty(b)&&this.set(b,e[b]);return this}if(l.isFunction(this.validateCallback)){b=this.validateCallback.apply(this,arguments);var a=arguments,k=this,f=new c;h(b,function(b){!1==b?f.reject(b):(k._saveUpdatedValue(e,d),f.resolve(k.inherited(a)))},function(a){f.reject(a)});return f}this._saveUpdatedValue(e,
d);return this.inherited(arguments)},has:function(c){return"undefined"!=typeof this.get(c)},_saveUpdatedValue:function(c,d){if(this.inUpdate()){var b=this.get(c);this.isSameValue(d,b)||(this._updatedValues=this._updatedValues||{},this._updatedValues[c]=l.clone(b))}},isSameValue:function(c,d){return c===d},hasUpdated:function(c,d){var b=this.get(c);return!this.isSameValue(d,b)},getDefault:function(c,d){var b=this.get(c);return"undefined"==typeof b||void 0==b?d:b},serialized:function(){return{}},setDefault:function(c,
d){if(this.has(c))return this.get(c);this.set(c,d);return d}})})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(d,l){var k={};d.setObject("dojo.date.stamp",k);k.fromISOString=function(d,h){k._isoRegExp||(k._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var c=k._isoRegExp.exec(d),e=null;if(c){c.shift();c[1]&&c[1]--;c[6]&&(c[6]*=1E3);h&&(h=new Date(h),l.forEach(l.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),
function(a){return h["get"+a]()}),function(a,b){c[b]=c[b]||a}));e=new Date(c[0]||1970,c[1]||0,c[2]||1,c[3]||0,c[4]||0,c[5]||0,c[6]||0);100>c[0]&&e.setFullYear(c[0]||1970);var g=0,b=c[7]&&c[7].charAt(0);"Z"!=b&&(g=60*(c[8]||0)+(Number(c[9])||0),"-"!=b&&(g*=-1));b&&(g-=e.getTimezoneOffset());g&&e.setTime(e.getTime()+6E4*g)}return e};k.toISOString=function(d,h){var c=function(a){return 10>a?"0"+a:a};h=h||{};var e=[],g=h.zulu?"getUTC":"get",b="";"time"!=h.selector&&(b=d[g+"FullYear"](),b=["0000".substr((b+
"").length)+b,c(d[g+"Month"]()+1),c(d[g+"Date"]())].join("-"));e.push(b);if("date"!=h.selector){b=[c(d[g+"Hours"]()),c(d[g+"Minutes"]()),c(d[g+"Seconds"]())].join(":");g=d[g+"Milliseconds"]();h.milliseconds&&(b+="."+(100>g?"0":"")+c(g));if(h.zulu)b+="Z";else if("time"!=h.selector)var g=d.getTimezoneOffset(),a=Math.abs(g),b=b+((0<g?"-":"+")+c(Math.floor(a/60))+":"+c(a%60));e.push(b)}return e.join("T")};return k})},"klt/core/Deferred":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred"],
function(d,l,k){return k})},"jdash/layout/_LayoutWidget":function(){define("dojo/_base/lang ../ui/_WidgetBase ./_Container ../ui/Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),function(d,l,k,m,h,c,e,g){return h("jdash._LayoutWidget",[l,k],{isLayoutContainer:!0,buildRendering:function(){this.inherited(arguments)},startup:function(){if(!this._started){this.inherited(arguments);var b=this.getParent&&this.getParent();if(!b||!b.isLayoutContainer)this.resize(),this.own(m.on("resize",
d.hitch(this,"resize")))}},resize:function(b,a){var c=this.domNode;b&&e.setMarginBox(c,b);var f=a||{};d.mixin(f,b||{});if(!("h"in f)||!("w"in f))f=d.mixin(e.getMarginBox(c),f);var h=g.getComputedStyle(c),k=e.getMarginExtents(c,h),l=e.getBorderExtents(c,h),f=this._borderBox={w:f.w-(k.w+l.w),h:f.h-(k.h+l.h)},k=e.getPadExtents(c,h);this._contentBox={l:g.toPixelValue(c,h.paddingLeft),t:g.toPixelValue(c,h.paddingTop),w:f.w-k.w,h:f.h-k.h};this.layout()},layout:function(){},_setupChild:function(b){},addChild:function(b,
a){this.inherited(arguments);this._started&&this._setupChild(b)},removeChild:function(b){this.inherited(arguments)}})})},"jdash/core/declare":function(){define(["dojo/_base/declare"],function(d){return d})},"jdash/layout/OverDropMode":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/array dojo/dom-geometry ./MDropManager".split(" "),function(d,l,k,m,h){return l("jdash.layout.OverDropMode",null,{_oldXPoint:null,_oldYPoint:null,_oldBehaviour:"up",constructor:function(c){this._dragHandler=
[k.connect(c,"onDragEnter",function(e,d){-1==c._oldIndexArea&&(c._oldIndexArea=c._lastValidIndexArea)})]},addArea:function(c,e){var d=c.length,b=h.position(e.node,!0);e.coords={x:b.x,y:b.y};if(0==d)c.push(e);else{for(var a=e.coords.x,b=0;b<d;b++)if(a<c[b].coords.x){for(a=d-1;a>=b;a--)c[a+1]=c[a];c[b]=e;break}b==d&&c.push(e)}return c},updateAreas:function(c){for(var e=c.length,d=0;d<e;d++)this._updateArea(c[d])},_updateArea:function(c){var e=h.position(c.node,!0);c.coords.x=e.x;c.coords.x2=e.x+e.w;
c.coords.y=e.y},initItems:function(c){m.forEach(c.items,function(c){var d=h.position(c.item.node,!0);c.y=d.y+d.h/2});c.initItems=!0},refreshItems:function(c,e,d,b){if(-1!=e&&c&&d&&d.h){d=d.h;c.margin&&(d+=c.margin.t);for(var a=c.items.length;e<a;e++){var h=c.items[e];h.y=b?h.y+d:h.y-d}}},getDragPoint:function(c,e,d){return{x:d.x,y:d.y}},getTargetArea:function(c,e,d){var b=0,a=e.x,h=e.y,f=c.length,k=0,l="right",m=!1;-1==d||3>arguments.length?m=!0:this._checkInterval(c,d,a,h)?b=d:(this._oldXPoint<a?
k=d+1:(k=d-1,f=0,l="left"),m=!0);if(m)if("right"===l){for(;k<f;k++)if(this._checkInterval(c,k,a,h)){b=k;break}k==f&&(b=-1)}else{for(;k>=f;k--)if(this._checkInterval(c,k,a,h)){b=k;break}k==f-1&&(b=-1)}this._oldXPoint=a;return b},_checkInterval:function(c,e,d,b){var a=c[e];c=a.coords;e=c.x2;var h=c.y,a=h+a.node.offsetHeight;return c.x<=d&&d<=e&&h<=b&&b<=a?!0:!1},getDropIndex:function(c,e){var d=c.items.length,b=e.y;if(0<d)for(var a=0;a<d;a++){if(b<c.items[a].y)return a;if(a==d-1)break}return-1},destroy:function(){m.forEach(this._dragHandler,
k.disconnect)}})})},"jdash/core/CommandName":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(d,l){return{none:"none",maximize:"maximize",collapse:"collapse",restore:"restore",drop:"drop",remove:"remove",share:"share",about:"about",edit:"edit",menu:"menu",refresh:"refresh",visualState:"visualState",clone:"clone"}})},"klt/core/_DynamicViewHolderMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","require","dojo/_base/Deferred","dojo/when"],function(d,l,k,m,h){return d("klt.ui._DynamicViewHolderMixin",
null,{viewPath:null,viewParams:null,viewDomNode:null,isLoaded:!1,loadedView:null,_loadDefer:null,onLoad:function(){this.isLoaded=!0},destroyLoadedView:function(){this.loadedView&&l.isFunction(this.loadedView.destroyRecursive)&&this.loadedView.destroyRecursive();this.isLoaded=!1;delete this.loadedView},onLoadView:function(){},setView:function(c,e){var d=this;if(l.isString(c))d._loadDefer.reject(c);else try{l.isFunction(c)?d.loadedView=new c(d.viewParams,d.viewDomNode):d.loadedView=c;var b=e?null:d.loadedView.startup();
h(b,function(){d.onLoadView();d._loadDefer.resolve(d.loadedView)},function(a){d._loadDefer.reject(a)})}catch(a){d._loadDefer.reject(a)}},loadView:function(c){var d=this;k([this.viewPath],function(g){d.setView(g,c)},function(c){d._loadDefer.reject(c)})},refresh:function(c){this.loadedView&&this.destroyLoadedView();this.isLoaded=!1;this._loadDefer=new m;this.loadView(c);return this._loadDefer},destroyRecursive:function(){this.loadedView&&this.destroyLoadedView();this.inherited(arguments)}})})},"jdash/layout/StepMover":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/dnd/Mover","dojo/dnd/autoscroll"],function(d,l,k,m){return d("jdash.layout.StepMover",[k],{postscript:function(h){d.safeMixin(this,h)},onMouseMove:function(d){m.autoScroll(d);var c=this.marginBox,e=0>c.l+d.pageX?0:c.l+d.pageX,c=0>c.t+d.pageY?0:c.t+d.pageY;if(d.ctrlKey)this.host.onMove(this,{l:parseInt(e/this.stepSize)*this.stepSize,t:parseInt(c/this.stepSize)*this.stepSize});else this.host.onMove(this,{l:e,t:c});dojo.stopEvent(d)}})})},"jdash/ui/DashboardLoadLink":function(){define("./_WidgetBase dojo/_base/declare dojo/when ./registry ../model/DashletModel dojo/_base/lang".split(" "),
function(d,l,k,m,h,c){return l("jdash.ui.DashboardLoadLink",[d],{postCreate:function(){this.on("click",c.hitch(this,"click"));this.inherited(arguments)},click:function(){m.byId(this.dashboardView).load(this.dashboardId)}})})},"klt/core/ResourceManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred klt/core/when dojo/_base/array dojo/promise/all dojo/has dojo/ready".split(" "),function(d,l,k,m,h,c,e,g){return d("klt.ResourceManager",[],{knownResourcePaths:{},_initResources:[],
registerInitResource:function(b){this._initResources.push(b)},normalizeResourcePath:function(b){for(var a in this.knownResourcePaths)if(-1!==b.indexOf(a,b.length-a.length))return this.knownResourcePaths[a];return b},resourceType:function(b){if(-1!==b.indexOf(".js",b.length-3))return"js";if(-1!==b.indexOf(".css",b.length-4))return"css"},resetCache:function(b){if(this.resourceCache&&b)for(var a in this.resourceCache)this.unload(a,this.resourceCache[a].type);delete this.resourceCache},loadChecked:function(b,
a,c){a=a||this.resourceType(b);this.resourceCache=this.resourceCache||{};this.resourceCache[b]||(this.resourceCache[b]={requestCount:0,type:a});var d=this.resourceCache[b];if(this.isLoaded(b,a))d.requestCount+=1,c&&c.apply(null);else{if(b=this.load(b,a,c))d.requestCount+=1;return b}},unloadChecked:function(b,a){a=a||this.resourceType(b);this.resourceCache=this.resourceCache||{};var c=this.resourceCache[b];if(c){if(c.requestCount-=1,0>=c.requestCount)return delete this.resourceCache[b],this.unload(b,
a)}else return this.unload(b,a)},_init:function(){},_loadInitResources:function(){if(0<this._initResources.length){var b=[];h.forEach(this._initResources,function(a){var c=new k;b.push({path:a,defer:c});this.load(a,null,function(){h.forEach(b,function(b){b.path==a&&b.defer.resolve()})})},this);var a=[];h.forEach(b,function(b){a.push(b.defer)});var d=c(a);delete this._initResources;return d}},initCompleted:function(){return this._inited?!0:!1},initDefer:function(){return this._initDefer},init:function(b,
a){if(!this._inited&&!this._initInrogress){this._initDefer=new k;this._initInrogress=!0;var c=this;m(this._loadInitResources(b),function(){var d=c._init.apply(c,[b]);m(d,function(b){c._inited=!0;delete c._initInrogress;c._initDefer.resolve(b);a&&a.apply(c)},function(b){delete c._initInrogress;c._initDefer.reject(b);a&&a.apply(c,[b])})},function(b){delete c._initInrogress;c._initDefer.reject(b);a&&a.apply(c,[b])})}return this._initDefer},load:function(b,a,c){a=a||this.resourceType(b);if("js"==a){var d=
document.createElement("script");d.setAttribute("type","text/javascript");d.setAttribute("src",this.normalizeResourcePath(b))}else"css"==a&&(d=document.createElement("link"),d.setAttribute("rel","stylesheet"),d.setAttribute("type","text/css"),d.setAttribute("href",this.normalizeResourcePath(b)));if("undefined"!=typeof d){if(c)if(e("safari"))var g=this,h=setInterval(function(){-1!="complete".indexOf(document.readyState)&&(clearInterval(h),c.apply(g))},50);else d.addEventListener?d.addEventListener("load",
c,!1):d.onreadystatechange=function(){4==d.readyState&&c.apply(this)};document.getElementsByTagName("head")[0].appendChild(d)}return d},unload:function(b,a){a=a||this.resourceType(b);for(var c="js"==a?"src":"css"==a?"href":"none",d=document.getElementsByTagName("js"==a?"script":"css"==a?"link":"none"),e=[],g=d.length;0<=g;g--)d[g]&&(null!=d[g].getAttribute(c)&&-1!=d[g].getAttribute(c).indexOf(this.normalizeResourcePath(b)))&&(d[g].parentNode.removeChild(d[g]),e.push(d[g]));return e},createRef:function(b,
a){a=a||this.resourceType(b);if("js"==a){var c=document.createElement("script");c.setAttribute("type","text/javascript");c.setAttribute("src",this.normalizeResourcePath(b))}else"css"==a&&(c=document.createElement("link"),c.setAttribute("rel","stylesheet"),c.setAttribute("type","text/css"),c.setAttribute("href",this.normalizeResourcePath(b)));return c},isLoaded:function(b,a){a=a||this.resourceType(b);for(var c="js"==a?"src":"css"==a?"href":"none",d=document.getElementsByTagName("js"==a?"script":"css"==
a?"link":"none"),e=d.length;0<=e;e--)if(d[e]&&null!=d[e].getAttribute(c)&&-1!=d[e].getAttribute(c).indexOf(this.normalizeResourcePath(b)))return d[e]},replace:function(b,a,c){c=c||this.resourceType(b);b="js"==c?"src":"css"==c?"href":"none";for(var d=document.getElementsByTagName("js"==c?"script":"css"==c?"link":"none"),e=[],g=d.length;0<=g;g--)if(d[g]&&null!=d[g].getAttribute(b)&&-1!=d[g].getAttribute(b).indexOf(this.normalizeResourcePath(href))){var h=this.createRef(a,c);d[g].parentNode.replaceChild(h,
d[g]);e.push(d[g])}return e}})})},"jdash/ui/DashboardView":function(){define("dojo/i18n!../nls/language dojo/_base/declare dojo/_base/lang ./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/text!./templates/Dashboard.htm ../layout/LayoutManager ./registry dojo/_base/array ../layout/_Layout dojo/dom-construct dojo/dom-style ./DashletPane dojo/Deferred dojo/on ../core/DashletContext ../provider/JsonRest/JsonRestProvider ../provider/Manager dojo/json dojo/promise/all klt/core/when klt/core/messageBus ../layout/AbsoluteLayout ../layout/GridLayout ../core/DesignMode ./ThemeManager ./_ThemeMixin dojo/dom-class dojo/dom-geometry dojo/dom-attr ./Viewport klt/core/Dictionary ../layout/Section ../layout/MMoveable klt/core/WfPatch dojo/query dojo/_base/fx ./OverlayMixin dojo/has dojo/dom-form ./animation".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q,w,u,y,v,t,x,A,E,F,R,L,M,T,S,C,H,I,z,B,D,U,P,G,J,N,O){l=l("jdash.ui.DashboardView",[m,h,c,M,G],{animate:!0,animations:{"dashlet-added":"tada","dashlet-dropped":"swing","dashlet-removed":"bounceOutDown","dashlet-saved":"pulse","dashboard-loaded":"bounceInLeft"},themeTemplate:{template:"dashboard-{themeId}",styleTemplate:"dashboard-{themeStyleId}"},templateString:D.patch(e),postscript:function(a){a=a||{};a.provider||(a.provider=y.getInstance());a.designMode||
(a.designMode=R.none);a.animationDuration||(a.animationDuration=500);this.inherited(arguments)},_publish:function(a,b){return A.publish("jdash/dashboard/"+a,{sender:this,args:b||{}})},postCreate:function(){this.inherited(arguments);J("touch")&&T.add(this.domNode,"d-touch")},contextReady:function(a){var b=this.getContext(a),c=this;if(null==b){var d=new r,e=A.subscribe("jdash/dashboard/dashletCreated",function(b){b.sender==c&&b.args.result.context.model.id==a&&(e.remove(),d.resolve(b.args.result.context))});
return d}return b},_setDesignModeAttr:function(a){var b=this;return this._publish("designMode/changing",{designMode:a}).then(function(c){a=c.args.designMode||a;b._set("designMode",a);b._publish("designMode/changed",c.args)})},getContext:function(a){var b=this.dashletList||[],c;for(c in b){var d=b[c].context;if(d&&d.model.id==a)return d}return null},_createDashlet4Context:function(a,b){var c=a._initializePane(),d=this,e=new r;x(c,function(c){d.layout.addChild(c,a.model.position,b);setTimeout(function(){x(a._initializeDashlet(),
function(){var b={context:a};d.dashletList=d.dashletList||[];d.dashletList.push(b);d._publish("dashletCreated",{result:b});e.resolve(b)},function(a){e.reject(a);throw a;})})},function(a){e.reject(a);throw a;});return e},_checkSingleInstance:function(a){var b=!1;a.config.getDefault("singleInstance",!1)&&dojo.some(this.dashletList,function(c){c.context.module.id==a.id&&(b=!0);if(b)return!1});return b},_createDashlet:function(a,b,c){function d(a){if(e._checkSingleInstance(a))return null;a=e._createDashletContext(a,
b);return e._createDashlet4Context(a,c)}var e=this;return null==a?(a=this.provider.getDashletModule(b.moduleId),x(a,function(a){return d(a)})):d(a)},_setLayout:function(){if(!this.layout){for(var a=b.findWidgets(this.containerNode),c=null,d=0;d<a.length;d++)if(a[d]instanceof n){c=a[d];break}this._set("layout",c);this.layout.placeAt(this.containerNode)}if(!this.layout)throw Error("Dashboard Layout should be set either by declaratively or by using layout attribute");},_createLayout:function(a){var b=
g.get(a.type);a=k.mixin({dashboardView:this},a);return new b.Class(a)},_createInitialDashlets:function(b,c){var d=[],e=this;b=this.layout._sortInitialDashlets(b);a.forEach(b,function(a){var b=null;try{b=e._createDashlet(a.module,a,!1)}catch(c){}void 0!=b&&d.push(b)},this);return{deferList:d}},_setModelAttr:function(a){this._set("model",a);a._provider=this.provider},_doError:function(a){alert(a.message);throw a;},_removeDashlet:function(b){function c(){return x(d.layout.removeDashlet(e),function(){var b=
a.filter(d.dashletList,function(a){return a.context.pane==e});a.forEach(b,function(a){a=d.dashletList.indexOf(a);d.dashletList.splice(a,1)})})}var d=this,e=b.pane,f=new r;return this.animateAction(e.domNode,"dashlet-removed",function(a){x(c(),function(){f.resolve()},function(a){f.reject()});return f})?f:c()},_destroyDashlets:function(){this.dashletList&&(a.forEach(this.dashletList,function(a){a.context.destroy()},this),delete this.dashletList)},_hasDesignMode:function(b){var c=this.designMode,d=c==
R.full;d||a.forEach(arguments,function(a){a==c&&(d=!0)},this);return d},_validateDesignMode:function(){this._hasDesignMode.apply(this,arguments)||this._doError(Error("Invalid dashboard design mode"))},_createDashletContext:function(a,b){b=b||{};var c=this.layout.getPositionInfo(b.position).dashPos;b.set("position",c);c={};k.mixin(c,{dashboard:this,module:a,model:b});c=new w(c);this._publish("dashletContextCreated",{context:c});return c},createDashlet:function(a){this._validateDesignMode(R.dashboard,
R.dashboard);a._provider=this.provider;a.set("dashboardId",this.dashboardId);var b=this,c=new r;x(a.getModule(),function(d){if(b._checkSingleInstance(d))return null;var e=b.layout.getPositionInfo(a.position).dashPos;a.set("position",e);"undefined"==typeof a.title&&a.set("title",d.title);e=b.layout.fixPositions(e);b.provider.createDashlet(a,e).then(function(a){x(b._createDashlet(d,a),function(a){c.resolve(a);b._publish("newDashlet",{result:a})},function(a){c.reject(a);throw a;})},function(a){c.reject(a);
throw a;})},function(a){c.reject(a);throw a;});return c},unload:function(){this.isLoaded()&&(this._destroyDashlets(),this.unRegisterModuleNodes(),this.layout&&this.layout instanceof n&&this.layout.destroyRecursive(),delete this.layout,delete this.dashboardId,delete this.model,this._hideDomNode(),this._publish("unloaded"))},isLoaded:function(){return"undefined"!=typeof this.model},save:function(){return this.provider.saveDashboard(this.model)},unRegisterModuleNode:function(a,b){this._modulesNodes=
this._modulesNodes||[];if("undefined"==typeof b||!0==b)for(var c=0;c<this._modulesNodes.length;c++)if(this._modulesNodes[c].moduleNode==a){this._modulesNodes.splice(c,1);break}this.layout&&this.layout.unRegisterModuleNode(a);a.isDNDRegistered=!1},registerModuleNode:function(a,b,c){this._modulesNodes=this._modulesNodes||[];k.isObject(b)?(a={moduleNode:a,module:b,auto:c?!0:!1},this._modulesNodes.push(a)):(a={moduleNode:a,moduleId:b,auto:c?!0:!1},this._modulesNodes.push(a),this.layout&&this.layout.registerModuleNode(a))},
unRegisterModuleNodes:function(){for(this._modulesNodes=this._modulesNodes||[];this._modulesNodes.length;){var a=this._modulesNodes.pop();this.layout&&this.layout.unRegisterModuleNode(a)}},registerDomModuleNodes:function(){var b=U("[data-jdash-moduleid]");a.forEach(b,function(a){var b=C.get(a,"data-jdash-moduleid");this.registerModuleNode(a,b,!0)},this)},removeModuleNode:function(a){this.layout.removeModuleNode(a)},clearModuleNodes:function(){},getModuleNodes:function(){return this._modulesNodes||
[]},_hideDomNode:function(){p.set(this.domNode,"opacity","0")},_showDomNode:function(){p.set(this.domNode,"opacity","")},buildRendering:function(){this.inherited(arguments);this._hideDomNode()},startup:function(){this.inherited(arguments);this.bindEvents()},reload:function(){if(this.isLoaded()){var a=this.model;this.unload();this.load(a.id)}},changeLayout:function(b){var c=this,d=this.layout.getChildren(),e=[],f={};a.forEach(d,function(a){var d=c.layout._getChildNewPredefinedPosition(b,a,f);f[d.section]||
(f[d.section]={});f[d.section][d.zone]||(f[d.section][d.zone]={});f[d.section][d.zone].count?f[d.section][d.zone].count++:f[d.section][d.zone].count=1;e.push({id:a.context.id,position:c.layout.serializedDashletPos(d)})});g.get(this.layout.type);var h=new I,d=Object.keys(b.sections);a.forEach(d,function(c){var d=b.sections[c].zones,e=k.clone(b.sections[c]);delete e.zones;h.add(c,new z(e));e=Object.keys(d);a.forEach(e,function(a){h.item(c).addZone(a,d[a])})});this.model.layout.sections=h.serialized();
c=this;k.isFunction(this.provider.changeDashboardLayout)?x(this.provider.changeDashboardLayout(this.model.layout,0<e.length?e:null),function(){c.reload()},function(a){throw a;}):x(this.save(),function(){0<e.length?x(c.provider.updateDashletPositions(e),function(){c.reload()},function(a){throw a;}):c.reload()})},changePredefinedLayout:function(a){this.layout&&(a=this.layout.getPredefinedLayouts()[a-1],this.changeLayout(a))},bindEvents:function(){var a=this;this.subscribe("jdash/dashboard/newDashlet",
function(b){b.sender==a&&a.animateAction(b.args.result.context.pane.domNode,"dashlet-added")});this.subscribe("jdash/layout/dnd/dropped",function(b){var c=b.args.pane;b.sender==a.layout&&a.animateAction(c.domNode,"dashlet-dropped")});this.subscribe("jdash/dashlet/editor/saved",function(b){var c=b.sender.dashletContext.pane;b.sender.dashletContext.dashboard==a&&"save"==b.args.action&&a.animateAction(c.domNode,"dashlet-saved")});this.subscribe("jdash/dashboard/loading/completed",function(b){b.sender==
this&&a.animateAction(this.containerNode,"dashboard-loaded")})},animateAction:function(a,b,c){if(b=this.animations[b]){if(c)return O.css(a,b,c),!0;var d=new r;O.css(a,b,function(a){d.resolve(a)});return d}return null},load:function(b,c){if("undefined"==typeof b)throw Error("Should have id or model value");this._started||this.startup();this.isLoaded()&&this.unload();var e=b,f=this;k.isString(b)&&(e=this.provider.getDashboard(b));var g=null,h=new r;this._publish("loading/started",{defer:h});x(L.init(),
function(){var b=x(e,function(b){g=b;h.progress(d.StartingDashboardLoad);f.isLoaded()&&f.unload();f.set("model",b);var c=f._createLayout(b.layout);f.set("layout",c);c.placeAt(f.containerNode);c.startup();f._publish("layout/created",{layout:c,dashboard:f});f.registerDomModuleNodes();a.forEach(f._modulesNode,function(a){f.layout.registerModuleNode(a);f.layout.initilizeModuleNodes(f.getModuleNodes())},this);f._moduleNodesRegistered=!0;f.dashboardId=b.id;h.progress(d.RetreivingDashlets);return f.provider.getDashletsOfDashboard(f.dashboardId,
!0)},function(a){h.reject(a);throw a;});x(b,function(b){h.progress(d.CreatingDashlets);b=f._createInitialDashlets(b);b=t(b.deferList);return x(b,function(b){h.progress(d.DashletsCreated);b=a.map(b,function(a){return a.startupDefer});h.progress(d.StartingDashlets);t(b).then(function(a){c&&(h.progress(d.DashletsStarted),h.resolve(g))},function(a){c&&h.reject(a)});c||h.resolve(g)},function(a){h.reject(a);throw a;})},function(a){h.reject(a);throw a;})},function(a){h.reject(a);throw a;});h.then(function(){f._publish("loading/completed",
{model:f.model});f._showDomNode()},function(a){f._showDomNode()});return h},when:x,removeDashlet:function(a){return a.remove()},destroyRecursive:function(){this.unload();this.inherited(arguments)}});H.on("resize",function(){A.publish("klt/viewport/resized")});return l})},"jdash/layout/GridLayout":function(){define("../model/DashletPositionModel ../ui/_TemplatedMixin dojo/json ../ui/registry dojo/_base/declare dojo/_base/lang ./LayoutManager dojo/text!./templates/GridLayout.htm dojo/_base/array dojo/dom-class dojo/dom-construct dojo/query dojo/dom-attr dojo/dom-style ./_BaseDndLayout jdash/ui/ThemeManager require klt/core/WfPatch".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q,w,u){d=h("DDML",[r,l],{templateString:u.patch(g),sectionTag:"div",zoneTag:"div",dndEnabled:!1,getDefaultLayout:function(){this.hasDefaultLayout=!0;return{defaultSection:{zones:{zone1:{},zone2:{},zone3:{}}}}},_applySectionProps:function(b){a.add(b.domNode,"d-layout-grid-row")},_createSectionDom:function(a){return this.inherited(arguments)},_createZoneDom:function(a){return this.inherited(arguments)},_applyZoneProps:function(b){a.add(b.domNode,"d-layout-grid-four");
this.inherited(arguments)},_renderZone:function(a){this.inherited(arguments)},_renderSection:function(a){this.inherited(arguments)},addSection:function(a,b){var c=this.inherited(arguments);this._adjustZoneWidthHeight(c);return c},addZone:function(a,b,c){var d=this.inherited(arguments);this.dndManager.registerByNode(d.zone.domNode);this._adjustZoneWidthHeight(a);return d},_setZoneCss:function(c,d){var e="d-layout-grid-one d-layout-grid-two d-layout-grid-three d-layout-grid-four d-layout-grid-five d-layout-grid-six d-layout-grid-seven d-layout-grid-eight d-layout-grid-nine d-layout-grid-ten d-layout-grid-eleven d-layout-grid-twelve".split(" ");
b.forEach(e,function(b){a.contains(c,b)&&a.remove(c,b)});e=0==d||d>e.length?e[0]:e[d-1];this.hasDefaultLayout&&(e="d-layout-grid-four");a.add(c,e);a.add(c,"d-layout-grid-columns")},_adjustZoneWidthHeight:function(a){for(var b=a.value?a.value:a,c=b.zones.getIterator(),d=b.zones.count,e=0;c.get();)c.element.value.flex||(c.element.value.flex=1),e+=c.element.value.flex;for(var c=b.zones.getIterator(),f,b=12/e,e=0,g=1;c.get();)g!=d&&(f=Math.round(b*c.element.value.flex),e+=f,this._setZoneCss(c.element.value.domNode,
f)),f=c.element,g++;f&&this._setZoneCss(c.element.value.domNode,12-e);this.inherited(arguments)},removeZone:function(a){for(var b=this.sections.getIterator(),d=null,e=null;b.get();){b.element.value.zones.getIterator();if(c.isString(a))e=b.element.value.zones.item(a);else for(var f=b.element.value.zones.getIterator();f.get();)f.element.value==a&&(e=a);if(e){d=b.element;break}}e&&(this.dndManager.unregister(e.domNode),this.inherited(arguments),this._adjustZoneWidthHeight(d))},getPositionInfo:function(a){var b=
this.inherited(arguments);"undefined"==typeof b.dashPos.pos&&(b.dashPos.pos=0);return b},_positionChild:function(a,b,c){b=this.getPositionFromChild(a);var d=this.getPositionInfo(b);b=d.dashPos;d=d.zone||b.zone;c||this.updateChildPosition(a,b);this.dndEnabled?a.dragRestriction?this.dndEnabled||n.place(a.domNode,d.domNode,b.get("pos")):this.dndManager.addDragItem(d.domNode,a.domNode,b.get("pos"),!0):n.place(a.domNode,d.domNode,b.get("pos"))},destroy:function(){for(var a=this.sections.getIterator();a.get();)for(var b=
a.element.value.zones.getIterator();b.get();)this.dndManager.unregister(b.element.value.domNode);this.inherited(arguments)},_setColRowSpans:function(){},getLayoutRoot:function(){return this.containerDiv},getType:function(){return"grid"},postCreate:function(){this.inherited(arguments)},destroyRecursive:function(){this.inherited(arguments)},onDndCancel:function(a,b,c,d){this.inherited(arguments)},onDndDrop:function(a,b,c){document.body.style.cursor="default";return this.inherited(arguments)},_getDomPosition:function(a){for(var b=
0;b<a.parentNode.children.length;b++)if(a.parentNode.children[b]==a)return b;return 0},startup:function(){this.inherited(arguments)}});e.register("grid",d);return d})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(d,l,k){var m=d.some;return function(d){var c,e;d instanceof Array?e=d:d&&"object"===typeof d&&(c=d);var g,b=[];if(c){e=[];for(var a in c)Object.hasOwnProperty.call(c,a)&&(b.push(a),e.push(c[a]));g={}}else e&&(g=[]);if(!e||!e.length)return(new l).resolve(g);
var n=new l;n.promise.always(function(){g=b=null});var f=e.length;m(e,function(a,d){c||b.push(d);k(a,function(a){n.isFulfilled()||(g[b[d]]=a,0===--f&&n.resolve(g))},n.reject);return n.isFulfilled()});return n.promise}})},"jdash/provider/_ProviderMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(d,l){return d("jdash.provider._ProviderMixin",null,{onStartup:function(){},getDashboard:function(d){},searchDashboards:function(){},saveDashboard:function(d){},saveDashboard:function(d){},
deleteDashboard:function(d){},getDashlet:function(d){},searchDashlets:function(){},saveDashlet:function(d){},createDashlet:function(d,l){},deleteDashlet:function(d){},deleteDashlets:function(d){},updateDashletPositions:function(d){},getDashletModule:function(d){},searchDashletModules:function(){},searchDashletModules:function(d){},saveDashletModule:function(d){},createDashletModule:function(d){},deleteDashletModule:function(d){},getDashletsOfDashboard:function(d,l){},startup:function(){this._started=
!0}})})},"jdash/core/CommandType":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(d,l){return{visualState:"visualState",url:"url",builtIn:"builtIn",ajax:"ajax",editState:"editState",seperator:"seperator"}})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(d,l,k,m,h,c,e){l.add("rtl-adjust-position-for-verticalScrollBar",function(b,a){var c=k.body(a),d=e.create("div",{style:{overflow:"scroll",
overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},c,"last"),g=e.create("div",{style:{overflow:"hidden",direction:"ltr"}},d,"last"),l=0!=h.position(g).x;d.removeChild(g);c.removeChild(d);return l});l.add("position-fixed-support",function(b,a){var c=k.body(a),d=e.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},c,"last"),g=e.create("span",{style:{position:"fixed",left:"0",top:"0"}},d,"last"),l=h.position(g).x!=
h.position(d).x;d.removeChild(g);c.removeChild(d);return l});var g={getBox:function(b){b=b||k.doc;var a="BackCompat"==b.compatMode?k.body(b):b.documentElement,c=h.docScroll(b);if(l("touch")){var d=g.get(b);b=d.innerWidth||a.clientWidth;a=d.innerHeight||a.clientHeight}else b=a.clientWidth,a=a.clientHeight;return{l:c.x,t:c.y,w:b,h:a}},get:function(b){if(l("ie")&&g!==document.parentWindow){b.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var a=b._parentWindow;b._parentWindow=
null;return a}return b.parentWindow||b.defaultView},scrollIntoView:function(b,a){try{b=m.byId(b);var d=b.ownerDocument||k.doc,e=k.body(d),g=d.documentElement||e.parentNode,s=l("ie"),r=l("webkit");if(!(b==e||b==g))if(!l("mozilla")&&(!s&&!r&&!l("opera")&&!l("trident"))&&"scrollIntoView"in b)b.scrollIntoView(!1);else{var q="BackCompat"==d.compatMode,w=Math.min(e.clientWidth||g.clientWidth,g.clientWidth||e.clientWidth),u=Math.min(e.clientHeight||g.clientHeight,g.clientHeight||e.clientHeight),d=r||q?e:
g,y=a||h.position(b),v=b.parentNode,r=function(a){return 6>=s||7==s&&q?!1:l("position-fixed-support")&&"fixed"==c.get(a,"position").toLowerCase()};if(!r(b))for(;v;){v==e&&(v=d);var t=h.position(v),x=r(v),A="rtl"==c.getComputedStyle(v).direction.toLowerCase();if(v==d){t.w=w;t.h=u;d==g&&(s&&A)&&(t.x+=d.offsetWidth-t.w);if(0>t.x||!s||9<=s)t.x=0;if(0>t.y||!s||9<=s)t.y=0}else{var E=h.getPadBorderExtents(v);t.w-=E.w;t.h-=E.h;t.x+=E.l;t.y+=E.t;var F=v.clientWidth,R=t.w-F;0<F&&0<R&&(A&&l("rtl-adjust-position-for-verticalScrollBar")&&
(t.x+=R),t.w=F);F=v.clientHeight;R=t.h-F;0<F&&0<R&&(t.h=F)}x&&(0>t.y&&(t.h+=t.y,t.y=0),0>t.x&&(t.w+=t.x,t.x=0),t.y+t.h>u&&(t.h=u-t.y),t.x+t.w>w&&(t.w=w-t.x));var L=y.x-t.x,M=y.y-t.y,T=L+y.w-t.w,S=M+y.h-t.h,C,H;if(0<T*L&&(v.scrollLeft||v==d||v.scrollWidth>v.offsetHeight)){C=Math[0>L?"max":"min"](L,T);if(A&&(8==s&&!q||9<=s))C=-C;H=v.scrollLeft;v.scrollLeft+=C;C=v.scrollLeft-H;y.x-=C}if(0<S*M&&(v.scrollTop||v==d||v.scrollHeight>v.offsetHeight))C=Math.ceil(Math[0>M?"max":"min"](M,S)),H=v.scrollTop,v.scrollTop+=
C,C=v.scrollTop-H,y.y-=C;v=v!=d&&!x&&v.parentNode}}}catch(I){console.error("scrollIntoView: "+I),b.scrollIntoView(!1)}}};d.setObject("dojo.window",g);return g})},"jdash/model/DashboardModel":function(){define("dojo/_base/declare dojo/_base/lang ./../ui/_DomMixin dojo/json ./ModelBase ./ConfigModel ../layout/_Layout ./MetadataModel".split(" "),function(d,l,k,m,h,c,e,g){return d("jdash.model.DashboardModel",[h,k],{_createConfig:function(b,a){return b=new c({data:b,_serialized:a})},postscript:function(b){b=
b||{};if("undefined"==typeof b.layout)throw Error("Dashboard should have a layout");b.layout instanceof e?b.layout=b.layout.serialized():l.isString(b.layout)&&(b.layout={type:b.layout});b.metaData&&!(b.metaData instanceof g)&&(b.metaData=new g(b.metaData));b.config=this._createConfig(b.config,b._serialized);b.paneConfig=this._createConfig(b.paneConfig,b._serialized);this.inherited(arguments,[b])},serialized:function(){var b=this.inherited(arguments);l.mixin(b,{id:this.id,title:this.title,layout:this.layout,
config:this.config.serialized(),paneConfig:this.paneConfig.serialized(),metaData:this.metaData?this.metaData.serialized():null});0==b.config.length&&delete b.config;0==b.paneConfig.length&&delete b.paneConfig;return b}})})},"jdash/ui/DashletCreateLink":function(){define("./_WidgetBase dojo/_base/declare dojo/when ./registry ../model/DashletModel dojo/_base/lang".split(" "),function(d,l,k,m,h,c){return l("jdash.ui.DashletCreateLink",[d],{postCreate:function(){this.on("click",c.hitch(this,"click"));
this.inherited(arguments)},click:function(){var c=m.byId(this.dashboardView),d=c.provider.getDashletModule(this.moduleId);k(d,function(b){b=new h({module:b});k(c.createDashlet(b),function(){},function(a){})},function(b){})}})})},"jdash/layout/Section":function(){define("dojo/_base/declare dojo/_base/lang ./_LayoutItem ./Zone dojo/_base/array klt/core/Dictionary".split(" "),function(d,l,k,m,h,c){return d([k],{addZone:function(d,g){this.zones=this.zones||new c;l.mixin(g,{_parentLayout:this._parentLayout,
_parentSection:this});var b=new m(g);this.zones.add(d,b);return b},postscript:function(e){this.zones=new c;if(e&&l.isObject(e.zones)){var g=e.zones;delete e.zones;for(var b in g)this.addZone(b,g[b])}d.safeMixin(this,e)},serialized:function(){var c=this.inherited(arguments);return l.mixin(c,{zones:this.zones.serialized(),title:this.title})},clone:function(){return l.clone(this.serialized())}})})},"jdash/ui/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window klt/core/Destroyable ./registry".split(" "),
function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q,w,u,y,v,t,x){function A(a){return function(b){g[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}p.add("dojo-bidi",!1);var E={};return c([u,t],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:A("lang"),dir:"",_setDirAttr:A("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},
attributeMap:{},_blankGif:m.blankGif||d.toUrl("dojo/resources/blank.gif"),postscript:function(a,b){this.create(a,b)},create:function(a,b){this.srcNodeRef=e.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,r.mixin(this,a));this.postMixInProperties();this.id||(this.id=x.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||(this.srcNodeRef?
this.srcNodeRef.ownerDocument:v.doc);this.ownerDocumentBody=v.body(this.ownerDocument);x.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&(d.parentNode&&this.domNode!==d)&&(d.parentNode.replaceChild(this.domNode,d),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a=this.constructor,b=a._setterAttrs;if(!b){var b=a._setterAttrs=[],c;for(c in this.attributeMap)b.push(c);
var a=a.prototype,d;for(d in a)d in this.attributeMap||"_set"+d.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&b.push(d)}var e={},f;for(f in this.params||{})e[f]=this._get(f);l.forEach(b,function(a){a in e||this[a]&&this.set(a,this._get(a))},this);for(f in e)this.set(f,e[f])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");
this.isLeftToRight()||(a=a.concat(l.map(a,function(a){return a+"Rtl"})));b.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,l.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&r.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=
!0;this.uninitialize();l.forEach(this._connects,r.hitch(this,"disconnect"));l.forEach(this._supportingWidgets,b);this.domNode&&l.forEach(x.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);x.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);this.domNode&&(b?g.remove(this.domNode,"widgetId"):a.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},
destroyDescendants:function(a){l.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;r.isObject(a)?f.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,c,d){d=3<=arguments.length?d:this.attributeMap[a];l.forEach(r.isArray(d)?d:[d],function(d){var e=this[d.node||d||"domNode"];switch(d.type||"attribute"){case "attribute":r.isFunction(c)&&
(c=r.hitch(this,c));d=d.attribute?d.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;e.tagName?g.set(e,d,c):e.set(d,c);break;case "innerText":e.innerHTML="";e.appendChild(this.ownerDocument.createTextNode(c));break;case "innerHTML":e.innerHTML=c;break;case "class":b.replace(e,c,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);
var d=this[c.s];if(r.isFunction(d))var e=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!r.isFunction(this.focusNode)?"focusNode":"domNode",f=this[d]&&this[d].tagName,g;if(g=f)if(!(g=E[f])){g=this[d];var h={},k;for(k in g)h[k.toLowerCase()]=!0;g=E[f]=h}k=g;c=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:k&&c.l in k&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?d:null;null!=c&&this._attrToDom(a,b,c);this._set(a,b)}return e||this},_attrPairNames:{},
_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;this._created&&b!==c&&(this._watchCallbacks&&this._watchCallbacks(a,c,b),this.emit("attrmodified-"+a,{detail:{prevValue:c,newValue:b}}))},_get:function(a){return this[a]},emit:function(a,b,c){b=b||{};void 0===b.bubbles&&
(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var d,e=this["on"+a];e&&(d=e.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&q.emit(this.domNode,a.toLowerCase(),b);return d},on:function(a,b){var c=this._onMap(a);return c?k.after(this,c,b,!0):this.own(q(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},d;for(d in b.prototype)/^on/.test(d)&&(c[d.replace(/^on/,"").toLowerCase()]=d)}return c["string"==
typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?x.findWidgets(this.containerNode):[]},getParent:function(){return x.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,c){return this.own(h.connect(a,b,this,c))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(y.subscribe(a,r.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?
"ltr"==this.dir:n.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=f.get(this.domNode,"display")},placeAt:function(b,c){var d=!b.tagName&&x.byId(b);d&&d.addChild&&(!c||"number"===typeof c)?d.addChild(this,c):(d=d?d.containerNode&&!/after|before|replace/.test(c||"")?d.containerNode:d.domNode:e.byId(b,this.ownerDocument),a.place(this.domNode,d,c),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,b){var c=setTimeout(r.hitch(this,
function(){c=null;this._destroyed||r.hitch(this,a)()}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}})})},"jdash/ui/OverlayMixin":function(){define("dojo/_base/declare dojo/_base/lang ./_WidgetBase dojo/on dojo/dom-construct dojo/query dojo/dom-class dojo/dom-style dojo/_base/Deferred dojo/_base/array dojo/json require dojo/dom-geometry dojo/has ./Viewport klt/core/messageBus".split(" "),function(d,l,k,m,h,c,e,g,b,a,n,f,p,s,r,q){return d("jdash.ui.OverlayMixin",null,{overlayNode:null,
overlayClass:"d-mask",destroyRecorsive:function(){this.hideOverlay();this.inherited(arguments)},hideOverlay:function(){this.overlayNode&&h.destroy(this.overlayNode);this.overlayNode=null;this.resizeHandler&&this.resizeHandler.remove()},overlayVisible:function(){return null!=this.overlayNode},resizeOverlay:function(a){if(this.overlayVisible()){var b=g.getComputedStyle(a);a=p.getMarginBox(a,b);p.setMarginBox(this.overlayNode,a)}},setOverlayDefer:function(a){this.showOverlay();var b=this;a.then(function(){b.hideOverlay()},
function(){b.hideOverlay()})},showOverlay:function(a){if(!this.overlayVisible()){a=a||this.domNode;this.overlayNode=h.create("div");e.add(this.overlayNode,this.overlayClass);this.resizeOverlay(a);h.place(this.overlayNode,a,0);var b=this;this.resizeHandler||(this.resizeHandler=q.subscribe("klt/viewport/resized",function(){b.resizeOverlay(a)}))}}})})},"jdash/ui/DashboardTitle":function(){define(["./_WidgetBase","dojo/_base/declare"],function(d,l){return l("jdash.ui.DashboardTitle",[d],{buildRendering:function(){this.inherited(arguments);
this.initialContent&&(this.domNode.innerHTML=this.initialContent)},postCreate:function(){var d=this;this.subscribe("jdash/dashboard/loading/completed",function(l){l.sender.id==d.dashboardView&&(d.domNode.innerHTML=l.args.model.title)});this.subscribe("jdash/dashboard/unloaded",function(l){l.sender.id==d.dashboardView&&(d.domNode.innerHTML=d.initialContent?d.initialContent:"")});this.inherited(arguments)}})})},"jdash/ui/linker":function(){define("dojo/dom-construct dojo/_base/lang dojo/dom-attr dojo/query dojo/on dojo/json dojo/_base/array dojo/_base/window".split(" "),
function(d,l,k,m,h,c,e,g){var b={createControl:function(a,b,c,d){for(var e in b)if(paramValue=b[e],d.paramsReplace){var g=d.paramsReplace[e];"undefined"!=typeof g&&(paramValue=b[e]=g)}return new a(b,c)},link:function(a,d){a=a||g.body();d=d||{};var f=[];m("[data-jdash-type]",a).forEach(function(a){var e=k.get(a,"data-jdash-type");if(e=l.getObject(e)){var g=c.parse(k.get(a,"data-jdash-params"));try{var h=b.createControl(e,g,a,d);f.push(h)}catch(m){}k.remove(a,"data-jdash-type");k.remove(a,"data-jdash-params")}});
e.forEach(f,function(a){if(l.isFunction(a.startup))try{a.startup()}catch(b){}},this);return f}};l.setObject("jdash.ui.linker",b);return b})},"jdash/jdash":function(){define([],1)},"jdash/model/ConfigModel":function(){define("dojo/_base/declare dojo/_base/lang klt/core/Dictionary dojo/json ./ModelBase dojo/_base/array dojo/when klt/core/DictionarySerializationMode".split(" "),function(d,l,k,m,h,c,e,g){return d("jdash.model.ConfigModel",[h],{serializationMode:g.object,constructor:function(){this._buffer=
{}},remove:function(b){delete this._buffer[b];delete this[b]},set:function(b,a,c){if("object"===typeof b){for(var d in b)b.hasOwnProperty(d)&&this.set(d,b[d]);return this}var g=this;return c||this.hasUpdated(b,a)?e(this.inherited(arguments),function(){"undefined"==typeof a?g.remove(b):g._buffer[b]=a}):null},toPlainObject:function(){return l.clone(this._buffer)},postscript:function(b){b=b||{};scope=b._scope||this;var a="undefined"!=typeof b.data,c=b.data||[];delete b.data;delete b._serialized;fn=b._fn||
function(a){return a};delete b._fn;delete b._scope;if(a)for(var d in c)b[d]=fn.call(scope,c[d]),this._buffer[d]=b[d];else for(var e in b)b[e]=fn.call(scope,b[e]),this._buffer[e]=b[e];this.inherited(arguments,[b])},serialized:function(b,a){a=a||this;b=b||function(a){return a&&l.isFunction(a.serialized)?a.serialized():a};var c=null,c=this.serializationMode==g.object?{}:[],d;for(d in this._buffer)void 0!=this._buffer[d]&&(this.serializationMode==g.object?c[d]=b.call(a,this._buffer[d]):c.push({Key:d,
Value:b.call(a,this._buffer[d])}));return c}})})},"klt/core/DictionaryBaseUtil":function(){define(["dojo/_base/kernel","dojo/_base/array","./DictionaryBase"],function(d,l,k){k.Dictionary=function(l){var h={};this.count=0;var c={};this.add=function(c,d){var b=c in h;h[c]=new k.DictionaryEntry(c,d);b||this.count++};this.clear=function(){h={};this.count=0};this.clone=function(){return new k.Dictionary(this)};this.contains=this.containsKey=function(d){return c[d]?!1:null!=h[d]};this.containsValue=function(c){for(var d=
this.getIterator();d.get();)if(d.element.value==c)return!0;return!1};this.entry=function(c){return h[c]};this.forEach=function(e,g){var b=[],a;for(a in h)c[a]||b.push(h[a]);d.forEach(b,e,g)};this.getKeyList=function(){return this.getIterator().map(function(c){return c.key})};this.getValueList=function(){return this.getIterator().map(function(c){return c.value})};this.item=function(c){if(c in h)return h[c].valueOf()};this.getIterator=function(){return new k.DictionaryIterator(h)};this.remove=function(d){return d in
h&&!c[d]?(delete h[d],this.count--,!0):!1};if(l)for(l=l.getIterator();l.get();)this.add(l.element.key,l.element.value)};return k.Dictionary})},"jdash/ui/_BidiMixin":function(){define([],function(){return{textDir:"",getTextDir:function(d){return"auto"==this.textDir?this._checkContextual(d):this.textDir},_checkContextual:function(d){return(d=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(d))?"z">=d[0]?"ltr":"rtl":this.dir?this.dir:this.isLeftToRight()?"ltr":"rtl"},
applyTextDir:function(d,l){if(this.textDir){var k=this.textDir;"auto"==k&&("undefined"===typeof l&&(k=d.tagName.toLowerCase(),l="input"==k||"textarea"==k?d.value:d.innerText||d.textContent||""),k=this._checkContextual(l));d.dir!=k&&(d.dir=k)}},enforceTextDirWithUcc:function(d,l){return this.textDir?(d&&(d.originalText=l),("ltr"==("auto"==this.textDir?this._checkContextual(l):this.textDir)?"\u202a":"\u202b")+l+"\u202c"):l},restoreOriginalText:function(d){d.originalText&&(d.text=d.originalText,delete d.originalText);
return d},_setTextDirAttr:function(d){if(!this._created||this.textDir!=d)this._set("textDir",d),d=null,this.displayNode?(d=this.displayNode,this.displayNode.align="rtl"==this.dir?"right":"left"):d=this.textDirNode||this.focusNode||this.textbox,d&&this.applyTextDir(d)}}})},"jdash/ui/Viewport":function(){define("dojo/Evented dojo/on dojo/domReady dojo/sniff dojo/_base/window dojo/window".split(" "),function(d,l,k,m,h,c){var e=new d;k(function(){var d=c.getBox();e._rlh=l(h.global,"resize",function(){var a=
c.getBox();d.h==a.h&&d.w==a.w||(d=a,e.emit("resize"))});if(8==m("ie")){var b=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=b&&(b=screen.deviceXDPI,e.emit("resize"))},500)}});return e})},"url:jdash/layout/templates/GridLayout.htm":'\ufeff\x3cdiv class\x3d"d-layout d-layout-grid" data-dojo-attach-point\x3d"containerNode" tabindex\x3d"0"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"maximizeNode" class\x3d"maximizeNode" style\x3d"display: none;"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"d-layout-container" data-dojo-attach-point\x3d"containerDiv"\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:jdash/ui/templates/DashletPane.htm":'\ufeff\x3cdiv id\x3d"d_pane${id}" class\x3d"d-dashlet-pane d-pane"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"dashletHeader" class\x3d"d-dashlet-header d-header"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"dashletCommands" class\x3d"d-dashlet-commands d-commands"\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"d-dashlet-title d-title" data-dojo-attach-point\x3d"dashletTitle"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"d-dashlet-body d-body"\x3e\r\n        \x3cdiv class\x3d"d-editor-container d-container" data-dojo-attach-point\x3d"dashletEditorContainer" style\x3d"display: none"\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"d-dashlet-container d-container" data-dojo-attach-point\x3d"dashletContent" id\x3d"dashlet_content${id}"\x3e\r\n            \x3cdiv class\x3d"d-dashlet-content d-content" data-dojo-attach-point\x3d"containerNode"\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:jdash/ui/templates/Button.htm":'\ufeff\x3ca class\x3d"d-btn d-btn-default" data-dojo-attach-event\x3d"onclick: _onClick"\x3e\x3ci class\x3d"d-icon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/i\x3e\x3cspan data-dojo-attach-point\x3d"labelNode"\x3e\x3c/span\x3e\x3c/a\x3e',"url:jdash/ui/templates/DashletEditorWindow.htm":'\ufeff\x3cdiv class\x3d"d-editor-window d-window"\x3e\r\n        \x3cdiv class\x3d"d-window-header d-header"\x3e\r\n        \x3cdiv class\x3d"d-window-title d-title" data-dojo-attach-point\x3d"windowtitle"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"d-window-body d-body"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"d-editor-content d-content"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"d-editor-footer d-footer" data-dojo-attach-point\x3d"footerNode"\x3e\r\n        \x3ca data-dojo-type\x3d"jdash.ui.Button" data-dojo-attach-event\x3d"onClick:_onSave" data-dojo-attach-point\x3d"saveBtn"\x3eSave\x3c/a\x3e\r\n        \x3ca data-dojo-type\x3d"jdash.ui.Button" class\x3d".d-btn-default" \r\n            data-dojo-attach-event\x3d"onClick:_onApply" data-dojo-attach-point\x3d"applyBtn"\x3eApply\x3c/a\x3e\r\n        \x3ca data-dojo-type\x3d"jdash.ui.Button" class\x3d".d-btn-default" \r\n            data-dojo-attach-event\x3d"onClick:_onCancel" data-dojo-attach-point\x3d"cancelBtn"\x3eCancel\x3c/a\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:jdash/ui/templates/DashletEditView.htm":'\ufeff\x3cdiv class\x3d"d-editor"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"d-editor-content d-content"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"d-editor-footer d-footer" data-dojo-attach-point\x3d"footerNode"\x3e\r\n        \x3ca data-dojo-type\x3d"jdash.ui.Button"\r\n            data-dojo-attach-event\x3d"onClick:_onSave" data-dojo-attach-point\x3d"saveBtn"\x3eSave\x3c/a\x3e\r\n        \x3ca data-dojo-type\x3d"jdash.ui.Button"\r\n            data-dojo-attach-event\x3d"onClick:_onApply" data-dojo-attach-point\x3d"applyBtn"\x3eApply\x3c/a\x3e\r\n        \x3ca data-dojo-type\x3d"jdash.ui.Button"\r\n            data-dojo-attach-event\x3d"onClick:_onCancel" data-dojo-attach-point\x3d"cancelBtn"\x3eCancel\x3c/a\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:jdash/ui/templates/Dashboard.htm":'\ufeff\x3cdiv class\x3d"d-dashboard"\x3e\r\n    \x3cdiv class\x3d"d-dashboard-content d-content" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"d-dashboard-footer"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:jdash/layout/templates/AbsoluteLayout.htm":'\ufeff\x3cdiv id\x3d"${id}" class\x3d"d-layout-absolute" data-dojo-attach-point\x3d"containerNode" tabindex\x3d"0"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"layoutContainerDiv"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"maximizeNode" class\x3d"maximizedDashletContainer"\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"d-layout-container" data-dojo-attach-point\x3d"containerDiv" \x3e\r\n\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:jdash/ui/templates/MenuItem.html":'\ufeff\x3ca data-dojo-attach-event\x3d"onclick:onClick"\x3e${label}\x3c/a\x3e\r\n',"url:jdash/ui/templates/ModuleAvatar.html":"\ufeff\x3cdiv\x3e\r\n    \x3ca data-dojo-attach-point\x3d\"btn\" data-dojo-type\x3d\"jdash.ui.Button\" \r\n        data-dojo-props\x3d\"float:'left', mini:true, label:'${module.title}',corners: 'all', iconClass:'d-icon-plus'\"\r\n        data-dojo-attach-event\x3d\"onClick: _createDashlet\"\x3e\x3c/a\x3e\r\n\x3c/div\x3e\r\n","*now":function(d){d(['dojo/i18n!*preload*jdash/nls/jdash*["ar","az","ca","cs","da","de","el","es","fi","fr","he","hr","hu","it","ja","kk","ko","nb","nl","pl","pt","pt-pt","ro","ru","sk","sl","sv","th","tr","zh","zh-tw","ROOT"]'])}}});
(function(){var d=this.require;d({cache:{}});!d.async&&d(["dojo"]);d.boot&&d.apply(null,d.boot)})();
//@ sourceMappingURL=jdash.js.map